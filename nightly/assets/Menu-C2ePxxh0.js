import{m as l,p as u,a as _,s as P,v as E,z as O,k as o,q as h,S as C,x as D,A as I,y as B}from"./withWebComponent-D2290JWW.js";import{d as N}from"./slot-_4yKMUwC.js";import{l as m}from"./event-strict-DgQLNDEV.js";import{K as b,c as $,b as T}from"./Keys-CAuuEE_3.js";import{i as k}from"./i18n-DEVDpFvK.js";import"./slim-arrow-right-BHNRKwMo.js";import{e as R}from"./Popover-D4qFMFR_.js";import{R as L}from"./ResponsivePopover-D-Js_a1v.js";import{a as A}from"./Button-B25Pr19o.js";import{e as j,d as z}from"./List-iVJpcOGI.js";import{B as x}from"./BusyIndicator-DeXFd7cw.js";import{M as K}from"./MenuItem-C4bxzvnK.js";import{o as g}from"./class-map-BHSYgJ9u.js";import{s as S}from"./parameters-bundle.css-DlWxkghp.js";import{L as U}from"./ListItemCustom-CUzeWd_b.js";import{f as q,g as W}from"./i18n-defaults-B_32hVC3.js";function G(n,e,t){return t?l`<${u("ui5-li-custom",e,t)} class="${g(this.classes.main)}" role="separator" disabled></${u("ui5-li-custom",e,t)}>`:l`<ui5-li-custom class="${g(this.classes.main)}" role="separator" disabled></ui5-li-custom>`}_("@ui5/webcomponents-theming","sap_horizon",async()=>P);_("@ui5/webcomponents","sap_horizon",async()=>S);const H={packageName:"@ui5/webcomponents",fileName:"themes/MenuSeparator.css.ts",content:`:host{border-top:.0625rem solid var(--sapGroup_ContentBorderColor);min-height:.125rem}.ui5-menu-separator{border:inherit;min-height:inherit;background:inherit;opacity:1}
`};var V=function(n,e,t,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,s);else for(var d=n.length-1;d>=0;d--)(a=n[d])&&(i=(r<3?a(i):r>3?a(e,t,i):a(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i};let f=class extends j{get isSeparator(){return!0}get classes(){return{main:{"ui5-menu-separator":!0}}}get _focusable(){return!1}get _pressable(){return!1}};f=V([E({tag:"ui5-menu-separator",renderer:O,styles:[H],template:G,dependencies:[U]})],f);f.define();const Y=f;function F(n,e,t){return t?l`<${u("ui5-responsive-popover",e,t)} id="${o(this._id)}-menu-rp" class="ui5-menu-rp" horizontal-align="Start" placement="Bottom" vertical-align="Bottom" .opener=${o(this.opener)} ?open=${this.open} prevent-initial-focus hide-arrow allow-target-overlap accessible-name=${o(this.acessibleNameText)} @ui5-before-open=${o(this._beforePopoverOpen)} @ui5-open=${o(this._afterPopoverOpen)} @ui5-before-close=${o(this._beforePopoverClose)} @ui5-close=${o(this._afterPopoverClose)}>${this.isPhone?y.call(this,n,e,t):void 0}<div id="${o(this._id)}-menu-main">${this.items.length?w.call(this,n,e,t):M.call(this,n,e,t)}</div></${u("ui5-responsive-popover",e,t)}>`:l`<ui5-responsive-popover id="${o(this._id)}-menu-rp" class="ui5-menu-rp" horizontal-align="Start" placement="Bottom" vertical-align="Bottom" .opener=${o(this.opener)} ?open=${this.open} prevent-initial-focus hide-arrow allow-target-overlap accessible-name=${o(this.acessibleNameText)} @ui5-before-open=${o(this._beforePopoverOpen)} @ui5-open=${o(this._afterPopoverOpen)} @ui5-before-close=${o(this._beforePopoverClose)} @ui5-close=${o(this._afterPopoverClose)}>${this.isPhone?y.call(this,n,e,t):void 0}<div id="${o(this._id)}-menu-main">${this.items.length?w.call(this,n,e,t):M.call(this,n,e,t)}</div></ui5-responsive-popover>`}function y(n,e,t){return t?l`<div slot="header" class="ui5-menu-dialog-header"><div class="ui5-menu-dialog-title"><div>${o(this.headerText)}</div></div><${u("ui5-button",e,t)} icon="decline" design="Transparent" aria-label="${o(this.labelClose)}" @click=${this._close}></${u("ui5-button",e,t)}></div>`:l`<div slot="header" class="ui5-menu-dialog-header"><div class="ui5-menu-dialog-title"><div>${o(this.headerText)}</div></div><ui5-button icon="decline" design="Transparent" aria-label="${o(this.labelClose)}" @click=${this._close}></ui5-button></div>`}function w(n,e,t){return t?l`<${u("ui5-list",e,t)} id="${o(this._id)}-menu-list" selection-mode="None" ?loading="${this.loading}" loading-delay="${o(this.loadingDelay)}" separators="None" accessible-role="Menu" @ui5-item-click=${o(this._itemClick)} @ui5-close-menu=${o(this._close)} @mouseover=${this._itemMouseOver} @keydown=${this._itemKeyDown}><slot></slot></${u("ui5-list",e,t)}>`:l`<ui5-list id="${o(this._id)}-menu-list" selection-mode="None" ?loading="${this.loading}" loading-delay="${o(this.loadingDelay)}" separators="None" accessible-role="Menu" @ui5-item-click=${o(this._itemClick)} @ui5-close-menu=${o(this._close)} @mouseover=${this._itemMouseOver} @keydown=${this._itemKeyDown}><slot></slot></ui5-list>`}function M(n,e,t){return l`${this.loading?J.call(this,n,e,t):void 0}`}function J(n,e,t){return t?l`<${u("ui5-busy-indicator",e,t)} id="${o(this._id)}-menu-busy-indicator" delay="${o(this.loadingDelay)}" class="ui5-menu-busy-indicator" active></${u("ui5-busy-indicator",e,t)}>`:l`<ui5-busy-indicator id="${o(this._id)}-menu-busy-indicator" delay="${o(this.loadingDelay)}" class="ui5-menu-busy-indicator" active></ui5-busy-indicator>`}_("@ui5/webcomponents-theming","sap_horizon",async()=>P);_("@ui5/webcomponents","sap_horizon",async()=>S);const Q={packageName:"@ui5/webcomponents",fileName:"themes/Menu.css.ts",content:`.ui5-menu-rp[ui5-responsive-popover]::part(header),.ui5-menu-rp[ui5-responsive-popover]::part(content),.ui5-menu-rp[ui5-responsive-popover]::part(footer){padding:0}.ui5-menu-rp[ui5-responsive-popover]{box-shadow:var(--sapContent_Shadow1);border-radius:var(--_ui5-v2-5-0_menu_popover_border_radius)}.ui5-menu-busy-indicator{width:100%}.ui5-menu-dialog-header{display:flex;height:var(--_ui5-v2-5-0-responsive_popover_header_height);align-items:center;justify-content:space-between;padding:0px 1rem;width:100%;overflow:hidden}.ui5-menu-dialog-title{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:calc(100% - 6.5rem);padding-right:1rem}.ui5-menu-dialog-title>div{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ui5-menu-back-button{margin-right:1rem}
`};var c=function(n,e,t,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,s);else for(var d=n.length-1;d>=0;d--)(a=n[d])&&(i=(r<3?a(i):r>3?a(e,t,i):a(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i},v;const X=300;let p=v=class extends C{constructor(){super(...arguments),this.open=!1,this.loading=!1,this.loadingDelay=1e3}get isRtl(){return this.effectiveDir==="rtl"}get labelClose(){return v.i18nBundle.getText(q)}get isPhone(){return D()}get _popover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}get _menuItems(){return this.items.filter(e=>!e.isSeparator)}get acessibleNameText(){return v.i18nBundle.getText(W)}onBeforeRendering(){const e=this._menuItems.some(t=>!!t.icon);this._menuItems.forEach(t=>{t._siblingsWithIcon=e})}_close(){this.open=!1}_openItemSubMenu(e){clearTimeout(this._timeout),!(!e._popover||e._popover.open)&&(this.fireEvent("before-open",{item:e},!1,!1),e._popover.opener=e,e._popover.open=!0,e.selected=!0)}_closeItemSubMenu(e){if(e&&e._popover){const t=e._menuItems.find(s=>s._popover&&s._popover.open);t&&this._closeItemSubMenu(t),e._popover.open=!1,e.selected=!1}}_itemMouseOver(e){if(I()){const t=e.target;t.hasAttribute("ui5-menu-item")&&(t.focus(),this._startOpenTimeout(t))}}async focus(e){await B();const t=this._menuItems[0];return t?t.focus(e):super.focus(e)}_startOpenTimeout(e){clearTimeout(this._timeout),this._timeout=setTimeout(()=>{const t=e.parentElement,s=t&&t._menuItems.find(r=>r._popover&&r._popover.open);s&&this._closeItemSubMenu(s),this._openItemSubMenu(e)},X)}_itemClick(e){const t=e.detail.item;t._popover?this._openItemSubMenu(t):this.fireEvent("item-click",{item:t,text:t.text||""},!0,!1)&&this._popover&&t.fireEvent("close-menu",{})}_itemKeyDown(e){var a;if(!b(e)&&!$(e))return;const t=this.isRtl?$(e):b(e),s=this.isRtl?b(e):$(e),r=e.target,i=r.parentElement;T(e)&&e.preventDefault(),s?this._openItemSubMenu(r):t&&i.hasAttribute("ui5-menu-item")&&i._popover&&(i._popover.open=!1,i.selected=!1,(a=i._popover.opener)==null||a.focus())}_beforePopoverOpen(e){!this.fireEvent("before-open",{},!0,!0)&&(this.open=!1,e.preventDefault())}_afterPopoverOpen(){var e;(e=this._menuItems[0])==null||e.focus(),this.fireEvent("open",{},!1,!0)}_beforePopoverClose(e){!this.fireEvent("before-close",{escPressed:e.detail.escPressed},!0,!0)&&(this.open=!0,e.preventDefault())}_afterPopoverClose(){this.open=!1,this.fireDecoratorEvent("close")}};c([h()],p.prototype,"headerText",void 0);c([h({type:Boolean})],p.prototype,"open",void 0);c([h({type:Boolean})],p.prototype,"loading",void 0);c([h({type:Number})],p.prototype,"loadingDelay",void 0);c([h({converter:R})],p.prototype,"opener",void 0);c([N({default:!0,type:HTMLElement,invalidateOnChildChange:!0})],p.prototype,"items",void 0);c([k("@ui5/webcomponents")],p,"i18nBundle",void 0);p=v=c([E({tag:"ui5-menu",renderer:O,styles:Q,template:F,dependencies:[L,A,z,K,Y,x]}),m("item-click"),m("before-open"),m("open"),m("before-close"),m("close")],p);p.define();const _e=p;export{_e as M,Q as s};
