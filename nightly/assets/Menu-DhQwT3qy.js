import{j as p,r as f,d as g,q as y,t as M,o as b,p as m,U as E,x as C,A as O,y as x}from"./withWebComponent-DbOtF11K.js";import{s as I}from"./slot-Df15G--e.js";import{e as d}from"./event-strict-C2lE4gn2.js";import{d as h,e as _,o as P}from"./Keys-icCwrzTr.js";import{i as S}from"./i18n-BLQCbquq.js";import"./slim-arrow-right-cD7DMimY.js";import{D as T}from"./Popover-jpBWywBD.js";import"./MenuItem-PiKvl2V6.js";import{L as R}from"./ListItemCustom-BRlw5Mqf.js";import{d as w}from"./parameters-bundle.css-BzaqQttB.js";import{d as B,c as D}from"./List-DphkDdqQ.js";import{R as j}from"./ResponsivePopover-CUgpOGSJ.js";import{B as A}from"./BusyIndicator-7GyohC3D.js";import{a as L}from"./Button-BBEhHqXq.js";import{d as N}from"./decline-Cvpxulmf.js";import{f as z,g as U}from"./i18n-defaults-Cyg2J0QB.js";function $(){return p(R,{class:"ui5-menu-separator",_forcedAccessibleRole:"separator",disabled:!0})}f("@ui5/webcomponents-theming","sap_horizon",async()=>g);f("@ui5/webcomponents","sap_horizon",async()=>w);const F=`:host{border-top:.0625rem solid var(--sapGroup_ContentBorderColor);min-height:.125rem}.ui5-menu-separator{border:inherit;min-height:inherit;background:inherit;opacity:1}
`;var H=function(a,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,e,t,n);else for(var l=a.length-1;l>=0;l--)(i=a[l])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};let v=class extends B{get isSeparator(){return!0}get classes(){return{main:{"ui5-menu-separator":!0}}}get _focusable(){return!1}get _pressable(){return!1}};v=H([y({tag:"ui5-menu-separator",renderer:M,styles:[F],template:$})],v);v.define();function K(){return b(j,{id:`${this._id}-menu-rp`,class:"ui5-menu-rp",placement:"Bottom",verticalAlign:"Bottom",opener:this.opener,open:this.open,preventInitialFocus:!0,hideArrow:!0,allowTargetOverlap:!0,accessibleName:this.acessibleNameText,onBeforeOpen:this._beforePopoverOpen,onOpen:this._afterPopoverOpen,onBeforeClose:this._beforePopoverClose,onClose:this._afterPopoverClose,children:[this.isPhone&&b("div",{slot:"header",class:"ui5-menu-dialog-header",children:[p("div",{class:"ui5-menu-dialog-title",children:p("h1",{children:this.headerText})}),p(L,{icon:N,design:"Transparent","aria-label":this.labelClose,onClick:this._close})]}),p("div",{id:`${this._id}-menu-main`,children:this.items.length?p(D,{id:`${this._id}- menu-list`,selectionMode:"None",loading:this.loading,loadingDelay:this.loadingDelay,separators:"None",accessibleRole:"Menu",onItemClick:this._itemClick,onMouseOver:this._itemMouseOver,onKeyDown:this._itemKeyDown,"onui5-close-menu":this._close,children:p("slot",{})}):this.loading&&p(A,{id:`${this._id}-menu-busy-indicator`,delay:this.loadingDelay,class:"ui5-menu-busy-indicator",active:!0})})]})}f("@ui5/webcomponents-theming","sap_horizon",async()=>g);f("@ui5/webcomponents","sap_horizon",async()=>w);const k=`.ui5-menu-rp[ui5-responsive-popover]::part(header),.ui5-menu-rp[ui5-responsive-popover]::part(content),.ui5-menu-rp[ui5-responsive-popover]::part(footer){padding:0}.ui5-menu-rp[ui5-responsive-popover]{box-shadow:var(--sapContent_Shadow1);border-radius:var(--_ui5-v2-6-2_menu_popover_border_radius)}.ui5-menu-busy-indicator{width:100%}.ui5-menu-dialog-header{display:flex;height:var(--_ui5-v2-6-2-responsive_popover_header_height);align-items:center;justify-content:space-between;padding:0px 1rem;width:100%;overflow:hidden}.ui5-menu-dialog-title{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:calc(100% - 6.5rem);padding-right:1rem;font-family:var(--sapFontHeaderFamily)}.ui5-menu-dialog-title>h1{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--sapFontHeader5Size)}.ui5-menu-back-button{margin-right:1rem}
`;var u=function(a,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,e,t,n);else for(var l=a.length-1;l>=0;l--)(i=a[l])&&(o=(r<3?i(o):r>3?i(e,t,o):i(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},c;const q=300;let s=c=class extends E{constructor(){super(...arguments),this.open=!1,this.loading=!1,this.loadingDelay=1e3}get isRtl(){return this.effectiveDir==="rtl"}get labelClose(){return c.i18nBundle.getText(z)}get isPhone(){return C()}get _popover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}get _menuItems(){return this.items.filter(e=>!e.isSeparator)}get acessibleNameText(){return c.i18nBundle.getText(U)}onBeforeRendering(){const e=this._menuItems.some(t=>!!t.icon);this._menuItems.forEach(t=>{t._siblingsWithIcon=e})}_close(){this.open=!1}_openItemSubMenu(e){clearTimeout(this._timeout),!(!e._popover||e._popover.open)&&(this.fireEvent("before-open",{item:e},!1,!1),e._popover.opener=e,e._popover.open=!0,e.selected=!0)}_closeItemSubMenu(e){if(e&&e._popover){const t=e._menuItems.find(n=>n._popover&&n._popover.open);t&&this._closeItemSubMenu(t),e._popover.open=!1,e.selected=!1}}_itemMouseOver(e){if(O()){const t=e.target;t.hasAttribute("ui5-menu-item")&&(t.focus(),this._startOpenTimeout(t))}}async focus(e){await x();const t=this._menuItems[0];return t?t.focus(e):super.focus(e)}_startOpenTimeout(e){clearTimeout(this._timeout),this._timeout=setTimeout(()=>{const t=e.parentElement,n=t&&t._menuItems.find(r=>r._popover&&r._popover.open);n&&this._closeItemSubMenu(n),this._openItemSubMenu(e)},q)}_itemClick(e){const t=e.detail.item;t._popover?this._openItemSubMenu(t):this.fireEvent("item-click",{item:t,text:t.text||""},!0,!1)&&this._popover&&t.fireEvent("close-menu",{})}_itemKeyDown(e){var i;if(!h(e)&&!_(e))return;const t=this.isRtl?_(e):h(e),n=this.isRtl?h(e):_(e),r=e.target,o=r.parentElement;P(e)&&e.preventDefault(),n?this._openItemSubMenu(r):t&&o.hasAttribute("ui5-menu-item")&&o._popover&&(o._popover.open=!1,o.selected=!1,(i=o._popover.opener)==null||i.focus())}_beforePopoverOpen(e){!this.fireEvent("before-open",{},!0,!0)&&(this.open=!1,e.preventDefault())}_afterPopoverOpen(){var e;(e=this._menuItems[0])==null||e.focus(),this.fireEvent("open",{},!1,!0)}_beforePopoverClose(e){!this.fireEvent("before-close",{escPressed:e.detail.escPressed},!0,!0)&&(this.open=!0,e.preventDefault())}_afterPopoverClose(){this.open=!1,this.fireDecoratorEvent("close")}};u([m()],s.prototype,"headerText",void 0);u([m({type:Boolean})],s.prototype,"open",void 0);u([m({type:Boolean})],s.prototype,"loading",void 0);u([m({type:Number})],s.prototype,"loadingDelay",void 0);u([m({converter:T})],s.prototype,"opener",void 0);u([I({default:!0,type:HTMLElement,invalidateOnChildChange:!0})],s.prototype,"items",void 0);u([S("@ui5/webcomponents")],s,"i18nBundle",void 0);s=c=u([y({tag:"ui5-menu",renderer:M,styles:k,template:K}),d("item-click"),d("before-open"),d("open"),d("before-close"),d("close")],s);s.define();const le=s;export{le as M,k as m};
