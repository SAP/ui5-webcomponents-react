import{j as p,p as h,d as I,m as O,y as M,h as _,s as m,E,b as P,e as T,B as D}from"./jsx-runtime-2URiGFD4.js";import{d as S}from"./slot-_4yKMUwC.js";import{l as c}from"./event-strict-DgQLNDEV.js";import{B,m as N,D as R,P as j,b,i as A,c as g,K as f}from"./Keys-CLyAIm0c.js";import{i as $}from"./i18n-CjR4HGlq.js";import"./slim-arrow-right-DT2xPcsT.js";import{e as z}from"./Popover-C0YXxup5.js";import{i as y}from"./MenuItem-DdI1gScS.js";import{L}from"./ListItemCustom-C4pbdwm8.js";import{d as x}from"./parameters-bundle.css-CKhNLE8L.js";import{c as K}from"./ListItemGroup-CjFr5KrF.js";import{R as U}from"./ResponsivePopover-YyQcMm4b.js";import{d as F}from"./List-B1HGNjAv.js";import{B as H}from"./BusyIndicator-DWZUs86e.js";import{a as W}from"./Button-Bjd4zYvH.js";import{d as k}from"./decline-Dy3AHuu2.js";import{g as q,h as G}from"./i18n-defaults-D-4MAilP.js";function V(){return p(L,{class:"ui5-menu-separator",_forcedAccessibleRole:"separator",disabled:!0})}h("@ui5/webcomponents-theming","sap_horizon",async()=>I);h("@ui5/webcomponents","sap_horizon",async()=>x);const Y=`:host{border-top:.0625rem solid var(--sapGroup_ContentBorderColor);min-height:.125rem}.ui5-menu-separator{border:inherit;min-height:inherit;background:inherit;opacity:1}
`;var J=function(u,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(u,e,t,n);else for(var r=u.length-1;r>=0;r--)(s=u[r])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let v=class extends K{get isSeparator(){return!0}get classes(){return{main:{"ui5-menu-separator":!0}}}get _focusable(){return!1}get _pressable(){return!1}};v=J([O({tag:"ui5-menu-separator",renderer:M,styles:[Y],template:V})],v);v.define();function Q(){return _(U,{id:`${this._id}-menu-rp`,class:"ui5-menu-rp",placement:"Bottom",verticalAlign:"Bottom",horizontalAlign:this.horizontalAlign,opener:this.opener,open:this.open,preventInitialFocus:!0,hideArrow:!0,allowTargetOverlap:!0,accessibleName:this.acessibleNameText,onBeforeOpen:this._beforePopoverOpen,onOpen:this._afterPopoverOpen,onBeforeClose:this._beforePopoverClose,onClose:this._afterPopoverClose,children:[this.isPhone&&_("div",{slot:"header",class:"ui5-menu-dialog-header",children:[p("div",{class:"ui5-menu-dialog-title",children:p("h1",{children:this.headerText})}),p(W,{icon:k,design:"Transparent","aria-label":this.labelClose,onClick:this._close})]}),p("div",{id:`${this._id}-menu-main`,children:this.items.length?p(F,{id:`${this._id}- menu-list`,selectionMode:"None",loading:this.loading,loadingDelay:this.loadingDelay,separators:"None",accessibleRole:"Menu",onItemClick:this._itemClick,onMouseOver:this._itemMouseOver,onKeyDown:this._itemKeyDown,"onui5-close-menu":this._close,"onui5-exit-end-content":this._navigateOutOfEndContent,children:p("slot",{})}):this.loading&&p(H,{id:`${this._id}-menu-busy-indicator`,delay:this.loadingDelay,class:"ui5-menu-busy-indicator",active:!0})})]})}h("@ui5/webcomponents-theming","sap_horizon",async()=>I);h("@ui5/webcomponents","sap_horizon",async()=>x);const X=`:host{line-height:initial}::slotted([ui5-menu-item]){line-height:inherit}.ui5-menu-rp[ui5-responsive-popover]::part(header),.ui5-menu-rp[ui5-responsive-popover]::part(content),.ui5-menu-rp[ui5-responsive-popover]::part(footer){padding:0}.ui5-menu-rp[ui5-responsive-popover]{box-shadow:var(--sapContent_Shadow1);border-radius:var(--_ui5-v2-11-0_menu_popover_border_radius)}.ui5-menu-busy-indicator{width:100%}.ui5-menu-dialog-header{display:flex;height:var(--_ui5-v2-11-0-responsive_popover_header_height);align-items:center;justify-content:space-between;padding:0px 1rem;width:100%;overflow:hidden}.ui5-menu-dialog-title{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:calc(100% - 6.5rem);padding-right:1rem;font-family:var(--sapFontHeaderFamily)}.ui5-menu-dialog-title>h1{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--sapFontHeader5Size)}.ui5-menu-back-button{margin-right:1rem}
`;var l=function(u,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(u,e,t,n);else for(var r=u.length-1;r>=0;r--)(s=u[r])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},d;const Z=300;let a=d=class extends E{constructor(){super(...arguments),this.open=!1,this.horizontalAlign="Start",this.loading=!1,this.loadingDelay=1e3}get isRtl(){return this.effectiveDir==="rtl"}get labelClose(){return d.i18nBundle.getText(q)}get isPhone(){return P()}get _popover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}get _menuItems(){return this.items.filter(e=>!e.isSeparator)}get acessibleNameText(){return d.i18nBundle.getText(G)}onBeforeRendering(){const e=this._menuItems.some(t=>!!t.icon);this._menuItems.forEach(t=>{t._siblingsWithIcon=e})}_close(){this.open=!1}_openItemSubMenu(e){clearTimeout(this._timeout),!(!e._popover||e._popover.open)&&(this.fireDecoratorEvent("before-open",{item:e}),e._popover.opener=e,e._popover.open=!0,e.selected=!0)}_itemMouseOver(e){if(!T())return;const t=e.target;y(t)&&(t.focus(),this._startOpenTimeout(t))}async focus(e){await D();const t=this._menuItems[0];return t?t.focus(e):super.focus(e)}_closeOtherSubMenus(e){const t=this._menuItems;t.includes(e)&&t.forEach(n=>{n!==e&&n._close()})}_startOpenTimeout(e){clearTimeout(this._timeout),this._timeout=setTimeout(()=>{this._closeOtherSubMenus(e),this._openItemSubMenu(e)},Z)}_itemClick(e){const t=e.detail.item;t._popover?this._openItemSubMenu(t):this.fireDecoratorEvent("item-click",{item:t,text:t.text||""})&&this._popover&&t.fireDecoratorEvent("close-menu")}_itemKeyDown(e){const t=B(e)||N(e),n=e.target;if(!y(n))return;const i=this._menuItems.includes(n),o=R(e)||j(e),s=b(e)||A(e),r=g(e)||f(e),C=this.isRtl?f(e):g(e),w=i&&!(o||s||r);(b(e)||t)&&e.preventDefault(),r&&n._navigateToEndContent(f(e)),C?this._openItemSubMenu(n):(w||t)&&this._close()}_navigateOutOfEndContent(e){const t=e.target,n=e.detail.shouldNavigateToNextItem,i=this._menuItems,o=i.indexOf(t);if(o>-1){const r=(n?i[o+1]:i[o-1])||i[o];r==null||r.focus(),e.stopPropagation()}}_beforePopoverOpen(e){!this.fireDecoratorEvent("before-open",{})&&(this.open=!1,e.preventDefault())}_afterPopoverOpen(){var e;(e=this._menuItems[0])==null||e.focus(),this.fireDecoratorEvent("open")}_beforePopoverClose(e){!this.fireDecoratorEvent("before-close",{escPressed:e.detail.escPressed})&&(this.open=!0,e.preventDefault())}_afterPopoverClose(){this.open=!1,this.fireDecoratorEvent("close")}};l([m()],a.prototype,"headerText",void 0);l([m({type:Boolean})],a.prototype,"open",void 0);l([m()],a.prototype,"horizontalAlign",void 0);l([m({type:Boolean})],a.prototype,"loading",void 0);l([m({type:Number})],a.prototype,"loadingDelay",void 0);l([m({converter:z})],a.prototype,"opener",void 0);l([S({default:!0,type:HTMLElement,invalidateOnChildChange:!0})],a.prototype,"items",void 0);l([$("@ui5/webcomponents")],a,"i18nBundle",void 0);a=d=l([O({tag:"ui5-menu",renderer:M,styles:X,template:Q}),c("item-click",{cancelable:!0}),c("before-open",{bubbles:!0,cancelable:!0}),c("open",{bubbles:!0}),c("close-menu",{bubbles:!0}),c("before-close",{bubbles:!0,cancelable:!0}),c("close")],a);a.define();const ee=a,ye=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{ee as M,ye as a,X as m};
