import{l as p,c as l,ag as _,s as f,ar as v,m as g,as as S,at as m,au as I,av as b}from"./iframe-C6IJVCey.js";import{S as P,d as y,a as x,b as d}from"./SliderTooltip-wrrU7e1C.js";function T(){return P.call(this,{progressBar:A,handles:F})}function A(){return l("div",{class:"ui5-slider-progress-container","aria-hidden":"true",part:"progress-container",children:l("div",{class:"ui5-slider-progress",style:this.styles.progress,onFocusOut:this._onfocusout,onFocusIn:this._onfocusin,tabIndex:-1,part:"progress-bar"})})}function F(){return p("div",{class:"ui5-slider-handle-container",style:this.styles.handle,part:"handle-container",children:[l("div",{class:"ui5-slider-handle",onFocusOut:this._onfocusout,onFocusIn:this._onfocusin,onKeyUp:this._onkeyup,role:"slider",tabIndex:this._tabIndex,"aria-orientation":"horizontal","aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.value,"aria-label":this._ariaLabel,"aria-disabled":this._ariaDisabled,"aria-keyshortcuts":this._ariaKeyshortcuts,"aria-describedby":this._ariaDescribedByHandleText,"data-sap-focus-ref":!0,part:"handle",id:"handle1",children:l(_,{name:y,mode:"Decorative",part:"icon-slider","slider-icon":!0})}),l(x,{open:this._tooltipsOpen,value:this.tooltipValue,min:this.min,max:this.max,editable:this.editableTooltip,followRef:this.shadowRoot?.querySelector("#handle1"),onChange:this._onTooltipChange,onForwardFocus:this._onTooltopForwardFocus})]})}var c=function(u,t,e,i){var r=arguments.length,s=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(u,t,e,i);else for(var h=u.length-1;h>=0;h--)(a=u[h])&&(s=(r<3?a(s):r>3?a(t,e,s):a(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s},o;let n=o=class extends d{get formFormattedValue(){return this.value.toString()}constructor(){super(),this.value=0,this._progressPercentage=0,this._handlePositionFromStart=0,this._tooltipInputValue=this.value.toString(),this._tooltipInputValueState="None",this._stateStorage.value=void 0,this._lastValidInputValue=this.min.toString()}onBeforeRendering(){this.isCurrentStateOutdated()&&(this.notResized=!0,this.syncUIAndState(),this._updateHandleAndProgress(this.value))}syncUIAndState(){this.isPropertyUpdated("step")&&(this._validateStep(this.step),this.storePropertyState("step")),this.isPropertyUpdated("min","max","value")&&(this.storePropertyState("min","max"),this.value=d.clipValue(this.value,this._effectiveMin,this._effectiveMax),this.updateStateStorageAndFireInputEvent("value"),this.storePropertyState("value")),this.labelInterval&&this.showTickmarks&&this._createLabels(),this.isPropertyUpdated("labelInterval")&&this.storePropertyState("labelInterval")}_onmousedown(t){if(this.disabled||this.step===0||t.target.hasAttribute("ui5-slider-tooltip"))return;const e=this.handleDownBase(t);this._valueOnInteractionStart=this.value,this._valueInitial===void 0&&(this._valueInitial=this.value);const i=this.constructor;this._isHandlePressed(i.getPageXValueFromEvent(t))||(this._updateHandleAndProgress(e),this.value=e,this.updateStateStorageAndFireInputEvent("value"))}_onfocusin(){this._valueInitial===void 0&&(this._valueInitial=this.value),this.showTooltip&&(this._tooltipsOpen=!0)}_onfocusout(t){if(this._isFocusing()){this._preventFocusOut();return}this._valueInitial=void 0,this.showTooltip&&!t.relatedTarget?.hasAttribute("ui5-slider-tooltip")&&(this._tooltipsOpen=!1)}_handleMove(t){if(t.preventDefault(),this.disabled||this._effectiveStep===0)return;const i=this.constructor.getValueFromInteraction(t,this._effectiveStep,this._effectiveMin,this._effectiveMax,this.getBoundingClientRect(),this.directionStart);this._updateHandleAndProgress(i),this.value=i,this.updateStateStorageAndFireInputEvent("value")}_handleUp(){this._valueOnInteractionStart!==this.value&&this.fireDecoratorEvent("change"),this.handleUpBase(),this._valueOnInteractionStart=void 0}_onkeyup(t){const e=d._isActionKey(t);this._onKeyupBase(),e&&this._valueOnInteractionStart!==this.value&&this.fireDecoratorEvent("change"),this._valueOnInteractionStart=this.value}_isHandlePressed(t){const e=this._sliderHandle.getBoundingClientRect();return t>=e.left&&t<=e.right}_updateHandleAndProgress(t){const e=this._effectiveMax,i=this._effectiveMin;this._progressPercentage=(t-i)/(e-i),this._handlePositionFromStart=this._progressPercentage*100}_handleActionKeyPress(t){const e=this._effectiveMin,i=this._effectiveMax,r=this.value,s=this.constructor,a=S(t)?this._valueInitial:s.clipValue(this._handleActionKeyPressBase(t,"value")+r,e,i);a!==r&&(this._updateHandleAndProgress(a),this.value=a,this.updateStateStorageAndFireInputEvent("value"))}_onTooltopForwardFocus(t){t.target.followRef?.focus()}get inputValue(){return this.value.toString()}get styles(){return{progress:{transform:`scaleX(${this._progressPercentage})`,"transform-origin":`${this.directionStart} top`},handle:{[this.directionStart]:`${this._handlePositionFromStart}%`}}}get _sliderHandle(){return this.shadowRoot.querySelector(".ui5-slider-handle")}get tooltipValue(){const e=this.constructor._getDecimalPrecisionOfNumber(this._effectiveStep);return this.value.toFixed(e)}get _ariaDisabled(){return this.disabled||void 0}get _ariaLabelledByText(){return o.i18nBundle.getText(m)}get _ariaDescribedByInputText(){return o.i18nBundle.getText(I)}get _ariaLabelledByInputText(){return o.i18nBundle.getText(b)}get tickmarksObject(){const t=this._tickmarksCount,e=[];if(this._hiddenTickmarks)return[!0,!1];for(let i=0;i<=t;i++)e.push(this._effectiveMin+i*this.step<=this.value);return e}};c([f({type:Number})],n.prototype,"value",void 0);c([v("@ui5/webcomponents")],n,"i18nBundle",void 0);n=o=c([g({tag:"ui5-slider",languageAware:!0,formAssociated:!0,template:T})],n);n.define();const R=n;export{R as S};
