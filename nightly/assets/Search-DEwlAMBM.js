import{c as r,_ as A,a1 as F,l as f,af as y,ag as T,aW as M,aT as H,f as p,a9 as N,Z as j,bD as W,aU as $,a6 as G,aV as K,p as w,d as z,s as l,A as m,ar as D,m as R,b7 as b,ah as P,b5 as q,b9 as C,bf as g,bj as U,be as x,bk as k,c7 as Z,dq as Y,as as S,dC as J,dE as Q,c1 as X,c2 as ee,c0 as te}from"./iframe-BuT579UQ.js";import{O as ie}from"./Option-DPjuNQJt.js";import{S as re}from"./Select-DLIvqNcS.js";import{s as E}from"./search-C2X8ujTt.js";import{I as oe,S as se,d as ae}from"./Input-CvvVNEnq.js";import{S as ne}from"./SuggestionItem-CjQuXKdn.js";import{d as O}from"./parameters-bundle.css-34zgZIqy.js";import{ah as le,ai as he,aj as ce,ak as ue,al as de,am as pe}from"./i18n-defaults-Cjp7arcT.js";function L(o){return!o?.forceExpanded&&this.collapsed?r(F,{class:"ui5-shell-search-field-button",icon:E,design:A.Transparent,"data-sap-focus-ref":!0,onClick:this._handleSearchIconPress,tooltip:this._effectiveIconTooltip,accessibleName:this._effectiveIconTooltip,accessibilityAttributes:this._searchButtonAccessibilityAttributes}):r("div",{class:"ui5-search-field-root",role:"search",onFocusOut:this._onFocusOutSearch,children:f("div",{class:"ui5-search-field-content",children:[this.scopes?.length?f(y,{children:[r(re,{onChange:this._handleScopeChange,class:"sapUiSizeCompact ui5-search-field-select",accessibleName:this._translations.scope,tooltip:this._translations.scope,children:this.scopes.map(e=>r(ie,{selected:e.selected,"data-ui5-stable":e.stableDomRef,ref:this.captureRef.bind(e),children:e.text}))}),r("div",{class:"ui5-search-field-separator"})]}):this.filterButton?f(y,{children:[r("div",{class:"ui5-filter-wrapper",style:"display: contents",children:r("slot",{name:"filterButton"})}),r("div",{class:"ui5-search-field-separator"})]}):null,r("input",{class:"ui5-search-field-inner-input",role:"searchbox","aria-description":this.accessibleDescription,"aria-label":this.accessibleName||this._translations.searchFieldAriaLabel,value:this.value,placeholder:this.placeholder,"data-sap-focus-ref":!0,onInput:this._handleInput,onFocusIn:this._onfocusin,onFocusOut:this._onfocusout,onKeyDown:this._onkeydown,onClick:this._handleInnerClick}),this._effectiveShowClearIcon&&r(T,{class:"ui5-shell-search-field-icon",name:M,showTooltip:!0,accessibleName:this._translations.clearIcon,onClick:this._handleClear}),r(T,{class:{"ui5-shell-search-field-icon":!0,"ui5-shell-search-field-search-icon":this._isSearchIcon},name:E,showTooltip:!0,accessibleName:this._effectiveIconTooltip,onClick:this._handleSearchIconPress})]})})}var B;(function(o){o.Search="search",o.Go="go",o.Next="next",o.Enter="enter",o.Done="done",o.Previous="previous",o.Send="send"})(B||(B={}));const _e=B;function fe(o){return f(H,{hideArrow:!0,preventFocusRestore:!0,preventInitialFocus:!p(),accessibleNameRef:"suggestions-speech-output message-area-text message-area-description",placement:j.Bottom,horizontalAlign:N.Start,open:this.open,opener:this,onOpen:this._handleOpen,onClose:this._handleClose,onBeforeClose:this._handleBeforeClose,onBeforeOpen:this._handleBeforeOpen,class:{"ui5-search-popover":!0,"ui5-search-popover-phone":p()},children:[p()?o?o.call(this):r(y,{children:f("header",{slot:"header",class:"ui5-search-popup-searching-header",children:[r(oe,{class:"ui5-search-popover-search-field",onInput:this._handleMobileInput,showClearIcon:this.showClearIcon,noTypeahead:this.noTypeahead,hint:_e.Search,onKeyDown:this._onMobileInputKeydown,children:this._flattenItems.map(e=>r(ne,{text:e.text}))}),r(F,{design:A.Transparent,onClick:this._handleCancel,children:this.cancelButtonText})]})}):null,f("main",{class:"ui5-search-popover-content",children:[r("slot",{name:"messageArea"}),r("div",{class:"search-popover-busy-wrapper",children:r(W,{active:!0})}),this.items.length?r(K,{class:"ui5-search-list",separators:G.None,onKeyDown:this._onItemKeydown,accessibleRole:$.ListBox,onItemClick:this._onItemClick,children:r("slot",{})}):r("slot",{name:"illustration"}),r("span",{class:"ui5-hidden-text",id:"suggestions-speech-output",children:this.suggestionsText}),this.messageArea[0]?.text?r("span",{class:"ui5-hidden-text",id:"message-area-text",children:this.messageArea[0].text}):null,this.messageArea[0]?.description?r("span",{class:"ui5-hidden-text",id:"message-area-description",children:this.messageArea[0].description}):null]}),this.action.length?r("slot",{onKeyDown:this._handleActionKeydown,name:"action",slot:"footer"}):null]})}function ve(){return f(y,{children:[L.call(this),fe.call(this)]})}w("@ui5/webcomponents-theming","sap_horizon",async()=>z);w("@ui5/webcomponents-fiori","sap_horizon",async()=>O);const me=`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}.ui5-search-popover{width:var(--search_width);margin-top:.25rem;box-sizing:border-box}.ui5-search-popup-searching-header{display:flex;gap:.5rem;width:100%;align-items:center}.ui5-search-popover::part(header){padding:.5rem 1rem;box-shadow:none;box-sizing:border-box}.ui5-search-popover::part(header):before{display:none}.ui5-search-popover::part(content){padding:0;box-shadow:none}:host([loading]) .ui5-search-popover main{min-height:2rem}.ui5-search-popover-search-field{flex:1;height:2.25rem;border-radius:var(--_ui5-v2-13-3_search_input_border_radius)}.ui5-search-popover-search-field::part(root):after{border-radius:var(--_ui5-v2-13-3_search_input_border_radius)}.ui5-search-popover-search-field::part(input){padding-inline-start:.875rem}.ui5-search-popover-search-field::part(clear-icon-wrapper){margin-inline-end:.5rem}.ui5-search-popover-loading-bi{width:100%;height:100%}::slotted([slot="action"]){width:100%;margin-top:.5rem;margin-bottom:.5rem}.search-popover-busy-wrapper{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:42;width:100%;height:100%;display:none;justify-content:center;align-items:center;pointer-events:all}:host([loading]) .search-popover-busy-wrapper{display:flex;width:100%;height:100%}.search-popover-busy-wrapper [ui5-busy-indicator]{z-index:1}.search-popover-busy-wrapper:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--_ui5-v2-13-3-search-loading-overlay-background);opacity:var(--_ui5-v2-13-3-search-loading-overlay-transparency);border-radius:var(--_ui5-v2-13-3_popup_border_radius)}.ui5-search-list{margin:.25rem;width:calc(100% - .5rem)}.ui5-search-popover-phone .ui5-search-popover-content{position:relative;width:100%;height:100%;display:flex;flex-direction:column}.ui5-search-popover-phone .search-popover-busy-wrapper:after{border-radius:0}
`;w("@ui5/webcomponents-theming","sap_horizon",async()=>z);w("@ui5/webcomponents-fiori","sap_horizon",async()=>O);const be=`:host,.ui5-shellbar-search-field-wrapper{height:2.25rem;display:flex;align-items:center}:host(:not([collapsed])),.ui5-shellbar-search-field-wrapper{min-width:18rem;max-width:36rem;margin:0;height:2.25rem;color:var(--sapShell_TextColor);font-size:var(--sapFontSize);font-family:"72override",var(--sapFontFamily);font-style:normal;box-shadow:var(--sapField_Shadow);border-radius:var(--_ui5-v2-13-3_search_input_border_radius);box-sizing:border-box;text-align:start;background:var(--sapField_BackgroundStyle);background-color:var(--_ui5-v2-13-3-search-wrapper-background);position:relative}.ui5-shellbar-search-field-wrapper{flex:1;min-width:auto}:host(:not([collapsed]):hover),:host(:not([collapsed]):focus-within),.ui5-shellbar-search-field-wrapper:focus-within{box-shadow:var(--sapField_Hover_Shadow);background:var(--_ui5-v2-13-3-search-wrapper-hover-background);background-color:var(--_ui5-v2-13-3-search-wrapper-hover-background-color)}:host([focused-inner-input]) .ui5-search-field-root{outline:var(--_ui5-v2-13-3_search_wrapper_outline);border-radius:var(--_ui5-v2-13-3_search_input_border_radius);outline-offset:-.125rem}.ui5-search-field-root{width:100%;height:100%;position:relative;background:transparent;display:inline-block;outline:none;box-sizing:border-box;color:inherit;transition:border-color .2s ease-in-out;border-radius:var(--_ui5-v2-13-3_search_input_border_radius);overflow:hidden}.ui5-search-field-content{height:100%;display:flex;flex-direction:row;justify-content:flex-end;align-items:center;overflow:hidden}[ui5-select]{--_ui5-v2-13-3_content_density: compact;outline:none;margin:var(--_ui5-v2-13-3_search_input_scope_margin);max-width:10rem;border-radius:var(--_ui5-v2-13-3_search_input_border_radius);border:var(--_ui5-v2-13-3-search-border);box-shadow:none;background:unset;background-color:var(--_ui5-v2-13-3-search-elements-background);height:var(--_ui5-v2-13-3-search-select-height);--_ui5-v2-13-3_select_label_color: var(--sapShell_TextColor)}[ui5-select]:hover{box-shadow:var(--sapField_Hover_Shadow)}[ui5-select]::part(icon){display:flex;justify-content:center;align-items:stretch;height:100%;padding:0 .5rem;align-self:center;border-radius:var(--_ui5-v2-13-3_search_input_border_radius);color:var(--sapShell_InteractiveTextColor)}[ui5-select]::part(icon):hover{background-color:var(--sapShell_Hover_Background)}[ui5-select]::part(popover){background-color:var(--sapShellColor)}.ui5-filter-wrapper{--_ui5-v2-13-3_button_focused_border_radius: var(--_ui5-v2-13-3_search_filter_button_border_radius)}::slotted([slot="filterButton"]){min-width:var(--_ui5-v2-13-3_search_icon_size);height:var(--_ui5-v2-13-3_search_icon_size);border:var(--_ui5-v2-13-3_search_filter_button_border);border-radius:var(--_ui5-v2-13-3_search_filter_button_border_radius);color:var(--sapShell_InteractiveTextColor);outline:none;background:var(--_ui5-v2-13-3-search-filter_button_background_color);box-sizing:border-box;margin-inline-end:.1875rem;margin-inline-start:.25rem}::slotted([slot="filterButton"]:focus-within){background-color:var(--ui5-v2-13-3_search_filter_button_background_active);border:var(--_ui5-v2-13-3_search_filter_button_border)}::slotted([slot="filterButton"]:hover){background-color:var(--sapShell_Hover_Background);border:var(--_ui5-v2-13-3_seach_filter_button_border_hover)}.ui5-search-field-inner-input{font-size:var(--sapFontSize);font-family:"72override",var(--sapFontFamily);font-style:normal;padding:.5rem 0;height:100%;width:100%;box-sizing:border-box;background-color:var(--_ui5-v2-13-3-search-elements-background);border:var(--_ui5-v2-13-3-search-border);outline:none;color:inherit;padding-inline-start:var(--_ui5-v2-13-3-search-input-start-padding);padding-inline-end:var(--_ui5-v2-13-3_search_input_end_padding)}:host([focused-inner-input]) .ui5-search-field-inner-input{outline:var(--_ui5-v2-13-3_search_input_outline);border-radius:var(--_ui5-v2-13-3_search_input_border_radius);outline-offset:-.3125rem}:host(:not([mode="Scoped"])) .ui5-search-field-inner-input{padding-inline-start:.875rem}[ui5-select]:hover,.ui5-search-field-inner-input:hover{background-color:var(--_ui5-v2-13-3-search-elements-hover-background)}[ui5-select]:focus-within,.ui5-search-field-inner-input:focus-within{background-color:var(--_ui5-v2-13-3-search-elements-active-background)}.ui5-search-field-inner-input::placeholder{font-weight:400;font-style:italic;color:var(--sapField_PlaceholderTextColor);padding-inline-start:.125rem}:host([mode="Scoped"]) .ui5-search-field-inner-input{margin-inline-start:var(--_ui5-v2-13-3_search_input_start_margin)}.ui5-search-field-separator{height:1.5rem;width:.0625rem;background:var(--_ui5-v2-13-3_search_separator_background);box-sizing:border-box}.ui5-shell-search-field-button{outline:none;min-width:var(--_ui5-v2-13-3_search_icon_size);height:var(--_ui5-v2-13-3_search_icon_size);border-radius:var(--_ui5-v2-13-3_search_icon_border_radius);margin-inline-end:.25rem;margin-inline-start:.1875rem;box-sizing:border-box;cursor:pointer}.ui5-shell-search-field-button:not([design=Emphasized]){color:var(--sapShell_InteractiveTextColor);background-color:var(--_ui5-v2-13-3-search-elements-background);min-width:var(--_ui5-v2-13-3_search_icon_size_default);height:var(--_ui5-v2-13-3_search_icon_size_default);border-radius:var(--_ui5-v2-13-3_shellbar_button_border_radius)}.ui5-shell-search-field-button:not([design=Emphasized]):hover{background-color:var(--sapShell_Hover_Background);border-color:var(--sapButton_Lite_Hover_BorderColor);border-radius:var(--_ui5-v2-13-3_shellbar_button_border_radius)}.ui5-shell-search-field-button[desktop]:not([active])::part(button):after,.ui5-shell-search-field-button:not([active])::part(button):focus-visible:after,.ui5-shell-search-field-button[desktop][active][design=Emphasized]::part(button):focus-within:after,.ui5-shell-search-field-button[active][design=Emphasized]::part(button):focus-visible:after,.ui5-shell-search-field-button[desktop][active]::part(button):focus-within:before,.ui5-shell-search-field-button[active]::part(button):focus-visible:before,.ui5-shell-search-field-button[design=Emphasized][desktop]::part(button):focus-within:before,.ui5-shell-search-field-button[design=Emphasized]::part(button):focus-visible:before{border-radius:var(--_ui5-v2-13-3_shellbar_button_border_radius)}.ui5-shell-search-field-icon{display:flex;justify-content:center;align-items:stretch;cursor:pointer;outline:none;min-width:var(--_ui5-v2-13-3_search_icon_size);height:var(--_ui5-v2-13-3_search_icon_size);border-radius:var(--_ui5-v2-13-3_search_icon_border_radius);margin-inline-end:.25rem;margin-inline-start:.1875rem;box-sizing:border-box;color:var(--sapShell_InteractiveTextColor);background-color:var(--_ui5-v2-13-3-search-elements-background);border:var(--_ui5-v2-13-3-search-icon-border)}.ui5-shell-search-field-icon::part(root){padding:var(--_ui5-v2-13-3_search_icon_padding);width:1rem;height:1rem;outline-offset:-.125rem}.ui5-shell-search-field-icon:hover::part(root){padding:var(--_ui5-v2-13-3_search_icon_hover_padding);outline-offset:-.1875rem}.ui5-shell-search-field-icon:focus::part(root){border-radius:var(--_ui5-v2-13-3_search_icon_border_radius)}.ui5-shell-search-field-icon:hover,.ui5-shell-search-field-input-button:hover{background:var(--sapShell_Hover_Background);border:1px solid var(--sapButton_Lite_Hover_BorderColor);color:var(--sapShell_InteractiveTextColor)}.ui5-shell-search-field-search-icon{background-color:var(--sapButton_Emphasized_Background);border-color:var(--sapButton_Emphasized_BorderColor);color:var(--sapButton_Emphasized_TextColor)}.ui5-search-field-select{--_ui5-v2-13-3_input_focus_border_radius: var(--_ui5-v2-13-3_search_input_border_radius)}
`;var h=function(o,e,t,i){var c=arguments.length,s=c<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(o,e,t,i);else for(var _=o.length-1;_>=0;_--)(u=o[_])&&(s=(c<3?u(s):c>3?u(e,t,s):u(e,t))||s);return c>3&&s&&Object.defineProperty(e,t,s),s},v;let a=v=class extends q{constructor(){super(...arguments),this.showClearIcon=!1,this.collapsed=!1,this.value="",this.focusedInnerInput=!1,this._effectiveShowClearIcon=!1}onBeforeRendering(){this._effectiveShowClearIcon=this.showClearIcon&&!!this.value}_onkeydown(e){if(C(e))return this._handleEnter()}_onfocusin(){this.focusedInnerInput=!0}_onfocusout(){this.focusedInnerInput=!1}_onFocusOutSearch(e){}_handleEnter(){this.value.length&&this._handleSearchEvent()}_handleInnerClick(){}_handleSearchIconPress(){this._handleSearchEvent(),setTimeout(()=>{this.focus()},0)}_handleSearchEvent(){this.fireDecoratorEvent("search")}_handleInput(e){this.value=e.target.value,this.fireDecoratorEvent("input")}_handleClear(){this.value="",this.fireDecoratorEvent("input"),this.focus()}_handleScopeChange(e){const t=e.detail.selectedOption;this.fireDecoratorEvent("scope-change",{scope:t.scopeOption})}get _isSearchIcon(){return this.value.length&&this.focusedInnerInput}get _searchButtonAccessibilityAttributes(){return{expanded:!this.collapsed}}get _translations(){return{scope:v.i18nBundle.getText(ue),searchIcon:v.i18nBundle.getText(ce),clearIcon:v.i18nBundle.getText(he),searchFieldAriaLabel:v.i18nBundle.getText(le)}}get _effectiveIconTooltip(){return this._translations.searchIcon}captureRef(e){e&&(e.scopeOption=this)}};h([l({type:Boolean})],a.prototype,"showClearIcon",void 0);h([l({type:Boolean})],a.prototype,"collapsed",void 0);h([l()],a.prototype,"value",void 0);h([l()],a.prototype,"placeholder",void 0);h([l()],a.prototype,"accessibleName",void 0);h([l()],a.prototype,"accessibleDescription",void 0);h([m({type:HTMLElement,individualSlots:!0,invalidateOnChildChange:!0})],a.prototype,"scopes",void 0);h([m()],a.prototype,"filterButton",void 0);h([l({type:Boolean})],a.prototype,"focusedInnerInput",void 0);h([l({type:Boolean})],a.prototype,"_effectiveShowClearIcon",void 0);h([D("@ui5/webcomponents-fiori")],a,"i18nBundle",void 0);a=v=h([R({tag:"ui5-search-field",languageAware:!0,renderer:P,template:L,styles:[be]}),b("input",{bubbles:!0}),b("scope-change",{bubbles:!0}),b("search",{bubbles:!0,cancelable:!0})],a);a.define();const V=a;var d=function(o,e,t,i){var c=arguments.length,s=c<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(o,e,t,i);else for(var _=o.length-1;_>=0;_--)(u=o[_])&&(s=(c<3?u(s):c>3?u(e,t,s):u(e,t))||s);return c>3&&s&&Object.defineProperty(e,t,s),s},I;let n=I=class extends V{constructor(){super(),this.loading=!1,this.noTypeahead=!1,this.open=!1,this._typedInValue="",this._matchedPerTerm=!1,this._valueBeforeOpen=this.getAttribute("value")||""}onBeforeRendering(){super.onBeforeRendering();const e=this.nativeInput,t=e&&e.selectionEnd-e.selectionStart;if(this._shouldAutocomplete&&!t){const i=this._getFirstMatchingItem(this.value);this._proposedItem=i,i?(this._handleTypeAhead(i),this._deselectItems(),i.selected=!0):this._typedInValue=this.value}else this._typedInValue=this.value;if(p()&&this.open){const i=this._getFirstMatchingItem(this.value);this._proposedItem=i,this._deselectItems(),i&&this._performItemSelectionOnMobile&&(i.selected=!0)}this._flattenItems.forEach(i=>{i.highlightText=this._typedInValue}),this._shouldAutocomplete=!1}onAfterRendering(){const e=this.nativeInput;this._performTextSelection&&e&&e.value!==this._innerValue&&(e.value=this._innerValue||""),this._performTextSelection&&this._typedInValue.length&&this.value.length&&e?.setSelectionRange(this._typedInValue.length,this.value.length),this._performTextSelection=!1,this.collapsed||this.style.setProperty("--search_width",`${this.getBoundingClientRect().width}px`)}_handleMobileInput(e){this.value=e.target.value,this._performItemSelectionOnMobile=this._shouldPerformSelectionOnMobile(e.detail.inputType),this.fireDecoratorEvent("input")}_shouldPerformSelectionOnMobile(e){const t=["deleteWordBackward","deleteWordForward","deleteSoftLineBackward","deleteSoftLineForward","deleteEntireSoftLine","deleteHardLineBackward","deleteHardLineForward","deleteByDrag","deleteByCut","deleteContent","deleteContentBackward","deleteContentForward","historyUndo"];return!this.noTypeahead&&!t.includes(e||"")}_handleTypeAhead(e){const t=e.text||"";let i=t;t.toLowerCase().startsWith(this.value.toLowerCase())?this._matchedPerTerm=!1:(this._matchedPerTerm=!0,i=`${this.value} - ${t}`),this._typedInValue=this.value,this._innerValue=i,this._performTextSelection=!0,this.value=i}_startsWithMatchingItems(e){return se(e,this._flattenItems.filter(t=>!this._isGroupItem(t)),"text")}_startsWithPerTermMatchingItems(e){return ae(e,this._flattenItems.filter(t=>!this._isGroupItem(t)),"text")}_isGroupItem(e){return e.hasAttribute("ui5-search-item-group")}_deselectItems(){this._flattenItems.forEach(e=>{e.selected=!1})}_handleDown(e){this.open&&(e.preventDefault(),this._handleArrowDown())}_handleArrowDown(){const e=this._getItemsList()?.getSlottedNodes("items")[0];this.open&&(this._deselectItems(),this.value=this._typedInValue||this.value,this._innerValue=this.value,e?.focus())}_handleRight(e){this._matchedPerTerm&&(e.preventDefault(),this.value=this._typedInValue,this._innerValue=this._typedInValue,this._proposedItem=void 0)}_handleInnerClick(){p()&&(this.open=!0)}_handleSearchIconPress(){p()?this.open=!0:super._handleSearchIconPress()}_handleEnter(){if(!this.fireDecoratorEvent("search",{item:this._proposedItem}))return;const t=this.nativeInput;this._matchedPerTerm&&(this.value=this._proposedItem?.text||this.value,this._innerValue=this.value,this._typedInValue=this.value,this._matchedPerTerm=!1),t.setSelectionRange(this.value.length,this.value.length),this.open=!1}_onMobileInputKeydown(e){C(e)&&(this.value=this.mobileInput?.value||this.value,this._handleEnter(),this.blur())}_handleSearchEvent(){this.fireDecoratorEvent("search",{item:this._proposedItem})}_handleEscape(){this.value=this._typedInValue||this.value,this._innerValue=this.value}_handleInput(e){super._handleInput(e),!p()&&(this.open=e.currentTarget.value.length>0&&this._popoupHasAnyContent())}_popoupHasAnyContent(){return this.items.length>0||this.illustration.length>0||this.messageArea.length>0||this.loading||this.action.length>0}_onFooterButtonKeyDown(e){g(e)&&this._flattenItems[this._flattenItems.length-1].focus(),U(e)&&this._getItemsList().focus()}_onItemKeydown(e){const t=this._flattenItems[0]===e.target,i=this._flattenItems[this._flattenItems.length-1]===e.target,c=g(e),s=x(e),u=k(e);e.preventDefault(),t&&c&&(this.nativeInput?.focus(),this._shouldAutocomplete=!0),(i&&s||u)&&this._getFooterButton()?.focus()}_onItemClick(e){const t=e.detail.item;if(!this.fireDecoratorEvent("search",{item:t})){p()&&(this.open=!1);return}this.value=t.text,this._innerValue=this.value,this._typedInValue=this.value,this.open=!1,this.focus()}_onkeydown(e){super._onkeydown(e),!this.loading&&(this._shouldAutocomplete=!this.noTypeahead&&!(Z(e)||Y(e)||S(e)||g(e)||x(e)||k(e)||C(e)||J(e)||Q(e)||X(e)||ee(e)||S(e)),te(e)&&this._handleRight(e),x(e)&&this._handleDown(e),S(e)&&this._handleEscape())}_onfocusout(){super._onfocusout(),this._matchedPerTerm&&(this.value=this._typedInValue,this._innerValue=this._typedInValue),this._matchedPerTerm=!1}_onFocusOutSearch(e){const t=e.relatedTarget;this._getPicker().contains(t)||this.contains(t)||(this.open=!1)}_handleBeforeClose(e){e.detail.escPressed&&this.focus()}_handleCancel(){this._handleClose(),this.value=this._valueBeforeOpen,this.fireDecoratorEvent("input")}_handleClose(){this.open=!1,this.fireDecoratorEvent("close")}_handleBeforeOpen(){this._valueBeforeOpen=this.value,p()&&this.mobileInput&&(this.mobileInput.value=this.value)}_handleOpen(){this.fireDecoratorEvent("open")}_handleActionKeydown(e){g(e)&&this._flattenItems[this._flattenItems.length-1].focus()}_onFooterButtonClick(){this.fireDecoratorEvent("popup-action-press")}_getFirstMatchingItem(e){if(!this._flattenItems.length||!e)return;const t=this._startsWithMatchingItems(e),i=this._startsWithPerTermMatchingItems(e);return t.length?i.length?this._flattenItems.indexOf(t[0])<=this._flattenItems.indexOf(i[0])?t[0]:i[0]:t[0]:i[0]??void 0}_getPicker(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}_getItemsList(){return this._getPicker().querySelector(".ui5-search-list")}_getFooterButton(){return this.action[0]}get _flattenItems(){return this.getSlottedNodes("items").flatMap(e=>this._isGroupItem(e)?[e,...e.items]:[e])}get nativeInput(){return this.getDomRef()?.querySelector("input")}get mobileInput(){const e=this.shadowRoot;return e?e.querySelector("[ui5-input]"):null}get cancelButtonText(){return I.i18nBundle.getText(de)}get suggestionsText(){return I.i18nBundle.getText(pe)}get scopeSelect(){const e=this.shadowRoot;return e?e.querySelector("[ui5-select]"):null}};d([l({type:Boolean})],n.prototype,"loading",void 0);d([l({type:Boolean})],n.prototype,"noTypeahead",void 0);d([m({type:HTMLElement,default:!0})],n.prototype,"items",void 0);d([m()],n.prototype,"action",void 0);d([m()],n.prototype,"illustration",void 0);d([m()],n.prototype,"messageArea",void 0);d([l({type:Boolean})],n.prototype,"open",void 0);d([l({noAttribute:!0})],n.prototype,"_innerValue",void 0);d([l({type:Boolean})],n.prototype,"_performItemSelectionOnMobile",void 0);d([D("@ui5/webcomponents-fiori")],n,"i18nBundle",void 0);n=I=d([R({tag:"ui5-search",languageAware:!0,renderer:P,template:ve,styles:[V.styles,me]}),b("open"),b("close")],n);n.define();const Ee=n;export{fe as S,L as a,Ee as b};
