import{j as p,p as f,d as g,m as y,e as M,c as b,s as d,I as C,k as O,x as E,q as I}from"./withWebComponent-CT6sGXpP.js";import{d as x}from"./slot-_4yKMUwC.js";import{l as c}from"./event-strict-DgQLNDEV.js";import{K as h,c as v,b as S}from"./Keys-D3vKxxqj.js";import{i as P}from"./i18n-DEVDpFvK.js";import"./slim-arrow-right-CvUethEd.js";import{e as T}from"./Popover-DvifCVMh.js";import"./MenuItem-Dq5MPoh4.js";import{L as B}from"./ListItemCustom-PZE0YeFI.js";import{d as w}from"./parameters-bundle.css-BzaqQttB.js";import{d as R,c as D}from"./List-CIfGukHL.js";import{R as N}from"./ResponsivePopover-CUGN3zl8.js";import{B as j}from"./BusyIndicator-DZaR2rPi.js";import{a as A}from"./Button-W0cWTBMa.js";import{d as L}from"./decline-DUPuUXel.js";import{f as $,g as z}from"./i18n-defaults-Do22Zz-4.js";function F(){return p(B,{class:"ui5-menu-separator",_forcedAccessibleRole:"separator",disabled:!0})}f("@ui5/webcomponents-theming","sap_horizon",async()=>g);f("@ui5/webcomponents","sap_horizon",async()=>w);const K=`:host{border-top:.0625rem solid var(--sapGroup_ContentBorderColor);min-height:.125rem}.ui5-menu-separator{border:inherit;min-height:inherit;background:inherit;opacity:1}
`;var U=function(a,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,e,t,i);else for(var u=a.length-1;u>=0;u--)(n=a[u])&&(o=(r<3?n(o):r>3?n(e,t,o):n(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};let _=class extends R{get isSeparator(){return!0}get classes(){return{main:{"ui5-menu-separator":!0}}}get _focusable(){return!1}get _pressable(){return!1}};_=U([y({tag:"ui5-menu-separator",renderer:M,styles:[K],template:F})],_);_.define();function H(){return b(N,{id:`${this._id}-menu-rp`,class:"ui5-menu-rp",placement:"Bottom",verticalAlign:"Bottom",opener:this.opener,open:this.open,preventInitialFocus:!0,hideArrow:!0,allowTargetOverlap:!0,accessibleName:this.acessibleNameText,onBeforeOpen:this._beforePopoverOpen,onOpen:this._afterPopoverOpen,onBeforeClose:this._beforePopoverClose,onClose:this._afterPopoverClose,children:[this.isPhone&&b("div",{slot:"header",class:"ui5-menu-dialog-header",children:[p("div",{class:"ui5-menu-dialog-title",children:p("h1",{children:this.headerText})}),p(A,{icon:L,design:"Transparent","aria-label":this.labelClose,onClick:this._close})]}),p("div",{id:`${this._id}-menu-main`,children:this.items.length?p(D,{id:`${this._id}- menu-list`,selectionMode:"None",loading:this.loading,loadingDelay:this.loadingDelay,separators:"None",accessibleRole:"Menu",onItemClick:this._itemClick,onMouseOver:this._itemMouseOver,onKeyDown:this._itemKeyDown,"onui5-close-menu":this._close,children:p("slot",{})}):this.loading&&p(j,{id:`${this._id}-menu-busy-indicator`,delay:this.loadingDelay,class:"ui5-menu-busy-indicator",active:!0})})]})}f("@ui5/webcomponents-theming","sap_horizon",async()=>g);f("@ui5/webcomponents","sap_horizon",async()=>w);const k=`.ui5-menu-rp[ui5-responsive-popover]::part(header),.ui5-menu-rp[ui5-responsive-popover]::part(content),.ui5-menu-rp[ui5-responsive-popover]::part(footer){padding:0}.ui5-menu-rp[ui5-responsive-popover]{box-shadow:var(--sapContent_Shadow1);border-radius:var(--_ui5-v2-6-2_menu_popover_border_radius)}.ui5-menu-busy-indicator{width:100%}.ui5-menu-dialog-header{display:flex;height:var(--_ui5-v2-6-2-responsive_popover_header_height);align-items:center;justify-content:space-between;padding:0px 1rem;width:100%;overflow:hidden}.ui5-menu-dialog-title{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:calc(100% - 6.5rem);padding-right:1rem;font-family:var(--sapFontHeaderFamily)}.ui5-menu-dialog-title>h1{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--sapFontHeader5Size)}.ui5-menu-back-button{margin-right:1rem}
`;var l=function(a,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,e,t,i);else for(var u=a.length-1;u>=0;u--)(n=a[u])&&(o=(r<3?n(o):r>3?n(e,t,o):n(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},m;const q=300;let s=m=class extends C{constructor(){super(...arguments),this.open=!1,this.loading=!1,this.loadingDelay=1e3}get isRtl(){return this.effectiveDir==="rtl"}get labelClose(){return m.i18nBundle.getText($)}get isPhone(){return O()}get _popover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}get _menuItems(){return this.items.filter(e=>!e.isSeparator)}get acessibleNameText(){return m.i18nBundle.getText(z)}onBeforeRendering(){const e=this._menuItems.some(t=>!!t.icon);this._menuItems.forEach(t=>{t._siblingsWithIcon=e})}_close(){this.open=!1}_openItemSubMenu(e){clearTimeout(this._timeout),!(!e._popover||e._popover.open)&&(this.fireEvent("before-open",{item:e},!1,!1),e._popover.opener=e,e._popover.open=!0,e.selected=!0)}_closeItemSubMenu(e){if(e&&e._popover){const t=e._menuItems.find(i=>i._popover&&i._popover.open);t&&this._closeItemSubMenu(t),e._popover.open=!1,e.selected=!1}}_itemMouseOver(e){if(E()){const t=e.target;t.hasAttribute("ui5-menu-item")&&(t.focus(),this._startOpenTimeout(t))}}async focus(e){await I();const t=this._menuItems[0];return t?t.focus(e):super.focus(e)}_startOpenTimeout(e){clearTimeout(this._timeout),this._timeout=setTimeout(()=>{const t=e.parentElement,i=t&&t._menuItems.find(r=>r._popover&&r._popover.open);i&&this._closeItemSubMenu(i),this._openItemSubMenu(e)},q)}_itemClick(e){const t=e.detail.item;t._popover?this._openItemSubMenu(t):this.fireEvent("item-click",{item:t,text:t.text||""},!0,!1)&&this._popover&&t.fireEvent("close-menu",{})}_itemKeyDown(e){var n;if(!h(e)&&!v(e))return;const t=this.isRtl?v(e):h(e),i=this.isRtl?h(e):v(e),r=e.target,o=r.parentElement;S(e)&&e.preventDefault(),i?this._openItemSubMenu(r):t&&o.hasAttribute("ui5-menu-item")&&o._popover&&(o._popover.open=!1,o.selected=!1,(n=o._popover.opener)==null||n.focus())}_beforePopoverOpen(e){!this.fireEvent("before-open",{},!0,!0)&&(this.open=!1,e.preventDefault())}_afterPopoverOpen(){var e;(e=this._menuItems[0])==null||e.focus(),this.fireEvent("open",{},!1,!0)}_beforePopoverClose(e){!this.fireEvent("before-close",{escPressed:e.detail.escPressed},!0,!0)&&(this.open=!0,e.preventDefault())}_afterPopoverClose(){this.open=!1,this.fireDecoratorEvent("close")}};l([d()],s.prototype,"headerText",void 0);l([d({type:Boolean})],s.prototype,"open",void 0);l([d({type:Boolean})],s.prototype,"loading",void 0);l([d({type:Number})],s.prototype,"loadingDelay",void 0);l([d({converter:T})],s.prototype,"opener",void 0);l([x({default:!0,type:HTMLElement,invalidateOnChildChange:!0})],s.prototype,"items",void 0);l([P("@ui5/webcomponents")],s,"i18nBundle",void 0);s=m=l([y({tag:"ui5-menu",renderer:M,styles:k,template:H}),c("item-click"),c("before-open"),c("open"),c("before-close"),c("close")],s);s.define();const ue=s;export{ue as M,k as m};
