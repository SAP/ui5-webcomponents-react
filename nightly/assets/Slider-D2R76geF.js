import{p as r,q as a,v as p,b as g,m as S}from"./withWebComponent-DpVKsRHi.js";import{i as V}from"./i18n-DEVDpFvK.js";import{H as T}from"./Keys-DoZifIQ_.js";import{S as h}from"./SliderBase-DD7w8oBe.js";import{c as y,I as k}from"./Icon-CrKv37md.js";import{a as P}from"./Input-B242Ue_g.js";import{o as v}from"./class-map-CAgcI9af.js";import{s as u}from"./style-map-Bigav4TG.js";import{S as w,a as x,b as B}from"./i18n-defaults-CMHHS2wK.js";function D(s,t,e){return e?r`<div class="ui5-slider-root ${v(this.classes.root)}" @mousedown="${this._onmousedown}" @touchstart="${this._ontouchstart}" @mouseover="${this._onmouseover}" @mouseout="${this._onmouseout}" @keydown="${this._onkeydown}" @keyup="${this._onKeyupBase}" part="root-container"><div class="ui5-slider-inner">${this.step?I.call(this,s,t,e):void 0}<div class="ui5-slider-progress-container" aria-hidden="true" part="progress-container"><div class="ui5-slider-progress" style="${u(this.styles.progress)}" @focusout="${this._onfocusout}" @focusin="${this._onfocusin}" tabindex="-1" part="progress-bar"></div></div><div class="ui5-slider-handle-container" style="${u(this.styles.handle)}" part="handle-container"><div class="ui5-slider-handle" @focusout="${this._onfocusout}" @focusin="${this._onfocusin}" role="slider" tabindex="${a(this._tabIndex)}" aria-orientation="horizontal" aria-valuemin="${a(this.min)}" aria-valuemax="${a(this.max)}" aria-valuenow="${a(this.value)}" aria-labelledby="${a(this._ariaLabelledByHandleText)}" aria-disabled="${a(this._ariaDisabled)}" aria-keyshortcuts="F2" aria-describedby="${a(this._ariaDescribedByHandleText)}" data-sap-focus-ref part="handle"><${p("ui5-icon",t,e)} name="direction-arrows" mode="Decorative" part="icon-slider" slider-icon></${p("ui5-icon",t,e)}></div>${this.showTooltip?b.call(this,s,t,e):void 0}</div></div>${this.accessibleName?m.call(this,s,t,e):void 0}<span id="ui5-slider-sliderDesc" class="ui5-hidden-text">${a(this._ariaLabelledByText)}</span>${this.editableTooltip?$.call(this,s,t,e):void 0}</div> `:r`<div class="ui5-slider-root ${v(this.classes.root)}" @mousedown="${this._onmousedown}" @touchstart="${this._ontouchstart}" @mouseover="${this._onmouseover}" @mouseout="${this._onmouseout}" @keydown="${this._onkeydown}" @keyup="${this._onKeyupBase}" part="root-container"><div class="ui5-slider-inner">${this.step?I.call(this,s,t,e):void 0}<div class="ui5-slider-progress-container" aria-hidden="true" part="progress-container"><div class="ui5-slider-progress" style="${u(this.styles.progress)}" @focusout="${this._onfocusout}" @focusin="${this._onfocusin}" tabindex="-1" part="progress-bar"></div></div><div class="ui5-slider-handle-container" style="${u(this.styles.handle)}" part="handle-container"><div class="ui5-slider-handle" @focusout="${this._onfocusout}" @focusin="${this._onfocusin}" role="slider" tabindex="${a(this._tabIndex)}" aria-orientation="horizontal" aria-valuemin="${a(this.min)}" aria-valuemax="${a(this.max)}" aria-valuenow="${a(this.value)}" aria-labelledby="${a(this._ariaLabelledByHandleText)}" aria-disabled="${a(this._ariaDisabled)}" aria-keyshortcuts="F2" aria-describedby="${a(this._ariaDescribedByHandleText)}" data-sap-focus-ref part="handle"><ui5-icon name="direction-arrows" mode="Decorative" part="icon-slider" slider-icon></ui5-icon></div>${this.showTooltip?b.call(this,s,t,e):void 0}</div></div>${this.accessibleName?m.call(this,s,t,e):void 0}<span id="ui5-slider-sliderDesc" class="ui5-hidden-text">${a(this._ariaLabelledByText)}</span>${this.editableTooltip?$.call(this,s,t,e):void 0}</div> `}function I(s,t,e){return r`${this.showTickmarks?O.call(this,s,t,e):void 0}`}function O(s,t,e){return r`<ul class="ui5-slider-tickmarks">${y(this.tickmarksObject,(i,n)=>i._id||n,(i,n)=>L.call(this,s,t,e,i,n))}</ul>${this.labelInterval?N.call(this,s,t,e):void 0}`}function L(s,t,e,i,n){return r`${i?A.call(this,s,t,e,i,n):F.call(this,s,t,e,i,n)}`}function A(s,t,e,i,n){return r`<li class="ui5-slider-tickmark ui5-slider-tickmark-in-range"></li>`}function F(s,t,e,i,n){return r`<li class="ui5-slider-tickmark"></li>`}function N(s,t,e){return r`<ul class="ui5-slider-labels ${v(this.classes.labelContainer)}" style="${u(this.styles.labelContainer)}">${y(this._labels,(i,n)=>i._id||n,(i,n)=>H.call(this,s,t,e,i,n))}</ul>`}function H(s,t,e,i,n){return r`<li style="${u(this.styles.label)}">${a(i)}</li>`}function b(s,t,e){return r`<div class="ui5-slider-tooltip" style="${u(this.styles.tooltip)}">${this.editableTooltip?R.call(this,s,t,e):E.call(this,s,t,e)}</div>`}function R(s,t,e){return e?r`<${p("ui5-input",t,e)} value="${a(this._tooltipInputValue)}" value-state="${a(this._tooltipInputValueState)}" type="Number" accessible-name-ref="ui5-slider-InputLabel" @focusout="${this._onInputFocusOut}" @keydown="${this._onInputKeydown}" @ui5-change="${a(this._onInputChange)}" @ui5-input="${a(this._onInputInput)}" data-sap-ui-end-value tabindex="-1"></${p("ui5-input",t,e)}>`:r`<ui5-input value="${a(this._tooltipInputValue)}" value-state="${a(this._tooltipInputValueState)}" type="Number" accessible-name-ref="ui5-slider-InputLabel" @focusout="${this._onInputFocusOut}" @keydown="${this._onInputKeydown}" @ui5-change="${a(this._onInputChange)}" @ui5-input="${a(this._onInputInput)}" data-sap-ui-end-value tabindex="-1"></ui5-input>`}function E(s,t,e){return r`<span class="ui5-slider-tooltip-value">${a(this.tooltipValue)}</span>`}function m(s,t,e){return r`<span id="ui5-slider-accName" class="ui5-hidden-text">${a(this.accessibleName)}</span>`}function $(s,t,e){return r`<span id="ui5-slider-InputDesc" class="ui5-hidden-text">${a(this._ariaDescribedByInputText)}</span><span id="ui5-slider-InputLabel" class="ui5-hidden-text">${a(this._ariaLabelledByInputText)}</span>`}var f=function(s,t,e,i){var n=arguments.length,o=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,t,e,i);else for(var _=s.length-1;_>=0;_--)(l=s[_])&&(o=(n<3?l(o):n>3?l(t,e,o):l(t,e))||o);return n>3&&o&&Object.defineProperty(t,e,o),o},c;let d=c=class extends h{get formFormattedValue(){return this.value.toString()}constructor(){super(),this.value=0,this._progressPercentage=0,this._handlePositionFromStart=0,this._tooltipInputValue=this.value.toString(),this._tooltipInputValueState="None",this._stateStorage.value=void 0,this._lastValidInputValue=this.min.toString()}onBeforeRendering(){this.editableTooltip&&this._updateInputValue(),this.isCurrentStateOutdated()&&(this.notResized=!0,this.syncUIAndState(),this._updateHandleAndProgress(this.value))}syncUIAndState(){this.isPropertyUpdated("step")&&(this._validateStep(this.step),this.storePropertyState("step")),this.isPropertyUpdated("min","max","value")&&(this.storePropertyState("min","max"),this.value=h.clipValue(this.value,this._effectiveMin,this._effectiveMax),this.updateStateStorageAndFireInputEvent("value"),this.storePropertyState("value")),this.labelInterval&&this.showTickmarks&&this._createLabels(),this.isPropertyUpdated("labelInterval")&&this.storePropertyState("labelInterval")}_onmousedown(t){if(this.disabled||this.step===0||t.target.hasAttribute("ui5-input"))return;const e=this.handleDownBase(t);this._valueOnInteractionStart=this.value,this._valueInitial===void 0&&(this._valueInitial=this.value);const i=this.constructor;this._isHandlePressed(i.getPageXValueFromEvent(t))||(this._updateHandleAndProgress(e),this.value=e,this.updateStateStorageAndFireInputEvent("value"))}_onfocusin(){this._valueInitial===void 0&&(this._valueInitial=this.value),this.showTooltip&&(this._tooltipVisibility=h.TOOLTIP_VISIBILITY.VISIBLE)}_onfocusout(t){var e;if(this._isFocusing()){this._preventFocusOut();return}this._valueInitial=void 0,this.showTooltip&&!((e=t.relatedTarget)!=null&&e.hasAttribute("ui5-input"))&&(this._tooltipVisibility=h.TOOLTIP_VISIBILITY.HIDDEN)}_handleMove(t){if(t.target.hasAttribute("ui5-input")||(t.preventDefault(),this.disabled||this._effectiveStep===0))return;const i=this.constructor.getValueFromInteraction(t,this._effectiveStep,this._effectiveMin,this._effectiveMax,this.getBoundingClientRect(),this.directionStart);this._updateHandleAndProgress(i),this.value=i,this.updateStateStorageAndFireInputEvent("value")}_handleUp(t){t.target.hasAttribute("ui5-input")||(this._valueOnInteractionStart!==this.value&&this.fireDecoratorEvent("change"),this.handleUpBase(),this._valueOnInteractionStart=void 0)}_onInputFocusOut(t){const e=this.shadowRoot.querySelector("[ui5-input]");this._tooltipVisibility=h.TOOLTIP_VISIBILITY.HIDDEN,this._updateValueFromInput(t),this._isInputValueValid||(e.value=this._lastValidInputValue,this._isInputValueValid=!0,this._tooltipInputValueState="None")}_updateInputValue(){const t=this.shadowRoot.querySelector("[ui5-input]");if(t){if(this._isInputValueValid=parseFloat(t.value)>=this.min&&parseFloat(t.value)<=this.max,!this._isInputValueValid){this._tooltipInputValue=this._lastValidInputValue,this._isInputValueValid=!0,this._tooltipInputValueState="Negative";return}this._tooltipInputValue=this.value.toString(),this._lastValidInputValue=this._tooltipInputValue,this._tooltipInputValueState="None"}}_isHandlePressed(t){const e=this._sliderHandle.getBoundingClientRect();return t>=e.left&&t<=e.right}_updateHandleAndProgress(t){const e=this._effectiveMax,i=this._effectiveMin;this._progressPercentage=(t-i)/(e-i),this._handlePositionFromStart=this._progressPercentage*100}_handleActionKeyPress(t){const e=this._effectiveMin,i=this._effectiveMax,n=this.value,o=this.constructor,l=T(t)?this._valueInitial:o.clipValue(this._handleActionKeyPressBase(t,"value")+n,e,i);l!==n&&(this._updateHandleAndProgress(l),this.value=l,this.updateStateStorageAndFireInputEvent("value"))}get inputValue(){return this.value.toString()}get styles(){return{progress:{transform:`scaleX(${this._progressPercentage})`,"transform-origin":`${this.directionStart} top`},handle:{[this.directionStart]:`${this._handlePositionFromStart}%`},label:{width:`${this._labelWidth}%`},labelContainer:{width:"100%",[this.directionStart]:`-${this._labelWidth/2}%`},tooltip:{visibility:`${this._tooltipVisibility}`}}}get _sliderHandle(){return this.shadowRoot.querySelector(".ui5-slider-handle")}get tooltipValue(){const e=this.constructor._getDecimalPrecisionOfNumber(this._effectiveStep);return this.value.toFixed(e)}get _ariaDisabled(){return this.disabled||void 0}get _ariaLabelledByText(){return c.i18nBundle.getText(w)}get _ariaDescribedByInputText(){return c.i18nBundle.getText(x)}get _ariaLabelledByInputText(){return c.i18nBundle.getText(B)}get tickmarksObject(){const t=this._tickmarksCount,e=[];if(this._hiddenTickmarks)return[!0,!1];for(let i=0;i<=t;i++)e.push(this._effectiveMin+i*this.step<=this.value);return e}};f([g({type:Number})],d.prototype,"value",void 0);f([V("@ui5/webcomponents")],d,"i18nBundle",void 0);d=c=f([S({tag:"ui5-slider",languageAware:!0,formAssociated:!0,template:D,dependencies:[k,P]})],d);d.define();const G=d;export{G as S};
