import{c as d,l as m,ag as I,aT as D,a1 as P,aW as V,R as r,f as g,p as f,d as k,b as S,s as u,A as x,ar as C,m as E,b7 as _,d6 as A,c8 as F,bi as N,bk as R,bj as B,dy as M,dz as O,b9 as H,dA as $,dB as L,cB as Y,dC as z,dD as U,cD as W,dE as j,cd as q,cP as K,bz as G,aL as J,aK as Q,aJ as X,aM as Z,bu as ee,dF as te,dG as ae,dH as ie,aQ as b,k as oe}from"./iframe-D1CS9P6r.js";import{o as T}from"./query-CzSBusdE.js";import{c as re,a as ne,D as se,g as ue,m as le,b as de,d as v}from"./Calendar-cwBinqVV.js";import{U as y}from"./Gregorian-DvvYce2G.js";import"./appointment-2-CmpxQkSQ.js";import{a as ce}from"./Input-BhDETh0z.js";import{D as he}from"./DateTimeInput-6pxD19e7.js";import{a as pe,e as _e}from"./alert-DkFxMsXD.js";import{s as ve}from"./sys-enter-2-JjIQxhse.js";import{i as ge}from"./information-BCqqCqDW.js";import{R as me}from"./ResponsivePopoverCommon.css-Cpf4pg7D.js";import{V as fe}from"./ValueStateMessage.css-BJKQtiUN.js";const be=o=>(o||(o=new Date().getTime()),(o-o%(24*60*60*1e3))/1e3);function ye(){return d("div",{class:"ui5-date-picker-root",style:{width:"100%"},children:m(he,{"data-sap-focus-ref":!0,id:`${this._id}-inner`,class:"ui5-date-picker-input",placeholder:this._placeholder,type:this.type,value:this.value,disabled:this.disabled,required:this.required,readonly:this.readonly,valueState:this.valueState,_inputAccInfo:this.accInfo,_shouldOpenValueStatePopover:!this.open,onChange:this._onInputChange,onInput:this._onInputInput,onSubmit:this._onInputSubmit,onKeyDown:this._onkeydown,children:[!this.open&&this.valueStateMessage.length>0&&d("slot",{name:"valueStateMessage",slot:"valueStateMessage"}),!this.readonly&&d(I,{id:`${this._id}-value-help`,slot:"icon",name:this.openIconName,tabindex:-1,accessibleName:this.openIconTitle,mode:this._iconMode,showTooltip:!0,class:{inputIcon:!0,"inputIcon--pressed":this.open},onClick:this._togglePicker})]})})}function Ie(o){const e=o?.header||ke,t=o?.content||Se,n=o?.footer||Pe;return m(D,{id:`${this._id}-responsive-popover`,class:"ui5-date-picker-popover",opener:this,open:this.open,allowTargetOverlap:!0,placement:"Bottom",horizontalAlign:"Start",accessibleName:this.pickerAccessibleName,hideArrow:!0,_hideHeader:this._shouldHideHeader,onKeyDown:this._onkeydown,onClose:this.onResponsivePopoverAfterClose,onOpen:this.onResponsivePopoverAfterOpen,onBeforeOpen:this.onResponsivePopoverBeforeOpen,children:[this.showHeader&&e.call(this),we.call(this),t.call(this),this.showFooter&&n.call(this)]})}function ke(){return d("div",{slot:"header",class:"ui5-responsive-popover-header",children:m("div",{class:"row",children:[d("span",{children:this._headerTitleText}),d(P,{class:"ui5-responsive-popover-close-btn",icon:V,design:"Transparent",onClick:this._togglePicker})]})})}function Se(){return d(ne,{id:`${this._id}-calendar`,primaryCalendarType:this._primaryCalendarType,secondaryCalendarType:this.secondaryCalendarType,formatPattern:this._formatPattern,selectionMode:this._calendarSelectionMode,minDate:this.minDate,maxDate:this.maxDate,calendarWeekNumbering:this.calendarWeekNumbering,onSelectionChange:this.onSelectedDatesChange,onShowMonthView:this.onHeaderShowMonthPress,onShowYearView:this.onHeaderShowYearPress,hideWeekNumbers:this.hideWeekNumbers,_currentPicker:this._calendarCurrentPicker,_pickersMode:this._calendarPickersMode,children:this._calendarSelectedDates.map(o=>d(re,{value:o}))})}function Te(){return this.shouldDisplayDefaultValueStateMessage?this.valueStateDefaultText:d("slot",{name:"valueStateMessage"})}function we(){if(this.hasValueStateText)return m("div",{slot:g()?void 0:"header",class:{"ui5-popover-header":!0,"ui5-valuestatemessage-header":!0,"ui5-valuestatemessage-root":!0,"ui5-valuestatemessage--success":this.valueState===r.Positive,"ui5-valuestatemessage--error":this.valueState===r.Negative,"ui5-valuestatemessage--warning":this.valueState===r.Critical,"ui5-valuestatemessage--information":this.valueState===r.Information},children:[d(I,{class:"ui5-input-value-state-message-icon",name:De.call(this)}),Te.call(this)]})}function De(){const o={Negative:_e,Critical:pe,Positive:ve,Information:ge};return this.valueState!==r.None?o[this.valueState]:""}function Pe(){}function Ve(){return[ye.call(this),Ie.call(this)]}f("@ui5/webcomponents-theming","sap_horizon",async()=>k);f("@ui5/webcomponents","sap_horizon",async()=>S);const xe=`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}.inputIcon{color:var(--_ui5-v2-13-2_input_icon_color);cursor:pointer;outline:none;padding:var(--_ui5-v2-13-2_input_icon_padding);border-inline-start:var(--_ui5-v2-13-2_input_icon_border);min-width:1rem;min-height:1rem;border-radius:var(--_ui5-v2-13-2_input_icon_border_radius)}.inputIcon.inputIcon--pressed{background:var(--_ui5-v2-13-2_input_icon_pressed_bg);box-shadow:var(--_ui5-v2-13-2_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-13-2_select_hover_icon_left_border);color:var(--_ui5-v2-13-2_input_icon_pressed_color)}.inputIcon:active{background-color:var(--sapButton_Active_Background);box-shadow:var(--_ui5-v2-13-2_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-13-2_select_hover_icon_left_border);color:var(--_ui5-v2-13-2_input_icon_pressed_color)}.inputIcon:not(.inputIcon--pressed):not(:active):hover{background:var(--_ui5-v2-13-2_input_icon_hover_bg);box-shadow:var(--_ui5-v2-13-2_input_icon_box_shadow)}.inputIcon:hover{border-inline-start:var(--_ui5-v2-13-2_select_hover_icon_left_border);box-shadow:var(--_ui5-v2-13-2_input_icon_box_shadow)}:host([disabled]){cursor:default;pointer-events:none;background:none}:host([readonly]:not([disabled])){border-color:var(--_ui5-v2-13-2_input_readonly_border_color);background:var(--sapField_ReadOnly_BackgroundStyle);background-color:var(--_ui5-v2-13-2_input_readonly_background)}:host([value-state="Negative"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-13-2_input_error_icon_box_shadow)}:host([value-state="Critical"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-13-2_input_warning_icon_box_shadow)}:host([value-state="Information"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-13-2_input_information_icon_box_shadow)}:host([value-state="Positive"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-13-2_input_success_icon_box_shadow)}:host([value-state="Negative"]:not([readonly]):not([disabled])){background:var(--sapField_InvalidBackgroundStyle);background-color:var(--sapField_InvalidBackground);border-color:var(--_ui5-v2-13-2_input_value_state_error_border_color);box-shadow:var(--sapField_InvalidShadow)}:host([value-state="Critical"]:not([readonly]):not([disabled])){background:var(--sapField_WarningBackgroundStyle);background-color:var(--sapField_WarningBackground);border-color:var(--_ui5-v2-13-2_input_value_state_warning_border_color);box-shadow:var(--sapField_WarningShadow)}:host([value-state="Positive"]:not([readonly]):not([disabled])){background:var(--sapField_SuccessBackgroundStyle);background-color:var(--sapField_SuccessBackground);border-color:var(--_ui5-v2-13-2_input_value_state_success_border_color);border-width:var(--_ui5-v2-13-2_input_value_state_success_border_width);box-shadow:var(--sapField_SuccessShadow)}:host([value-state="Information"]:not([readonly]):not([disabled])){background:var(--sapField_InformationBackgroundStyle);background-color:var(--sapField_InformationBackground);border-color:var(--_ui5-v2-13-2_input_value_state_information_border_color);border-width:var(--_ui5-v2-13-2_input_information_border_width);box-shadow:var(--sapField_InformationShadow)}:host([value-state="Negative"]) .inputIcon:active,:host([value-state="Negative"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-13-2_input_error_icon_box_shadow);color:var(--_ui5-v2-13-2_input_icon_error_pressed_color)}:host([value-state="Critical"]) .inputIcon:active,:host([value-state="Critical"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-13-2_input_warning_icon_box_shadow);color:var(--_ui5-v2-13-2_input_icon_warning_pressed_color)}:host([value-state="Information"]) .inputIcon:active,:host([value-state="Information"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-13-2_input_information_icon_box_shadow);color:var(--_ui5-v2-13-2_input_icon_information_pressed_color)}:host([value-state="Positive"]) .inputIcon:active,:host([value-state="Positive"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-13-2_input_success_icon_box_shadow);color:var(--_ui5-v2-13-2_input_icon_success_pressed_color)}:host([value-state="Negative"]) .inputIcon,:host([value-state="Critical"]) .inputIcon{padding:var(--_ui5-v2-13-2_input_error_warning_icon_padding)}:host([value-state="Information"]) .inputIcon{padding:var(--_ui5-v2-13-2_input_information_icon_padding)}:host(:not([hidden])){display:inline-block;line-height:normal;letter-spacing:normal;word-spacing:normal;height:var(--_ui5-v2-13-2_input_height);border-radius:var(--_ui5-v2-13-2_input_border_radius)}:host{min-width:calc(var(--_ui5-v2-13-2_input_min_width) + var(--_ui5-v2-13-2_input_icon_width));color:var(--sapField_TextColor);background-color:var(--sapField_Background);border-radius:var(--_ui5-v2-13-2-datepicker_border_radius);margin:var(--_ui5-v2-13-2_input_margin_top_bottom) 0;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}:host(:not([disabled]):not([readonly]):active){background:var(--_ui5-v2-13-2-datepicker-hover-background)}:host(:not([disabled]):not([readonly]):hover){background:var(--_ui5-v2-13-2-datepicker-hover-background)}.ui5-date-picker-root{border-radius:inherit;height:inherit;line-height:inherit;letter-spacing:inherit;word-spacing:inherit}:host .ui5-date-picker-input{width:100%;color:inherit;background-color:inherit;border-radius:inherit;height:inherit;line-height:inherit;letter-spacing:inherit;word-spacing:inherit;margin:inherit}:host([disabled]) .ui5-date-picker-input{background-color:var(--_ui5-v2-13-2-input_disabled_background);opacity:var(--_ui5-v2-13-2_input_disabled_opacity)}:host(:not([disabled]):not([readonly])) .ui5-date-picker-input[focused]{background-color:var(--_ui5-v2-13-2-datepicker-hover-background)}.ui5-date-picker-popover::part(header){padding:0}
`;f("@ui5/webcomponents-theming","sap_horizon",async()=>k);f("@ui5/webcomponents","sap_horizon",async()=>S);const Ce=`.ui5-date-picker-popover{width:20rem;.ui5-popover-header{width:100%}}[ui5-calendar]{width:100%;display:flex;justify-content:center}[ui5-responsive-popover]::part(content){padding:0}
`;var i=function(o,e,t,n){var c=arguments.length,s=c<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(o,e,t,n);else for(var p=o.length-1;p>=0;p--)(h=o[p])&&(s=(c<3?h(s):c>3?h(e,t,s):h(e,t))||s);return c>3&&s&&Object.defineProperty(e,t,s),s},l;let a=l=class extends se{constructor(){super(...arguments),this.value="",this.valueState="None",this.required=!1,this.disabled=!1,this.readonly=!1,this.hideWeekNumbers=!1,this.open=!1,this._calendarCurrentPicker="day"}get formValidityMessage(){return l.i18nBundle.getText(A)}get formValidity(){return{valueMissing:this.required&&!this.value}}async formElementAnchor(){return(await this.getFocusDomRefAsync())?.getFocusDomRefAsync()}get formFormattedValue(){return this.value}onResponsivePopoverAfterClose(){this.open=!1,g()?this.blur():this._dateTimeInput?.focus(),this.fireDecoratorEvent("close")}onResponsivePopoverAfterOpen(){this.fireDecoratorEvent("open")}onResponsivePopoverBeforeOpen(){this._calendar.timestamp=this._calendarTimestamp,this._calendarCurrentPicker=this.firstPicker}onBeforeRendering(){["minDate","maxDate"].forEach(e=>{const t=this[e];this.isValid(t)||console.warn(`Invalid value for property "${e}": ${t} is not compatible with the configured format pattern: "${this._displayFormat}"`)}),this.value=this.normalizeValue(this.value)||this.value,this.liveValue=this.value}get _calendarSelectionMode(){return"Single"}get _calendarTimestamp(){if(this.value&&this.dateValueUTC&&this._checkValueValidity(this.value)){const e=this.dateValueUTC.getTime();return be(e)}return ue(this._primaryCalendarType)}get _calendarSelectedDates(){return this.value&&this._checkValueValidity(this.value)?[this.value]:[]}_onkeydown(e){F(e)&&(e.preventDefault(),this.open?N(e)||this._toggleAndFocusInput():this._toggleAndFocusInput());const t=e.target;t&&this.open&&this._dateTimeInput.id===t.id&&(R(e)||B(e)||M(e)||O(e))&&this._togglePicker(),!this.open&&(H(e)?this._internals.form&&$(this):L(e)?(e.preventDefault(),this._modifyDateValue(1,"year")):Y(e)?(e.preventDefault(),this._modifyDateValue(1,"month")):z(e)?(e.preventDefault(),this._modifyDateValue(1,"day")):U(e)?(e.preventDefault(),this._modifyDateValue(-1,"year")):W(e)?(e.preventDefault(),this._modifyDateValue(-1,"month")):j(e)&&(e.preventDefault(),this._modifyDateValue(-1,"day")))}_modifyDateValue(e,t,n){if(!this.dateValue)return;const c=le(de.fromLocalJSDate(this.dateValue),e,t,n,this._minDate,this._maxDate),s=this.formatValue(c.toUTCJSDate());this._updateValueAndFireEvents(s,!0,["change","value-changed"])}_updateValueAndFireEvents(e,t,n,c=!0){const s=this._checkValueValidity(e);s&&t&&(e=this.normalizeValue(e));let h=!0;this.liveValue=e;const p=this.value;if(c&&(this._dateTimeInput.value=e,this.value=e,this._updateValueState()),n.forEach(w=>{this.fireDecoratorEvent(w,{value:e,valid:s})||(h=!1)}),!h&&c){if(this.value!==p&&this.value!==this._dateTimeInput.value)return;this._dateTimeInput.value=p,this.value=p}}_updateValueState(){const e=this._checkValueValidity(this.value),t=this.valueState;this.valueState=e?r.None:r.Negative,!this.fireDecoratorEvent("value-state-change",{valueState:this.valueState,valid:e})&&(this.valueState=t)}_onInputSubmit(){}_onInputChange(e){this._updateValueAndFireEvents(e.target.value,!0,["change","value-changed"])}_onInputInput(e){this._updateValueAndFireEvents(e.target.value,!1,["input"],!1)}_checkValueValidity(e){return e===""?!0:this.isValid(e)&&this.isInValidRange(e)}_click(e){g()&&(this.responsivePopover.opener=this,this.responsivePopover.open=!0,e.preventDefault())}isValid(e){return e===""||e===void 0?!0:!!this.getFormat().parse(e)}isInValidRange(e){if(e===""||e===void 0)return!0;const t=this._getCalendarDateFromString(e);return!t||!this._minDate||!this._maxDate?!1:t.valueOf()>=this._minDate.valueOf()&&t.valueOf()<=this._maxDate.valueOf()}normalizeValue(e){return e===""?e:this.getFormat().format(this.getFormat().parse(e,!0),!0)}get _displayFormat(){return this.getFormat().oFormatOptions.pattern}get _lastDayOfTheYear(){const e=y.getInstance().getFullYear(),t=y.getInstance(e,11,31,23,59,59);return this.getFormat().format(t)}get _placeholder(){return this.placeholder?this.placeholder:`${l.i18nBundle.getText(q)} ${this._lastDayOfTheYear}`}get _headerTitleText(){return l.i18nBundle.getText(K)}get showHeader(){return g()}get showFooter(){return g()}get accInfo(){return{ariaRoledescription:this.dateAriaDescription,ariaHasPopup:"grid",ariaRequired:this.required,ariaLabel:G(this)}}get valueStateDefaultText(){if(this.valueState!==r.None)return this.valueStateTextMappings[this.valueState]}get valueStateTextMappings(){return{[r.Positive]:l.i18nBundle.getText(Z),[r.Negative]:l.i18nBundle.getText(X),[r.Critical]:l.i18nBundle.getText(Q),[r.Information]:l.i18nBundle.getText(J)}}get shouldDisplayDefaultValueStateMessage(){return!ee(this.valueStateMessage)&&this.hasValueStateText}get hasValueStateText(){return this.hasValueState&&this.valueState!==r.Positive}get hasValueState(){return this.valueState!==r.None}get openIconTitle(){return l.i18nBundle.getText(te)}get openIconName(){return"appointment-2"}get dateAriaDescription(){return l.i18nBundle.getText(ae)}get pickerAccessibleName(){return l.i18nBundle.getText(ie)}get _shouldHideHeader(){return!1}get firstPicker(){const e=this._calendarPickersMode;let t="day";return e===v.YEAR?t="year":e===v.MONTH_YEAR&&(t="month"),t}get _iconMode(){return oe()?b.Decorative:b.Interactive}_canOpenPicker(){return!this.disabled&&!this.readonly}get _calendarPickersMode(){const t=this.getFormat().aFormatArray.map(n=>n.type.toLowerCase());return t.includes("day")?v.DAY_MONTH_YEAR:t.includes("month")||t.includes("monthstandalone")?v.MONTH_YEAR:v.YEAR}onSelectedDatesChange(e){e.preventDefault();const t=e.detail.selectedValues&&e.detail.selectedValues[0];this._updateValueAndFireEvents(t,!0,["change","value-changed"]),this._togglePicker()}onHeaderShowMonthPress(){this._calendarCurrentPicker="month"}onHeaderShowYearPress(){this._calendarCurrentPicker="year"}formatValue(e){return this.getFormat().format(e)}_togglePicker(){this.open=!this.open}_toggleAndFocusInput(){this._togglePicker(),this._dateTimeInput.focus()}get dateValue(){return this.liveValue?this.getFormat().parse(this.liveValue):this.getFormat().parse(this.value)}get dateValueUTC(){return this.liveValue?this.getFormat().parse(this.liveValue,!0):this.getFormat().parse(this.value)}get styles(){return{main:{width:"100%"}}}get type(){return ce.Text}};i([u()],a.prototype,"value",void 0);i([u()],a.prototype,"valueState",void 0);i([u({type:Boolean})],a.prototype,"required",void 0);i([u({type:Boolean})],a.prototype,"disabled",void 0);i([u({type:Boolean})],a.prototype,"readonly",void 0);i([u()],a.prototype,"placeholder",void 0);i([u()],a.prototype,"name",void 0);i([u({type:Boolean})],a.prototype,"hideWeekNumbers",void 0);i([u({type:Boolean})],a.prototype,"open",void 0);i([u()],a.prototype,"accessibleName",void 0);i([u()],a.prototype,"accessibleNameRef",void 0);i([u({type:Object})],a.prototype,"_respPopoverConfig",void 0);i([u()],a.prototype,"_calendarCurrentPicker",void 0);i([x({type:HTMLElement})],a.prototype,"valueStateMessage",void 0);i([T("[ui5-datetime-input]")],a.prototype,"_dateTimeInput",void 0);i([T("[ui5-calendar]")],a.prototype,"_calendar",void 0);i([C("@ui5/webcomponents")],a,"i18nBundle",void 0);a=l=i([E({tag:"ui5-date-picker",languageAware:!0,formAssociated:!0,template:Ve,styles:[xe,me,Ce,fe]}),_("change",{bubbles:!0,cancelable:!0}),_("input",{bubbles:!0,cancelable:!0}),_("value-state-change",{bubbles:!0,cancelable:!0}),_("open"),_("close")],a);a.define();const Ue=a;export{ye as D,Ie as a,Ue as b};
