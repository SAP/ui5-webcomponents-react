import{j as $,p as R,d as E,s as A,m as H,l as V,A as x}from"./jsx-runtime-cXES_1K3.js";import{d as I}from"./parameters-bundle.css-DHLNbl9v.js";let g=null,j=!1;const w=new Set,y=new Set,M=e=>{!e.dataTransfer||!(e.target instanceof HTMLElement)||y.has(e.target)||(g=e.target)},T=()=>{g=null},P=()=>{g=null},L=e=>{g=e},S=()=>g,N=()=>{document.body.addEventListener("dragstart",M),document.body.addEventListener("dragend",T),document.body.addEventListener("drop",P)},F=e=>{w.add(e),N()},U=e=>{w.delete(e),w.size},Y=e=>(y.add(e),L),q=e=>{y.delete(e)},W={subscribe:F,unsubscribe:U,addSelfManagedArea:Y,removeSelfManagedArea:q,getDraggedElement:S};var m=(e=>(e.Vertical="Vertical",e.Horizontal="Horizontal",e))(m||{}),n=(e=>(e.On="On",e.Before="Before",e.After="After",e))(n||{});const C=(e,i,a,o)=>{const t=Math.abs(e-i),r=Math.abs(e-a),s=Math.abs(e-o),c=Math.min(t,r,s);let p=[];switch(c){case t:p=[n.Before];break;case r:p=[n.On,t<s?n.Before:n.After];break;case s:p=[n.After];break}return p},X=(e,i,a)=>{let o=Number.POSITIVE_INFINITY,t=null;for(let u=0;u<e.length;u++){const D=e[u],{left:O,width:_,top:B,height:z}=D.getBoundingClientRect();let v;a===m.Vertical?v=B+z/2:v=O+_/2;const k=Math.abs(i-v);k<o&&(o=k,t=D)}if(!t)return null;const{width:r,height:s,left:c,right:p,top:d,bottom:l}=t.getBoundingClientRect();let f;return a===m.Vertical?f=C(i,d,d+s/2,l):f=C(i,c,c+r/2,p),{element:t,placements:f}},Z=(e,i,a)=>{let o=e.indexOf(i);const t=[];switch(a.key){case"ArrowLeft":case"ArrowUp":o--,o>=0&&t.push({element:e[o],placement:n.Before});break;case"ArrowRight":case"ArrowDown":o++,o<e.length&&t.push({element:e[o],placement:n.After});break;case"Home":e.forEach(r=>{t.push({element:r,placement:n.Before})});break;case"End":e.reverse().forEach(r=>{t.push({element:r,placement:n.After})});break}return t};function G(){return $("div",{class:{"ui5-di-rect":this.placement===n.On,"ui5-di-needle":this.placement!==n.On}})}R("@ui5/webcomponents-theming","sap_horizon",async()=>E);R("@ui5/webcomponents","sap_horizon",async()=>I);const J=`:host{position:absolute;pointer-events:none;z-index:99}:host([orientation="Vertical"]) .ui5-di-needle{width:.125rem;height:100%;inset-block:0;background:var(--sapContent_DragAndDropActiveColor)}:host([orientation="Vertical"]){margin-left:-.0625rem}:host([orientation="Horizontal"]) .ui5-di-needle{height:.125rem;width:100%;inset-inline:0;background:var(--sapContent_DragAndDropActiveColor)}:host([orientation="Horizontal"]){margin-top:-.0625rem}:host([orientation="Horizontal"][placement="Before"][first]){margin-top:.3125rem}:host([orientation="Horizontal"][placement="After"][last]){margin-top:-.3125rem}:host([orientation="Vertical"]) .ui5-di-needle:before{left:-.1875rem;content:"";position:absolute;width:.25rem;height:.25rem;border-radius:.25rem;border:.125rem solid var(--sapContent_DragAndDropActiveColor);background-color:#fff;pointer-events:none}:host([orientation="Horizontal"]) .ui5-di-needle:before{top:-.1875rem;content:"";position:absolute;width:.25rem;height:.25rem;border-radius:.25rem;border:.125rem solid var(--sapContent_DragAndDropActiveColor);background-color:#fff;pointer-events:none}:host .ui5-di-rect{border:.125rem solid var(--sapContent_DragAndDropActiveColor);position:absolute;inset:0}:host .ui5-di-rect:before{content:" ";position:absolute;inset:0;background:var(--sapContent_DragAndDropActiveColor);opacity:.05}
`;var b=function(e,i,a,o){var t=arguments.length,r=t<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,i,a,o);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(t<3?s(r):t>3?s(i,a,r):s(i,a))||r);return t>3&&r&&Object.defineProperty(i,a,r),r};let h=class extends x{get _positionProperty(){return this.orientation===m.Vertical?"left":"top"}constructor(){super(),this.targetReference=null,this.ownerReference=null,this.placement="Before",this.orientation="Vertical"}onAfterRendering(){if(!this.targetReference||!this.ownerReference){Object.assign(this.style,{display:"none"});return}const{left:i,width:a,right:o,top:t,bottom:r,height:s}=this.targetReference.getBoundingClientRect(),{top:c,height:p}=this.ownerReference.getBoundingClientRect(),d={display:"",[this._positionProperty]:"",width:"",height:""};let l=0,f=!1,u=!1;if(this.orientation===m.Vertical){switch(this.placement){case n.Before:l=i;break;case n.On:d.width=`${a}px`,l=i;break;case n.After:l=o;break}d.height=`${s}px`}if(this.orientation===m.Horizontal){switch(this.placement){case n.Before:l=t;break;case n.On:d.height=`${s}px`,l=t;break;case n.After:l=r;break}d.width=`${a}px`,l-=c,l<=0&&(u=!0),l>=p&&(f=!0)}d[this._positionProperty]=`${l}px`,this.toggleAttribute("first",u),this.toggleAttribute("last",f),Object.assign(this.style,d)}};b([A({type:Object})],h.prototype,"targetReference",void 0);b([A({type:Object})],h.prototype,"ownerReference",void 0);b([A()],h.prototype,"placement",void 0);b([A()],h.prototype,"orientation",void 0);h=b([H({tag:"ui5-drop-indicator",renderer:V,styles:J,template:G})],h);h.define();const te=h;export{te as D,m as a,Z as k,W as p,n as r,X as w};
