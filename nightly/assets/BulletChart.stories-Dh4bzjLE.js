import{f as Ls,t as Bs,l as Vs}from"./DemoProps-CM7ve7wo.js";import{j as s}from"./jsx-runtime-CLpGMVip.js";import{T as $}from"./ThemingParameters-le4wpk1U.js";import{e as q}from"./index-BQ73vKGB.js";import{r as O}from"./index-D23YZj_x.js";import{u as Fs,a as Rs,C as Hs,Y as D,b as B,X as W,c as V}from"./YAxisTicks-DrQ71R4i.js";import{u as Es,C as Ms}from"./ChartDataLabel-DDF5aXoe.js";import{u as Xs,t as Ns,a as Us,b as Gs,c as qs,e as ps}from"./staticProps-C8ijBduP.js";import{u as Js}from"./useLongestYAxisLabel-B6EZT_pj.js";import{u as Qs}from"./useOnClickInternal-Bzi6oxFd.js";import{u as Zs,a as st,r as tt,b as J}from"./useTooltipFormatter-z6hUvnAk.js";import{n as et,R as ot,T as rt,o as at,B as it,p as nt,q as ct}from"./ChartContainer-Cu5mgRhq.js";import{C as lt}from"./react-content-loader.es-CXkD-qGt.js";import{C as dt}from"./ComposedChart-_HlE3dr2.js";import{h as ht}from"./withWebComponent-DfVDXLfc.js";import{u as xt}from"./useIsRTL-CAvJaecp.js";const mt=r=>{const{x,y:d,width:m,height:h,index:g,fill:I,strokeWidth:l,layout:f}=r,P={x1:l?x+(m-l)/2-1:x-3,x2:l?x+l+(m-l)/2:x+m+3},A={y1:l?d+(h-l)/2-1:d-3,y2:l?d+l+(h-l)/2:d+h+3};return f==="horizontal"?s.jsx("line",{x1:P.x1,x2:P.x2,y1:d,y2:d,stroke:I,strokeWidth:3},`target-${g}`):s.jsx("line",{x1:x+m,x2:x+m,y1:A.y1,y2:A.y2,stroke:I,strokeWidth:3},`target-${g}`)},ut=s.jsxs(s.Fragment,{children:[s.jsx("rect",{x:"20",y:"20",width:"85",height:"15"}),s.jsx("rect",{x:"20",y:"40",width:"117",height:"15"}),s.jsx("rect",{x:"20",y:"60",width:"67",height:"15"}),s.jsx("rect",{x:"20",y:"80",width:"75",height:"15"}),s.jsx("rect",{x:"20",y:"100",width:"125",height:"15"}),s.jsx("rect",{x:"20",y:"120",width:"60",height:"15"}),s.jsx("rect",{x:"115",y:"17.5",width:"2",height:"20"}),s.jsx("rect",{x:"150",y:"37.5",width:"2",height:"20"}),s.jsx("rect",{x:"90",y:"57.5",width:"2",height:"20"}),s.jsx("rect",{x:"100",y:"77.5",width:"2",height:"20"}),s.jsx("rect",{x:"120",y:"97.5",width:"2",height:"20"}),s.jsx("rect",{x:"87",y:"117.5",width:"2",height:"20"})]}),gt=s.jsxs(s.Fragment,{children:[s.jsx("rect",{x:"20",y:"50",width:"15",height:"85"}),s.jsx("rect",{x:"40",y:"70",width:"15",height:"65"}),s.jsx("rect",{x:"60",y:"68",width:"15",height:"67"}),s.jsx("rect",{x:"80",y:"60",width:"15",height:"75"}),s.jsx("rect",{x:"100",y:"10",width:"15",height:"125"}),s.jsx("rect",{x:"120",y:"75",width:"15",height:"60"}),s.jsx("rect",{x:"17.5",y:"35",width:"20",height:"2"}),s.jsx("rect",{x:"37.5",y:"62",width:"20",height:"2"}),s.jsx("rect",{x:"57.5",y:"56",width:"20",height:"2"}),s.jsx("rect",{x:"77.5",y:"37",width:"20",height:"2"}),s.jsx("rect",{x:"97.5",y:"45",width:"20",height:"2"}),s.jsx("rect",{x:"117.5",y:"70",width:"20",height:"2"})]}),pt=({layout:r,measures:x})=>{const d=new Set(x.map(m=>m.type));return s.jsxs(lt,{viewBox:"0 0 165 145",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%",speed:2,backgroundColor:$.sapContent_ImagePlaceholderBackground,foregroundColor:$.sapContent_ImagePlaceholderForegroundColor,backgroundOpacity:$.sapContent_DisabledOpacity,children:[r==="vertical"&&s.jsx("rect",{x:"20",y:"10",width:"1",height:"135"}),r==="horizontal"&&s.jsx("rect",{x:"10",y:"135",width:"135",height:"1"}),r==="vertical"&&d.has("primary")&&ut,r==="horizontal"&&d.has("primary")&&gt]})},yt={formatter:ps},ft={formatter:ps,opacity:1},ys=O.forwardRef((r,x)=>{var X,N,U;const{loading:d,loadingDelay:m,dataset:h,onDataPointClick:g,noLegend:I,noAnimation:l,tooltipConfig:f,onLegendClick:P,onClick:A,layout:c="horizontal",style:fs,className:Cs,slot:As,syncId:vs,ChartPlaceholder:bs,children:js,...ks}=r,[ws,F]=ht(x),e={yAxisVisible:!1,xAxisVisible:!0,gridStroke:$.sapList_BorderColor,gridHorizontal:!0,gridVertical:!1,legendPosition:"bottom",legendHorizontalAlign:"left",zoomingTool:!1,resizeDebounce:250,yAxisConfig:{},xAxisConfig:{},secondYAxisConfig:{},secondXAxisConfig:{},...r.chartConfig},{referenceLine:o}=e,{dimensions:L,measures:T}=Zs(r.dimensions,r.measures,yt,ft),p=O.useMemo(()=>T.sort(t=>t.type==="comparison"?1:t.type==="primary"?-1:0),[T]),Ss=st(p),y=L[0],{primaryMeasure:v,secondaryMeasure:R}=tt(p,(X=e==null?void 0:e.secondYAxis)==null?void 0:X.dataKey),zs=Es(y),Ys=p.map(({accessor:t})=>t),C=e.secondYAxis?Ys.findIndex(t=>{var i;return t===((i=e.secondYAxis)==null?void 0:i.dataKey)}):0,H=O.useCallback((t,i,a)=>{var n;if(typeof g=="function")if(t.name){const j=(n=t==null?void 0:t.value)==null?void 0:n.length;g(q(a??i,{value:j?t.value[1]-t.value[0]:t.value,dataIndex:t.index??i,dataKey:j?Object.keys(t).filter(u=>t.value.length?t[u]===t.value[1]-t.value[0]:t[u]===t.value&&u!=="value")[0]:t.dataKey??Object.keys(t).find(u=>t[u]===t.value&&u!=="value"),payload:t.payload}))}else g(q({},{value:i.value,dataKey:i.dataKey,dataIndex:i.index,payload:i.payload}))},[g]),_s=Xs(P),Is=Qs(A),K=(h==null?void 0:h.length)>30,Ps=y==null?void 0:y.accessor,[E,Ts]=Js(h,c==="vertical"?L:p,e.legendPosition),Ks=Fs(e.margin,e.zoomingTool),Os=Rs(F,c==="vertical"?1:r.dimensions.length),M={axisLine:e.yAxisVisible,tickLine:Ns,tickFormatter:v==null?void 0:v.formatter,interval:0},b=xt(F),Ds=O.useCallback(()=>s.jsx(pt,{layout:c,measures:T}),[c,T]),{chartConfig:vt,dimensions:bt,measures:jt,...Ws}=ks;return s.jsx(et,{ref:ws,loading:d,loadingDelay:m,dataset:h,Placeholder:bs??Ds,style:fs,className:Cs,slot:As,resizeDebounce:e.resizeDebounce,...Ws,children:s.jsxs(dt,{syncId:vs,onClick:Is,stackOffset:"sign",margin:Ks,data:h,layout:c,accessibilityLayer:e.accessibilityLayer,className:typeof g=="function"||typeof A=="function"?"has-click-handler":void 0,children:[s.jsx(Hs,{vertical:e.gridVertical,horizontal:e.gridHorizontal,stroke:e.gridStroke}),e.xAxisVisible&&L.map((t,i)=>{let a;const n={dataKey:t.accessor,interval:(t==null?void 0:t.interval)??(K?"preserveStartEnd":0),tickLine:i<1,axisLine:i<1,allowDuplicatedCategory:i===0};return c==="vertical"?(n.type="category",n.tick=s.jsx(B,{config:t}),n.yAxisId=i,n.width=E,a=D,n.orientation=b?"right":"left",n.interval="preserveStartEnd",n.minTickGap=K?void 0:-10):(n.dataKey=t.accessor,n.tick=s.jsx(V,{config:t}),n.xAxisId=i,n.height=Os[i],a=W,n.reversed=b),s.jsx(a,{...n},t.reactKey)}),c==="horizontal"&&s.jsx(D,{...M,yAxisId:"primary",width:E,orientation:b?"right":"left",tick:s.jsx(B,{config:v}),...e.yAxisConfig}),c==="vertical"&&s.jsx(W,{...M,reversed:b,xAxisId:"primary",type:"number",tick:s.jsx(V,{config:v}),...e.xAxisConfig}),((N=e.secondYAxis)==null?void 0:N.dataKey)&&c==="horizontal"&&s.jsx(D,{dataKey:e.secondYAxis.dataKey,axisLine:{stroke:e.secondYAxis.color??`var(--sapChart_OrderedColor_${C%12+1})`},tick:s.jsx(B,{config:R,secondYAxisConfig:{color:e.secondYAxis.color??`var(--sapChart_OrderedColor_${C%12+1})`}}),tickLine:{stroke:e.secondYAxis.color??`var(--sapChart_OrderedColor_${C%12+1})`},label:{value:e.secondYAxis.name,offset:2,angle:90,position:"center"},orientation:b?"left":"right",interval:0,yAxisId:"secondary",...e.secondYAxisConfig}),((U=e.secondYAxis)==null?void 0:U.dataKey)&&c==="vertical"&&s.jsx(W,{dataKey:e.secondYAxis.dataKey,axisLine:{stroke:e.secondYAxis.color??`var(--sapChart_OrderedColor_${C%12+1})`},tick:s.jsx(V,{config:R,secondYAxisConfig:{color:e.secondYAxis.color??`var(--sapChart_OrderedColor_${C%12+1})`}}),tickLine:{stroke:e.secondYAxis.color??`var(--sapChart_OrderedColor_${C%12+1})`},label:{value:e.secondYAxis.name,offset:2,angle:90,position:"center"},orientation:"top",interval:0,xAxisId:"secondary",type:"number",...e.secondXAxisConfig}),c==="horizontal"&&s.jsx(W,{xAxisId:"comparisonXAxis",hide:!0}),c==="vertical"&&s.jsx(D,{yAxisId:"comparisonYAxis",type:"category",hide:!0}),o&&s.jsx(ot,{...o,stroke:(o==null?void 0:o.color)??(o==null?void 0:o.stroke),y:o!=null&&o.value?c==="horizontal"?o==null?void 0:o.value:void 0:o==null?void 0:o.y,x:o!=null&&o.value?c==="vertical"?o==null?void 0:o.value:void 0:o==null?void 0:o.x,yAxisId:(o==null?void 0:o.yAxisId)??c==="horizontal"?"primary":void 0,xAxisId:(o==null?void 0:o.xAxisId)??c==="vertical"?"primary":void 0,label:o==null?void 0:o.label}),(f==null?void 0:f.active)!==!1&&s.jsx(rt,{cursor:Us,formatter:Ss,contentStyle:Gs,labelFormatter:zs,...f}),!I&&s.jsx(at,{verticalAlign:e.legendPosition,align:e.legendHorizontalAlign,onClick:_s,wrapperStyle:Ts,...e.legendConfig}),p==null?void 0:p.map((t,i)=>{var j,u;const a={isAnimationActive:!l};let n="top";switch(t.type){case"primary":case"additional":a.fillOpacity=t.opacity,a.strokeOpacity=t.opacity,a.barSize=t.width,a.onClick=H,a.stackId="A",a.labelPosition=t.stackId?"insideTop":"top",c==="vertical"?n="insideRight":n="insideTop";break;case"comparison":a.onClick=H,a.fill=t.color??"black",a.strokeWidth=t.width,a.shape=s.jsx(mt,{layout:c}),a.strokeOpacity=t.opacity,a.label=!1,a.xAxisId="comparisonXAxis",a.yAxisId="comparisonYAxis",a.dot=!K;break}return c==="vertical"?a.xAxisId=((j=e.secondYAxis)==null?void 0:j.dataKey)===t.accessor?"secondary":"primary":a.yAxisId=((u=e.secondYAxis)==null?void 0:u.dataKey)===t.accessor?"secondary":"primary",s.jsx(it,{name:t.label??t.accessor,label:K?null:s.jsx(Ms,{config:t,chartType:"bar",position:n}),stroke:t.color??`var(--sapChart_OrderedColor_${i%12+1})`,fill:t.color??`var(--sapChart_OrderedColor_${i%12+1})`,type:"monotone",dataKey:t.accessor,...a,children:t.type!=="comparison"&&h.map((G,$s)=>s.jsx(nt,{fill:J(t,G,i),stroke:J(t,G,i)},$s))},t.reactKey)}),!!e.zoomingTool&&s.jsx(ct,{dataKey:Ps,tickFormatter:y==null?void 0:y.formatter,...qs,...typeof e.zoomingTool=="object"?e.zoomingTool:{}}),js]})})});ys.displayName="BulletChart";const Ct={title:"BulletChart",component:ys,argTypes:{dataset:{control:{disable:!0}},children:{control:{disable:!0}}},args:{dataset:Ls,layout:"horizontal",dimensions:[{accessor:"name",formatter:r=>`${r} 2019`,interval:0}],measures:[{accessor:"sessions",label:"Active Sessions",type:"primary"},{accessor:"users",label:"Users",type:"additional"},{accessor:"volume",label:"Volume",formatter:r=>r.toLocaleString(),type:"comparison"}]}},k={},w={args:{layout:"vertical",dimensions:[{accessor:"name",formatter:r=>r.slice(0,3)}],measures:[{accessor:"users",formatter:r=>`${r/10}`,type:"additional",label:"Number of users",width:10},{accessor:"sessions",type:"primary",width:10,opacity:.5},{accessor:"volume",type:"comparison",width:10}]}},S={args:{dimensions:[{accessor:"name",formatter:r=>`${r} 2019`,interval:0}],measures:[{accessor:"sessions",label:"Active Sessions",type:"primary"},{accessor:"users",label:"Users",type:"additional",highlightColor:r=>{if(r>100)return"red"}},{accessor:"volume",label:"Volume",formatter:r=>r.toLocaleString(),type:"comparison"}]}},z={args:{dataset:[]}},Y={args:Bs},_={args:Vs};var Q,Z,ss;k.parameters={...k.parameters,docs:{...(Q=k.parameters)==null?void 0:Q.docs,source:{originalSource:"{}",...(ss=(Z=k.parameters)==null?void 0:Z.docs)==null?void 0:ss.source}}};var ts,es,os;w.parameters={...w.parameters,docs:{...(ts=w.parameters)==null?void 0:ts.docs,source:{originalSource:`{
  args: {
    layout: 'vertical',
    dimensions: [{
      accessor: 'name',
      formatter: element => element.slice(0, 3)
    }],
    measures: [{
      accessor: 'users',
      formatter: element => \`\${element / 10}\`,
      type: 'additional',
      label: 'Number of users',
      width: 10
    }, {
      accessor: 'sessions',
      type: 'primary',
      width: 10,
      opacity: 0.5
    }, {
      accessor: 'volume',
      type: 'comparison',
      width: 10
    }]
  }
}`,...(os=(es=w.parameters)==null?void 0:es.docs)==null?void 0:os.source}}};var rs,as,is;S.parameters={...S.parameters,docs:{...(rs=S.parameters)==null?void 0:rs.docs,source:{originalSource:`{
  args: {
    dimensions: [{
      accessor: 'name',
      formatter: d => \`\${d} 2019\`,
      interval: 0
    }],
    measures: [{
      accessor: 'sessions',
      label: 'Active Sessions',
      type: 'primary'
    }, {
      accessor: 'users',
      label: 'Users',
      type: 'additional',
      highlightColor: value => {
        if (value > 100) {
          return 'red';
        }
      }
    }, {
      accessor: 'volume',
      label: 'Volume',
      formatter: val => val.toLocaleString(),
      type: 'comparison'
    }]
  }
}`,...(is=(as=S.parameters)==null?void 0:as.docs)==null?void 0:is.source}}};var ns,cs,ls;z.parameters={...z.parameters,docs:{...(ns=z.parameters)==null?void 0:ns.docs,source:{originalSource:`{
  args: {
    dataset: []
  }
}`,...(ls=(cs=z.parameters)==null?void 0:cs.docs)==null?void 0:ls.source}}};var ds,hs,xs;Y.parameters={...Y.parameters,docs:{...(ds=Y.parameters)==null?void 0:ds.docs,source:{originalSource:`{
  args: tooltipConfig
}`,...(xs=(hs=Y.parameters)==null?void 0:hs.docs)==null?void 0:xs.source}}};var ms,us,gs;_.parameters={..._.parameters,docs:{...(ms=_.parameters)==null?void 0:ms.docs,source:{originalSource:`{
  args: legendConfig
}`,...(gs=(us=_.parameters)==null?void 0:us.docs)==null?void 0:gs.source}}};const At=["Default","WithCustomSize","WithHighlightedMeasures","LoadingPlaceholder","WithCustomTooltipConfig","WithCustomLegendConfig"],Vt=Object.freeze(Object.defineProperty({__proto__:null,Default:k,LoadingPlaceholder:z,WithCustomLegendConfig:_,WithCustomSize:w,WithCustomTooltipConfig:Y,WithHighlightedMeasures:S,__namedExportsOrder:At,default:Ct},Symbol.toStringTag,{value:"Module"}));export{Vt as C,k as D,z as L,w as W,S as a,Y as b,_ as c};
