import{j as u,p as f,d as O,m as M,y as I,h as v,s as m,E as C,b as w,e as x,B as T}from"./jsx-runtime-CkEx_Gfk.js";import{d as S}from"./slot-_4yKMUwC.js";import{l as c}from"./event-strict-DgQLNDEV.js";import{B as D,m as P,D as b,P as g,K as h,c as y,b as B}from"./Keys-B3oBAe0t.js";import{i as R}from"./i18n-CjR4HGlq.js";import"./slim-arrow-right-BP05c3XT.js";import{e as N}from"./Popover-eNK7pDla.js";import"./MenuItem-BlqhXiFh.js";import{L as j}from"./ListItemCustom-ZuNo6bnp.js";import{d as E}from"./parameters-bundle.css-Dkq9X0yL.js";import{c as A}from"./ListItemGroup-B5I1cQuH.js";import{R as $}from"./ResponsivePopover-DdHf6Gx6.js";import{d as z}from"./List-DiCPSBKg.js";import{B as L}from"./BusyIndicator-vKEUjaWy.js";import{a as F}from"./Button-DcNvBpEn.js";import{d as K}from"./decline-zF6-_htN.js";import{g as U,h as H}from"./i18n-defaults-B158X0Y5.js";function W(){return u(j,{class:"ui5-menu-separator",_forcedAccessibleRole:"separator",disabled:!0})}f("@ui5/webcomponents-theming","sap_horizon",async()=>O);f("@ui5/webcomponents","sap_horizon",async()=>E);const k=`:host{border-top:.0625rem solid var(--sapGroup_ContentBorderColor);min-height:.125rem}.ui5-menu-separator{border:inherit;min-height:inherit;background:inherit;opacity:1}
`;var q=function(a,e,t,o){var n=arguments.length,i=n<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(a,e,t,o);else for(var p=a.length-1;p>=0;p--)(r=a[p])&&(i=(n<3?r(i):n>3?r(e,t,i):r(e,t))||i);return n>3&&i&&Object.defineProperty(e,t,i),i};let _=class extends A{get isSeparator(){return!0}get classes(){return{main:{"ui5-menu-separator":!0}}}get _focusable(){return!1}get _pressable(){return!1}};_=q([M({tag:"ui5-menu-separator",renderer:I,styles:[k],template:W})],_);_.define();function G(){return v($,{id:`${this._id}-menu-rp`,class:"ui5-menu-rp",placement:"Bottom",verticalAlign:"Bottom",horizontalAlign:this.horizontalAlign,opener:this.opener,open:this.open,preventInitialFocus:!0,hideArrow:!0,allowTargetOverlap:!0,accessibleName:this.acessibleNameText,onBeforeOpen:this._beforePopoverOpen,onOpen:this._afterPopoverOpen,onBeforeClose:this._beforePopoverClose,onClose:this._afterPopoverClose,children:[this.isPhone&&v("div",{slot:"header",class:"ui5-menu-dialog-header",children:[u("div",{class:"ui5-menu-dialog-title",children:u("h1",{children:this.headerText})}),u(F,{icon:K,design:"Transparent","aria-label":this.labelClose,onClick:this._close})]}),u("div",{id:`${this._id}-menu-main`,children:this.items.length?u(z,{id:`${this._id}- menu-list`,selectionMode:"None",loading:this.loading,loadingDelay:this.loadingDelay,separators:"None",accessibleRole:"Menu",onItemClick:this._itemClick,onMouseOver:this._itemMouseOver,onKeyDown:this._itemKeyDown,"onui5-close-menu":this._close,children:u("slot",{})}):this.loading&&u(L,{id:`${this._id}-menu-busy-indicator`,delay:this.loadingDelay,class:"ui5-menu-busy-indicator",active:!0})})]})}f("@ui5/webcomponents-theming","sap_horizon",async()=>O);f("@ui5/webcomponents","sap_horizon",async()=>E);const V=`:host{line-height:initial}::slotted([ui5-menu-item]){line-height:inherit}.ui5-menu-rp[ui5-responsive-popover]::part(header),.ui5-menu-rp[ui5-responsive-popover]::part(content),.ui5-menu-rp[ui5-responsive-popover]::part(footer){padding:0}.ui5-menu-rp[ui5-responsive-popover]{box-shadow:var(--sapContent_Shadow1);border-radius:var(--_ui5-v2-10-0_menu_popover_border_radius)}.ui5-menu-busy-indicator{width:100%}.ui5-menu-dialog-header{display:flex;height:var(--_ui5-v2-10-0-responsive_popover_header_height);align-items:center;justify-content:space-between;padding:0px 1rem;width:100%;overflow:hidden}.ui5-menu-dialog-title{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:calc(100% - 6.5rem);padding-right:1rem;font-family:var(--sapFontHeaderFamily)}.ui5-menu-dialog-title>h1{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--sapFontHeader5Size)}.ui5-menu-back-button{margin-right:1rem}
`;var l=function(a,e,t,o){var n=arguments.length,i=n<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(a,e,t,o);else for(var p=a.length-1;p>=0;p--)(r=a[p])&&(i=(n<3?r(i):n>3?r(e,t,i):r(e,t))||i);return n>3&&i&&Object.defineProperty(e,t,i),i},d;const Y=300;let s=d=class extends C{constructor(){super(...arguments),this.open=!1,this.horizontalAlign="Start",this.loading=!1,this.loadingDelay=1e3}get isRtl(){return this.effectiveDir==="rtl"}get labelClose(){return d.i18nBundle.getText(U)}get isPhone(){return w()}get _popover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}get _menuItems(){return this.items.filter(e=>!e.isSeparator)}get acessibleNameText(){return d.i18nBundle.getText(H)}onBeforeRendering(){const e=this._menuItems.some(t=>!!t.icon);this._menuItems.forEach(t=>{t._siblingsWithIcon=e})}_close(){this.open=!1}_openItemSubMenu(e){clearTimeout(this._timeout),!(!e._popover||e._popover.open)&&(this.fireDecoratorEvent("before-open",{item:e}),e._popover.opener=e,e._popover.open=!0,e.selected=!0)}_closeItemSubMenu(e){if(e&&e._popover){const t=e._menuItems.find(o=>o._popover&&o._popover.open);t&&this._closeItemSubMenu(t),e._popover.open=!1,e.selected=!1}}_itemMouseOver(e){if(x()){const t=e.target;this._isInstanceOfMenuItem(t)&&(t.focus(),this._startOpenTimeout(t))}}async focus(e){await T();const t=this._menuItems[0];return t?t.focus(e):super.focus(e)}_startOpenTimeout(e){clearTimeout(this._timeout),this._timeout=setTimeout(()=>{const t=e.parentElement,o=t&&t._menuItems.find(n=>n._popover&&n._popover.open);o&&this._closeItemSubMenu(o),this._openItemSubMenu(e)},Y)}_itemClick(e){const t=e.detail.item;t._popover?this._openItemSubMenu(t):this.fireDecoratorEvent("item-click",{item:t,text:t.text||""})&&this._popover&&t.fireDecoratorEvent("close-menu")}_itemKeyDown(e){const t=D(e)||P(e),o=e.target,n=o.parentElement,i=b(e)||g(e),r=this.isRtl?h(e):y(e),p=!i&&!r&&this._isInstanceOfMenuItem(n);this._isInstanceOfMenuItem(o)?((B(e)||t)&&e.preventDefault(),(y(e)||h(e))&&o._navigateToEndContent(h(e)),r?this._openItemSubMenu(o):(p||t)&&n._popover&&(n._popover.open=!1,n.selected=!1,n._popover.focusOpener())):b(e)?this._navigateOutOfEndContent(n):g(e)&&this._navigateOutOfEndContent(n,!0)}_navigateOutOfEndContent(e,t){const o=e==null?void 0:e.parentElement,n=o._menuItems.indexOf(e);((t?o._menuItems[n+1]:o._menuItems[n-1])||o._menuItems[n]).focus()}_beforePopoverOpen(e){!this.fireDecoratorEvent("before-open",{})&&(this.open=!1,e.preventDefault())}_afterPopoverOpen(){var e;(e=this._menuItems[0])==null||e.focus(),this.fireDecoratorEvent("open")}_beforePopoverClose(e){!this.fireDecoratorEvent("before-close",{escPressed:e.detail.escPressed})&&(this.open=!0,e.preventDefault())}_afterPopoverClose(){this.open=!1,this.fireDecoratorEvent("close")}_isInstanceOfMenuItem(e){return"isMenuItem"in e}};l([m()],s.prototype,"headerText",void 0);l([m({type:Boolean})],s.prototype,"open",void 0);l([m()],s.prototype,"horizontalAlign",void 0);l([m({type:Boolean})],s.prototype,"loading",void 0);l([m({type:Number})],s.prototype,"loadingDelay",void 0);l([m({converter:N})],s.prototype,"opener",void 0);l([S({default:!0,type:HTMLElement,invalidateOnChildChange:!0})],s.prototype,"items",void 0);l([R("@ui5/webcomponents")],s,"i18nBundle",void 0);s=d=l([M({tag:"ui5-menu",renderer:I,styles:V,template:G}),c("item-click",{cancelable:!0}),c("before-open",{bubbles:!0,cancelable:!0}),c("open",{bubbles:!0}),c("close-menu",{bubbles:!0}),c("before-close",{bubbles:!0,cancelable:!0}),c("close")],s);s.define();const J=s,_e=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));export{J as M,_e as a,V as m};
