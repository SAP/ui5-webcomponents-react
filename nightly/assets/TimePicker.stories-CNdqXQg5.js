import{o as I}from"./ValueState-Bg0UWejw.js";import{c as l,F as y,j as a,p as m,d as P,s as p,m as V,e as M,I as R,N as A,k as w,x as O,T as H,H as z,w as $}from"./withWebComponent-DfVDXLfc.js";import{l as v}from"./event-strict-DgQLNDEV.js";import{d as L}from"./slot-_4yKMUwC.js";import{i as j}from"./i18n-DEVDpFvK.js";import{A as K}from"./AccessibilityTextsHelper-CSnJP9TL.js";import{a as x,g as U,D as C}from"./Gregorian-XMS1eY0v.js";import{b as q,$ as W,a as Z,B as G,m as J,l as Q,E as X,v as Y,j as ee,Y as te,o as ie,z as ne,Z as oe}from"./Keys-Df3IBHp2.js";import{f as D,I as se}from"./Icon-DVzRT9Bg.js";import{a as N,I as re}from"./Input-CdGIkdwS.js";import{a as g}from"./Button-Bn6Q5CAy.js";import{d as ae}from"./Popover-D2H5tr2x.js";import{R as ue}from"./ResponsivePopover-DocID5NA.js";import{a as b,T as pe}from"./TimeSelectionClocks-iepxmIqm.js";import{bF as le,bG as ce,bH as he,al as de,bI as _e,bJ as me,ba as ve,bb as fe}from"./i18n-defaults-Cyg2J0QB.js";import{S as ge,a as be}from"./SegmentedButton-Crc8zQC3.js";import{d as k}from"./parameters-bundle.css-BzaqQttB.js";import{R as Ie}from"./ResponsivePopoverCommon.css-B_MYpl_B.js";const ye="time-entry-request",Pe="M256 0q53 0 99.5 20T437 75t55 81.5 20 99.5q0 49-17.5 92.5T447 426t-71 56-88 28v-32q40-6 75.5-25.5t61-49T465 336t15-80q0-46-17.5-87t-48-71.5-71.5-48T256 32q-38 0-72.5 12T121 77.5t-49 51T41 192H8q11-41 34.5-76.5t56-61 72.5-40T256 0zm160 272q0 16-16 16H224V144q0-16 16-16t16 16v112h144q16 0 16 16zm-272 80q16 0 16 16 0 6-4.5 11t-11.5 5H16q-6 0-11-5t-5-11q0-7 5-11.5t11-4.5h128zm0 64q16 0 16 16 0 6-4.5 11t-11.5 5H16q-6 0-11-5t-5-11q0-7 5-11.5t11-4.5h128zm0 64q16 0 16 16 0 6-4.5 11t-11.5 5H16q-6 0-11-5t-5-11q0-7 5-11.5t11-4.5h128z",ke=!1,Te="SAP-icons-v4",we="@ui5/webcomponents-icons";D(ye,{pathData:Pe,ltr:ke,collection:Te,packageName:we});const xe="time-entry-request",Ce="M262 96q11 0 18.5 7.5T288 122v131q0 8-5 15l-77 105q-8 11-20 11-11 0-18.5-7.5T160 358q0-7 5-15l72-98V122q0-11 7-18.5t18-7.5zm224 192q11 0 18.5 7.5T512 314t-7.5 18-18.5 7H378q-11 0-18.5-7t-7.5-18 7.5-18.5T378 288h108zm0 86q11 0 18.5 7.5T512 400t-7.5 18.5T486 426H378q-11 0-18.5-7.5T352 400t7.5-18.5T378 374h108zm0 87q11 0 18.5 7t7.5 18-7.5 18.5T486 512H378q-11 0-18.5-7.5T352 486t7.5-18 18.5-7h108zm-224 0q11 0 18.5 7t7.5 18-7.5 18.5T262 512h-6q-53 0-99.5-20T75 437t-55-81.5T0 256t20-99.5T75 75t81.5-55T256 0q44 0 84 14t73 39 56.5 59.5T503 188q1 5 1.5 6.5t.5 3.5q0 11-7.5 18.5T479 224q-8 0-15.5-5.5T454 205q-9-34-27.5-62.5t-45-48.5T323 62.5 256 51q-42 0-79.5 16T111 111t-44 65.5T51 256t16 79.5 44 65.5 65.5 44 79.5 16h6z",Se=!1,Be="SAP-icons-v5",Fe="@ui5/webcomponents-icons";D(xe,{pathData:Ce,ltr:Se,collection:Be,packageName:Fe});function Ve(){return l("div",{class:"ui5-time-selection-inputs",onKeyDown:this._onkeydown,children:[this._entities.map(s=>l(y,{children:[s.hasSeparator&&a("span",{class:"ui5-time-selection-separator",children:":"}),a(N,{id:`${this._id}_input_${s.entity}`,class:"ui5-time-selection-numeric-input",type:this._numberType,maxlength:2,autocomplete:"off",pattern:"[0-9]*",inputmode:"numeric",value:s.stringValue,accessibleName:s.label,_nativeInputAttributes:s.attributes,onFocusIn:this._onfocusin,onFocusOut:this._onfocusout,onInput:this._oninput})]})),this._periods.length>0&&l(y,{children:[a("span",{class:"ui5-time-selection-separator"}),a(be,{id:`${this._id}_AmPm`,onClick:this._periodChange,children:this._periods.map(s=>a(ge,{selected:s.selected,children:s.label}))})]})]})}m("@ui5/webcomponents-theming","sap_horizon",async()=>P);m("@ui5/webcomponents","sap_horizon",async()=>k);const qe=`.ui5-time-selection-numeric-input{width:2.875rem;text-align:center}.ui5-time-selection-inputs{min-width:12.5rem;display:flex;justify-content:center;align-items:center}.ui5-time-selection-separator{display:inline-block;min-width:.5rem;padding:0 .125rem;text-align:center;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);color:var(--sapTextColor)}.ui5-hidden-text{display:none}
`;var T=function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var h=s.length-1;h>=0;h--)(c=s[h])&&(o=(n<3?c(o):n>3?c(e,t,o):c(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};let _=class extends b{constructor(){super(...arguments),this._editedInput=-1}get enterHoursLabel(){return b.i18nBundle.getText(le)}get enterMinutesLabel(){return b.i18nBundle.getText(ce)}get enterSecondsLabel(){return b.i18nBundle.getText(he)}get _numberType(){return re.Number}get _isHoursInput(){const e=this._componentKey("hours");return this._componentMap[e]===this._activeIndex}get _is24HoursFormat(){var e,t;return((e=this.formatPattern)==null?void 0:e.includes("HH"))||((t=this.formatPattern)==null?void 0:t.includes("H"))}onBeforeRendering(){this._createComponents()}_addNumericAttributes(){this._entities.forEach((e,t)=>{const i=this._inputComponent(t);if(i){const n=this._innerInput(i);n.setAttribute("autocomplete","off"),n.setAttribute("pattern","[0-9]*"),n.setAttribute("inputmode","numeric")}})}_inputComponent(e){var n;const t=typeof e=="string"?this._indexFromName(e):e,i=this._entities[t].entity;return i?(n=this.shadowRoot)==null?void 0:n.querySelector(`#${this._id}_input_${i}`):void 0}_innerInput(e){return e&&e.getInputDOMRefSync()}_createComponents(){let e;this._entities=[],this._periods=[],this._componentMap={hours:-1,minutes:-1,seconds:-1},this._hasHoursComponent&&(this._componentMap.hours=this._entities.length,e=parseInt(this._hours),this._entities.push({entity:"hours",label:this.enterHoursLabel,value:e,stringValue:this._editedInput===this._entities.length?this._editedInputValue:this._formatNumberToString(e,this._zeroPaddedHours),hasSeparator:this._entities.length>0,prependZero:this._zeroPaddedHours,attributes:{min:this._hoursConfiguration.minHour,max:this._hoursConfiguration.maxHour,step:1}})),this._hasMinutesComponent&&(this._componentMap.minutes=this._entities.length,e=parseInt(this._minutes),this._entities.push({entity:"minutes",label:this.enterMinutesLabel,value:e,stringValue:this._editedInput===this._entities.length?this._editedInputValue:this._formatNumberToString(e,!0),hasSeparator:this._entities.length>0,prependZero:!0,attributes:{min:0,max:59,step:1}})),this._hasSecondsComponent&&(this._componentMap.seconds=this._entities.length,e=parseInt(this._seconds),this._entities.push({entity:"seconds",label:this.enterSecondsLabel,value:e,stringValue:this._editedInput===this._entities.length?this._editedInputValue:this._formatNumberToString(e,!0),hasSeparator:this._entities.length>0,prependZero:!0,attributes:{min:0,max:59,step:1}})),this._createPeriodComponent()}_switchInput(e){e>=this._entities.length&&(e=0),this._inputComponent(e).focus()}_switchNextInput(e=!1){let t=this._activeIndex;const i=t;if(this._entities.length){do t++,t>=this._entities.length&&(t=e?0:this._entities.length-1);while(this._inputComponent(t).disabled&&t!==i&&(e||t<this._entities.length));t!==i&&!this._inputComponent(t).disabled&&this._switchInput(t)}}_formatNumberToString(e,t){return e<10&&t?`0${e}`:e.toString()}_onkeydown(e){if(this._activeIndex!==-1){if(q(e))this.fireDecoratorEvent("close-inputs");else if(W(e)&&this._entities[this._activeIndex]){const t=e.key,i=this._keyboardBuffer+t,n=parseInt(i);e.preventDefault(),this._resetCooldown(!0),n>this._entities[this._activeIndex].attributes.max?(this._inputChange(parseInt(this._keyboardBuffer)),this._switchNextInput(),this._keyboardBuffer=t,this._inputChange(parseInt(t)),this._resetCooldown(!0)):(this._keyboardBuffer=i,this._inputChange(parseInt(this._keyboardBuffer)),(this._keyboardBuffer.length===2||parseInt(`${this._keyboardBuffer}0`)>this._entities[this._activeIndex].attributes.max)&&(this._resetCooldown(this._keyboardBuffer.length!==2),this._keyboardBuffer="",this._switchNextInput()))}}}_inputChange(e){const t=this._formatNumberToString(e,this._entities[this._activeIndex].prependZero);if(this._activeIndex!==-1)switch(e=parseInt(t),this._entities[this._activeIndex].value=e,this._inputComponent(this._activeIndex).value=this._formatNumberToString(e,this._entities[this._activeIndex].prependZero),this._activeIndex){case this._componentMap.hours:this._hoursChange(e);break;case this._componentMap.minutes:this._minutesChange(e);break;case this._componentMap.seconds:this._secondsChange(e);break}}_onfocusin(e){const t=e.target,i=this._innerInput(t);this._editedInput=-1,i.select(),this._activeIndex=this._getIndexFromId(t.id)}_onfocusout(){let e=this._inputComponent(this._activeIndex).value===""?0:this._entities[this._activeIndex].value;this._editedInput=-1,this._isHoursInput&&!this._is24HoursFormat&&e===0&&(e=12),this._inputChange(e),this._activeIndex=-1}_oninput(){const e=this._inputComponent(this._activeIndex).value,t=e===""?0:parseInt(e);t!==this._entities[this._activeIndex].value&&(this._editedInput=this._activeIndex,this._editedInputValue=e,this._inputChange(t),this._keyboardBuffer=e)}};T([p({type:Number})],_.prototype,"_editedInput",void 0);T([p()],_.prototype,"_editedInputValue",void 0);_=T([V({tag:"ui5-time-selection-inputs",styles:qe,template:Ve}),v("close-inputs",{bubbles:!0})],_);_.define();const De=_;function Ne(){return l(y,{children:[l(ue,{id:`${this._id}-responsive-popover`,class:"ui5-time-picker-popover",placement:"Bottom",horizontalAlign:"Start",opener:this,open:this.open,allowTargetOverlap:!0,_hideHeader:!0,hideArrow:!0,accessibleName:this.pickerAccessibleName,onClose:this.onResponsivePopoverAfterClose,onOpen:this.onResponsivePopoverAfterOpen,onWheel:this._handleWheel,onKeyDown:this._onkeydown,children:[a(pe,{id:`${this._id}-time-sel`,value:this._timeSelectionValue,formatPattern:this._formatPattern,onChange:this.onTimeSelectionChange,onClosePicker:this.submitPickers}),l("div",{slot:"footer",class:"ui5-time-picker-footer",children:[a(g,{id:"submit",design:"Emphasized",onClick:this.submitPickers,children:this.submitButtonLabel}),a(g,{id:"close",design:"Transparent",onClick:this._togglePicker,children:this.cancelButtonLabel})]})]}),this._isMobileDevice&&l(ae,{id:`${this._id}-popover`,class:"ui5-time-picker-inputs-popover",placement:"Bottom",horizontalAlign:"Start","allow-target-overlap":!0,"_hide-header":!0,"hide-arrow":!0,onOpen:this.onInputsPopoverAfterOpen,onClose:this.onInputsPopoverAfterClose,onWheel:this._handleWheel,onKeyDown:this._onkeydown,children:[a("div",{class:"popover-content",children:a(De,{id:`${this._id}-time-sel-inputs`,value:this._timeSelectionValue,formatPattern:this._formatPattern,onChange:this.onTimeSelectionChange,onCloseInputs:this.submitInputsPopover})}),l("div",{slot:"footer",class:"ui5-time-picker-footer",children:[a(g,{id:"submitInputs",design:"Emphasized",onClick:this.submitInputsPopover,children:this.submitButtonLabel}),a(g,{id:"closeInputs",design:"Transparent",onClick:this.closeInputsPopover,children:this.cancelButtonLabel})]})]})]})}function Ee(){return l(y,{children:[a("div",{id:this._id,class:"ui5-time-picker-root",children:l(N,{"data-sap-focus-ref":!0,id:`${this._id}-inner`,class:"ui5-time-picker-input",value:this.value,placeholder:this._placeholder,disabled:this.disabled,readonly:this.readonly,required:this.required,valueState:this.valueState,_inputAccInfo:this.accInfo,onClick:this._handleInputClick,onChange:this._handleInputChange,onInput:this._handleInputLiveChange,onFocusIn:this._onfocusin,onKeyDown:this._onkeydown,children:[this.valueStateMessage.length>0&&a("slot",{name:"valueStateMessage",slot:"valueStateMessage"}),!this.readonly&&a(se,{slot:"icon",name:this.openIconName,tabindex:-1,showTooltip:!0,onClick:this._togglePicker,class:{"ui5-time-picker-input-icon-button":!0,inputIcon:!0,"inputIcon--pressed":this.open}})]})}),Ne.call(this)]})}m("@ui5/webcomponents-theming","sap_horizon",async()=>P);m("@ui5/webcomponents","sap_horizon",async()=>k);const Me=`:host{vertical-align:middle}.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}.inputIcon{color:var(--_ui5-v2-6-2_input_icon_color);cursor:pointer;outline:none;padding:var(--_ui5-v2-6-2_input_icon_padding);border-inline-start:var(--_ui5-v2-6-2_input_icon_border);min-width:1rem;min-height:1rem;border-radius:var(--_ui5-v2-6-2_input_icon_border_radius)}.inputIcon.inputIcon--pressed{background:var(--_ui5-v2-6-2_input_icon_pressed_bg);box-shadow:var(--_ui5-v2-6-2_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-6-2_select_hover_icon_left_border);color:var(--_ui5-v2-6-2_input_icon_pressed_color)}.inputIcon:active{background-color:var(--sapButton_Active_Background);box-shadow:var(--_ui5-v2-6-2_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-6-2_select_hover_icon_left_border);color:var(--_ui5-v2-6-2_input_icon_pressed_color)}.inputIcon:not(.inputIcon--pressed):not(:active):hover{background:var(--_ui5-v2-6-2_input_icon_hover_bg);box-shadow:var(--_ui5-v2-6-2_input_icon_box_shadow)}.inputIcon:hover{border-inline-start:var(--_ui5-v2-6-2_select_hover_icon_left_border);box-shadow:var(--_ui5-v2-6-2_input_icon_box_shadow)}:host([readonly]:not([disabled])){border-color:var(--_ui5-v2-6-2_input_readonly_border_color);background:var(--sapField_ReadOnly_BackgroundStyle);background-color:var(--_ui5-v2-6-2_input_readonly_background)}:host([disabled]){opacity:var(--_ui5-v2-6-2_input_disabled_opacity);cursor:default;pointer-events:none;background-color:var(--_ui5-v2-6-2-input_disabled_background);border-color:var(--_ui5-v2-6-2_input_disabled_border_color)}:host([value-state="Negative"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-6-2_input_error_icon_box_shadow)}:host([value-state="Critical"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-6-2_input_warning_icon_box_shadow)}:host([value-state="Information"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-6-2_input_information_icon_box_shadow)}:host([value-state="Positive"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-6-2_input_success_icon_box_shadow)}:host([value-state="Negative"]:not([readonly]):not([disabled])){background:var(--sapField_InvalidBackgroundStyle);background-color:var(--sapField_InvalidBackground);border-color:var(--_ui5-v2-6-2_input_value_state_error_border_color);box-shadow:var(--sapField_InvalidShadow)}:host([value-state="Critical"]:not([readonly]):not([disabled])){background:var(--sapField_WarningBackgroundStyle);background-color:var(--sapField_WarningBackground);border-color:var(--_ui5-v2-6-2_input_value_state_warning_border_color);box-shadow:var(--sapField_WarningShadow)}:host([value-state="Positive"]:not([readonly]):not([disabled])){background:var(--sapField_SuccessBackgroundStyle);background-color:var(--sapField_SuccessBackground);border-color:var(--_ui5-v2-6-2_input_value_state_success_border_color);border-width:var(--_ui5-v2-6-2_input_value_state_success_border_width);box-shadow:var(--sapField_SuccessShadow)}:host([value-state="Information"]:not([readonly]):not([disabled])){background:var(--sapField_InformationBackgroundStyle);background-color:var(--sapField_InformationBackground);border-color:var(--_ui5-v2-6-2_input_value_state_information_border_color);border-width:var(--_ui5-v2-6-2_input_information_border_width);box-shadow:var(--sapField_InformationShadow)}:host([value-state="Negative"]) .inputIcon:active,:host([value-state="Negative"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-6-2_input_error_icon_box_shadow);color:var(--_ui5-v2-6-2_input_icon_error_pressed_color)}:host([value-state="Critical"]) .inputIcon:active,:host([value-state="Critical"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-6-2_input_warning_icon_box_shadow);color:var(--_ui5-v2-6-2_input_icon_warning_pressed_color)}:host([value-state="Information"]) .inputIcon:active,:host([value-state="Information"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-6-2_input_information_icon_box_shadow);color:var(--_ui5-v2-6-2_input_icon_information_pressed_color)}:host([value-state="Positive"]) .inputIcon:active,:host([value-state="Positive"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-6-2_input_success_icon_box_shadow);color:var(--_ui5-v2-6-2_input_icon_success_pressed_color)}:host([value-state="Negative"]) .inputIcon,:host([value-state="Critical"]) .inputIcon{padding:var(--_ui5-v2-6-2_input_error_warning_icon_padding)}:host([value-state="Information"]) .inputIcon{padding:var(--_ui5-v2-6-2_input_information_icon_padding)}:host(:not([hidden])){display:inline-block;line-height:normal;letter-spacing:normal;word-spacing:normal}:host{min-width:calc(var(--_ui5-v2-6-2_input_min_width) + var(--_ui5-v2-6-2_input_icon_width));height:var(--_ui5-v2-6-2_input_height);color:var(--sapField_TextColor);background-color:var(--sapField_Background);border-radius:var(--_ui5-v2-6-2-time_picker_border_radius);margin:var(--_ui5-v2-6-2_input_margin_top_bottom) 0;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}:host([value-state="Negative"]){background-color:var(--sapField_InvalidBackground)}:host(:not([disabled]):hover){background:var(--sapField_Hover_Background)}.ui5-time-picker-root{line-height:inherit;letter-spacing:inherit;word-spacing:inherit;height:inherit}:host .ui5-time-picker-input{width:100%;color:inherit;background-color:inherit;line-height:inherit;letter-spacing:inherit;word-spacing:inherit;margin:inherit;height:inherit}
`;m("@ui5/webcomponents-theming","sap_horizon",async()=>P);m("@ui5/webcomponents","sap_horizon",async()=>k);const Re=`.ui5-time-picker-popover{width:20rem}.ui5-time-picker-footer{height:fit-content;display:flex;justify-content:flex-end;width:100%}.ui5-time-picker-footer>[ui5-button]{margin:1%;min-width:20%}.ui5-time-picker-popover::part(content){padding:0}
`;var u=function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var h=s.length-1;h>=0;h--)(c=s[h])&&(o=(n<3?c(o):n>3?c(e,t,o):c(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},d;let r=d=class extends R{constructor(){super(...arguments),this.value="",this.valueState="None",this.disabled=!1,this.readonly=!1,this.open=!1,this.required=!1,this._isInputsPopoverOpen=!1}get formValidityMessage(){return d.i18nBundle.getText(de)}get formValidity(){return{valueMissing:this.required&&!this.value}}async formElementAnchor(){var e;return(e=await this.getFocusDomRefAsync())==null?void 0:e.getFocusDomRefAsync()}get formFormattedValue(){return this.value||""}onBeforeRendering(){this.value&&(this.value=this.normalizeValue(this.value)||this.value),this.tempValue=this.value&&this.isValid(this.value)?this.value:this.getFormat().format(x.getInstance())}get dateAriaDescription(){return d.i18nBundle.getText(_e)}get pickerAccessibleName(){return d.i18nBundle.getText(me)}get accInfo(){return{ariaRoledescription:this.dateAriaDescription,ariaHasPopup:"dialog",ariaRequired:this.required,ariaLabel:K(this)}}get dateValue(){return this.getFormat().parse(this._effectiveValue)}get _placeholder(){return this.placeholder!==void 0?this.placeholder:this._displayFormat}get _formatPattern(){var n;const e=!!((n=this.formatPattern)!=null&&n.match(/H/i)),t=!this.formatPattern||!e,i=U(A());return t?i.getTimePattern("medium"):this.formatPattern}get _displayFormat(){return this.getFormat().oFormatOptions.pattern}get _effectiveValue(){return this.value}get _timeSelectionValue(){return this.tempValue}get _isPhone(){return w()}get _isMobileDevice(){return!O()&&(w()||H())}onTimeSelectionChange(e){this.tempValue=e.detail.value}_togglePicker(){this.open=!this.open}submitPickers(){this._updateValueAndFireEvents(this.tempValue,!0,["change","value-changed"]),this._togglePicker()}onResponsivePopoverAfterClose(){this.open=!1,this.fireDecoratorEvent("close")}onResponsivePopoverAfterOpen(){this.fireDecoratorEvent("open")}openInputsPopover(){this.tempValue=this.value&&this.isValid(this.value)?this.value:this.getFormat().format(x.getInstance());const e=this._getInputsPopover();e.opener=this,e.open=!0,this._isInputsPopoverOpen=!0}closeInputsPopover(){const e=this._getInputsPopover();e.open=!1}toggleInputsPopover(){this.isInputsPopoverOpen()?this.closeInputsPopover():this._canOpenInputsPopover()&&this.openInputsPopover()}isInputsPopoverOpen(){return!!this._isInputsPopoverOpen}submitInputsPopover(){this._updateValueAndFireEvents(this.tempValue,!0,["change","value-changed"]),this.closeInputsPopover()}onInputsPopoverAfterOpen(){this._getInputsPopover().querySelector("[ui5-time-selection-inputs]")._addNumericAttributes()}onInputsPopoverAfterClose(){this._isInputsPopoverOpen=!1}_handleInputClick(e){const t=e.target;if(this.open)return;this._isMobileDevice&&t&&!t.hasAttribute("ui5-icon")&&this.toggleInputsPopover();const i=this._getInputField();i&&i.select()}_updateValueAndFireEvents(e,t,i){if(e===this.value)return;const n=this.isValid(e);e!==void 0&&n&&t&&(e=this.normalizeValue(e)),i.includes("input")||(this.value="",this.value=e),this.tempValue=e,this._updateValueState(),i.forEach(o=>{this.fireDecoratorEvent(o,{value:e,valid:n})})}_updateValueState(){const e=this.isValid(this.value);e?e&&this.valueState===I.Negative&&(this.valueState=I.None):this.valueState=I.Negative}_handleInputChange(e){const t=e.target;this._updateValueAndFireEvents(t.value,!0,["change","value-changed"])}_handleInputLiveChange(e){this._isPhone&&e.preventDefault();const t=e.target;this._updateValueAndFireEvents(t.value,!1,["input"])}_canOpenPicker(){return!this.disabled&&!this.readonly}_canOpenInputsPopover(){return!this.disabled&&this._isMobileDevice}_getPopover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}_getInputsPopover(){return this.shadowRoot.querySelector("[ui5-popover]")}_getInput(){return this.shadowRoot.querySelector("[ui5-input]")}_getInputField(){const e=this._getInput();return e&&e.getInputDOMRef()}_onkeydown(e){this._isMobileDevice&&!this.isInputsPopoverOpen()&&e.preventDefault(),Z(e)&&(e.preventDefault(),this._togglePicker());const t=e.target;t&&this.open&&this._getInput().id===t.id&&(G(e)||J(e)||Q(e)||X(e))&&this._togglePicker(),!this.open&&(q(e)?this._internals.form&&z(this):Y(e)?(e.preventDefault(),this._modifyValueBy(1,"second")):ee(e)?(e.preventDefault(),this._modifyValueBy(1,"minute")):te(e)?(e.preventDefault(),this._modifyValueBy(1,"hour")):ie(e)?(e.preventDefault(),this._modifyValueBy(-1,"second")):ne(e)?(e.preventDefault(),this._modifyValueBy(-1,"minute")):oe(e)&&(e.preventDefault(),this._modifyValueBy(-1,"hour")))}get _isPattern(){return this._formatPattern!=="medium"&&this._formatPattern!=="short"&&this._formatPattern!=="long"}getFormat(){let e;return this._isPattern?e=C.getDateInstance({pattern:this._formatPattern}):e=C.getDateInstance({style:this._formatPattern}),e}formatValue(e){return this.getFormat().format(e)}isValid(e){return e===""?!0:!!this.getFormat().parse(e)}normalizeValue(e){return e===""?e:this.getFormat().format(this.getFormat().parse(e))}_modifyValueBy(e,t){const i=this.getFormat().parse(this._effectiveValue);if(!i)return;t==="hour"?i.setHours(i.getHours()+e):t==="minute"?i.setMinutes(i.getMinutes()+e):t==="second"&&i.setSeconds(i.getSeconds()+e);const n=this.formatValue(i);this._updateValueAndFireEvents(n,!0,["change","value-changed"])}_handleWheel(e){e.preventDefault()}_hideMobileKeyboard(){this._getInput().readonly=!0,setTimeout(()=>{this._getInput().readonly=!1},0)}_onfocusin(e){this._isMobileDevice&&(this._hideMobileKeyboard(),this._isInputsPopoverOpen&&this._getInputsPopover().applyFocus(),e.preventDefault())}get submitButtonLabel(){return d.i18nBundle.getText(ve)}get cancelButtonLabel(){return d.i18nBundle.getText(fe)}get openIconName(){return"time-entry-request"}};u([p()],r.prototype,"value",void 0);u([p()],r.prototype,"name",void 0);u([p()],r.prototype,"valueState",void 0);u([p({type:Boolean})],r.prototype,"disabled",void 0);u([p({type:Boolean})],r.prototype,"readonly",void 0);u([p()],r.prototype,"placeholder",void 0);u([p()],r.prototype,"formatPattern",void 0);u([p({type:Boolean})],r.prototype,"open",void 0);u([p({type:Boolean})],r.prototype,"required",void 0);u([p()],r.prototype,"accessibleName",void 0);u([p()],r.prototype,"accessibleNameRef",void 0);u([p({type:Boolean,noAttribute:!0})],r.prototype,"_isInputsPopoverOpen",void 0);u([L()],r.prototype,"valueStateMessage",void 0);u([j("@ui5/webcomponents")],r,"i18nBundle",void 0);r=d=u([V({tag:"ui5-time-picker",languageAware:!0,cldr:!0,formAssociated:!0,renderer:M,template:Ee,styles:[Me,Ie,Re]}),v("change",{bubbles:!0}),v("input",{bubbles:!0}),v("open",{bubbles:!0}),v("close",{bubbles:!0})],r);r.define();const E=$("ui5-time-picker",["accessibleName","accessibleNameRef","formatPattern","name","placeholder","value","valueState"],["disabled","open","readonly","required"],["valueStateMessage"],["change","close","input","open"]);E.displayName="TimePicker";const Ae={title:"Inputs / TimePicker",component:E,argTypes:{valueStateMessage:{control:{disable:!0}}},args:{valueState:I.None},tags:["package:@ui5/webcomponents"]},f={};var S,B,F;f.parameters={...f.parameters,docs:{...(S=f.parameters)==null?void 0:S.docs,source:{originalSource:"{}",...(F=(B=f.parameters)==null?void 0:B.docs)==null?void 0:F.source}}};const Oe=["Default"],rt=Object.freeze(Object.defineProperty({__proto__:null,Default:f,__namedExportsOrder:Oe,default:Ae},Symbol.toStringTag,{value:"Module"}));export{rt as C,f as D};
