import{h as p,j as u,s as f,m as _}from"./jsx-runtime-2NO35c9p.js";import{i as v}from"./i18n-CjR4HGlq.js";import{H as g}from"./Keys-CLf_QmYW.js";import{S as m,d as S,a as I,b as d}from"./SliderTooltip-D75zZpGn.js";import{I as b}from"./Icon-Dy5MqRQN.js";import{S as P,a as y,b as x}from"./i18n-defaults-Wx6G1HAa.js";function T(){return m.call(this,{progressBar:A,handles:F})}function A(){return u("div",{class:"ui5-slider-progress-container","aria-hidden":"true",part:"progress-container",children:u("div",{class:"ui5-slider-progress",style:this.styles.progress,onFocusOut:this._onfocusout,onFocusIn:this._onfocusin,tabIndex:-1,part:"progress-bar"})})}function F(){var r;return p("div",{class:"ui5-slider-handle-container",style:this.styles.handle,part:"handle-container",children:[u("div",{class:"ui5-slider-handle",onFocusOut:this._onfocusout,onFocusIn:this._onfocusin,onKeyUp:this._onkeyup,role:"slider",tabIndex:this._tabIndex,"aria-orientation":"horizontal","aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.value,"aria-label":this._ariaLabel,"aria-disabled":this._ariaDisabled,"aria-keyshortcuts":this._ariaKeyshortcuts,"aria-describedby":this._ariaDescribedByHandleText,"data-sap-focus-ref":!0,part:"handle",id:"handle1",children:u(b,{name:S,mode:"Decorative",part:"icon-slider","slider-icon":!0})}),u(I,{open:this._tooltipsOpen,value:this.tooltipValue,min:this.min,max:this.max,editable:this.editableTooltip,followRef:(r=this.shadowRoot)==null?void 0:r.querySelector("#handle1"),onChange:this._onTooltipChange,onForwardFocus:this._onTooltopForwardFocus})]})}var c=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var h=r.length-1;h>=0;h--)(a=r[h])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},l;let o=l=class extends d{get formFormattedValue(){return this.value.toString()}constructor(){super(),this.value=0,this._progressPercentage=0,this._handlePositionFromStart=0,this._tooltipInputValue=this.value.toString(),this._tooltipInputValueState="None",this._stateStorage.value=void 0,this._lastValidInputValue=this.min.toString()}onBeforeRendering(){this.isCurrentStateOutdated()&&(this.notResized=!0,this.syncUIAndState(),this._updateHandleAndProgress(this.value))}syncUIAndState(){this.isPropertyUpdated("step")&&(this._validateStep(this.step),this.storePropertyState("step")),this.isPropertyUpdated("min","max","value")&&(this.storePropertyState("min","max"),this.value=d.clipValue(this.value,this._effectiveMin,this._effectiveMax),this.updateStateStorageAndFireInputEvent("value"),this.storePropertyState("value")),this.labelInterval&&this.showTickmarks&&this._createLabels(),this.isPropertyUpdated("labelInterval")&&this.storePropertyState("labelInterval")}_onmousedown(t){if(this.disabled||this.step===0||t.target.hasAttribute("ui5-slider-tooltip"))return;const e=this.handleDownBase(t);this._valueOnInteractionStart=this.value,this._valueInitial===void 0&&(this._valueInitial=this.value);const i=this.constructor;this._isHandlePressed(i.getPageXValueFromEvent(t))||(this._updateHandleAndProgress(e),this.value=e,this.updateStateStorageAndFireInputEvent("value"))}_onfocusin(){this._valueInitial===void 0&&(this._valueInitial=this.value),this.showTooltip&&(this._tooltipsOpen=!0)}_onfocusout(t){var e;if(this._isFocusing()){this._preventFocusOut();return}this._valueInitial=void 0,this.showTooltip&&!((e=t.relatedTarget)!=null&&e.hasAttribute("ui5-slider-tooltip"))&&(this._tooltipsOpen=!1)}_handleMove(t){if(t.preventDefault(),this.disabled||this._effectiveStep===0)return;const i=this.constructor.getValueFromInteraction(t,this._effectiveStep,this._effectiveMin,this._effectiveMax,this.getBoundingClientRect(),this.directionStart);this._updateHandleAndProgress(i),this.value=i,this.updateStateStorageAndFireInputEvent("value")}_handleUp(){this._valueOnInteractionStart!==this.value&&this.fireDecoratorEvent("change"),this.handleUpBase(),this._valueOnInteractionStart=void 0}_onkeyup(t){const e=d._isActionKey(t);this._onKeyupBase(),e&&this._valueOnInteractionStart!==this.value&&this.fireDecoratorEvent("change"),this._valueOnInteractionStart=this.value}_isHandlePressed(t){const e=this._sliderHandle.getBoundingClientRect();return t>=e.left&&t<=e.right}_updateHandleAndProgress(t){const e=this._effectiveMax,i=this._effectiveMin;this._progressPercentage=(t-i)/(e-i),this._handlePositionFromStart=this._progressPercentage*100}_handleActionKeyPress(t){const e=this._effectiveMin,i=this._effectiveMax,n=this.value,s=this.constructor,a=g(t)?this._valueInitial:s.clipValue(this._handleActionKeyPressBase(t,"value")+n,e,i);a!==n&&(this._updateHandleAndProgress(a),this.value=a,this.updateStateStorageAndFireInputEvent("value"))}_onTooltopForwardFocus(t){var i;(i=t.target.followRef)==null||i.focus()}get inputValue(){return this.value.toString()}get styles(){return{progress:{transform:`scaleX(${this._progressPercentage})`,"transform-origin":`${this.directionStart} top`},handle:{[this.directionStart]:`${this._handlePositionFromStart}%`},label:{width:`${this._labelWidth}%`},labelContainer:{width:"100%",[this.directionStart]:`-${this._labelWidth/2}%`}}}get _sliderHandle(){return this.shadowRoot.querySelector(".ui5-slider-handle")}get tooltipValue(){const e=this.constructor._getDecimalPrecisionOfNumber(this._effectiveStep);return this.value.toFixed(e)}get _ariaDisabled(){return this.disabled||void 0}get _ariaLabelledByText(){return l.i18nBundle.getText(P)}get _ariaDescribedByInputText(){return l.i18nBundle.getText(y)}get _ariaLabelledByInputText(){return l.i18nBundle.getText(x)}get tickmarksObject(){const t=this._tickmarksCount,e=[];if(this._hiddenTickmarks)return[!0,!1];for(let i=0;i<=t;i++)e.push(this._effectiveMin+i*this.step<=this.value);return e}};c([f({type:Number})],o.prototype,"value",void 0);c([v("@ui5/webcomponents")],o,"i18nBundle",void 0);o=l=c([_({tag:"ui5-slider",languageAware:!0,formAssociated:!0,template:T})],o);o.define();const H=o;export{H as S};
