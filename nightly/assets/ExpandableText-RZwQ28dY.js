import{h,j as a,F as m,p as f,d as g,s as l,m as T,y as v,E,b as y}from"./jsx-runtime-CkEx_Gfk.js";import{i as P}from"./i18n-CjR4HGlq.js";import{H as b,I as B,J as C,K as A,N as O}from"./i18n-defaults-B158X0Y5.js";import{a as _}from"./Text-CNWDrMdn.js";import{a as R}from"./Link-CBPPqDB9.js";import{a as L}from"./Button-DcNvBpEn.js";import{R as F}from"./ResponsivePopover-DdHf6Gx6.js";import{d as S}from"./parameters-bundle.css-Dkq9X0yL.js";var u;(function(s){s.InPlace="InPlace",s.Popover="Popover"})(u||(u={}));function N(){return h("div",{children:[a(_,{class:"ui5-exp-text-text",emptyIndicatorMode:this.emptyIndicatorMode,children:this._displayedText}),this._maxCharactersExceeded&&h(m,{children:[a("span",{class:"ui5-exp-text-ellipsis",children:this._ellipsisText}),a(R,{id:"toggle",class:"ui5-exp-text-toggle",accessibleRole:"Button",accessibleName:this._accessibleNameForToggle,accessibilityAttributes:this._accessibilityAttributesForToggle,onClick:this._handleToggleClick,children:this._textForToggle}),this._usePopover&&h(F,{open:this._expanded,opener:"toggle",accessibleNameRef:"popover-text",contentOnlyOnDesktop:!0,_hideHeader:!0,class:"ui5-exp-text-popover",onClose:this._handlePopoverClose,children:[a(_,{id:"popover-text",children:this.text}),a("div",{slot:"footer",class:"ui5-exp-text-footer",children:a(L,{design:"Transparent",onClick:this._handleCloseButtonClick,children:this._closeButtonText})})]})]})]})}f("@ui5/webcomponents-theming","sap_horizon",async()=>g);f("@ui5/webcomponents","sap_horizon",async()=>S);const w=`:host{display:inline-block;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);color:var(--sapTextColor)}:host([hidden]){display:none}.ui5-exp-text-text{display:inline}.ui5-exp-text-text,.ui5-exp-text-toggle{font-family:inherit;font-size:inherit}.ui5-exp-text-text,.ui5-exp-text-ellipsis{color:inherit}.ui5-exp-text-popover::part(content){padding-inline:1rem}.ui5-exp-text-footer{width:100%;display:flex;align-items:center;justify-content:flex-end}
`;var r=function(s,e,o,p){var d=arguments.length,i=d<3?e:p===null?p=Object.getOwnPropertyDescriptor(e,o):p,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(s,e,o,p);else for(var c=s.length-1;c>=0;c--)(x=s[c])&&(i=(d<3?x(i):d>3?x(e,o,i):x(e,o))||i);return d>3&&i&&Object.defineProperty(e,o,i),i},n;let t=n=class extends E{constructor(){super(...arguments),this.maxCharacters=100,this.overflowMode="InPlace",this.emptyIndicatorMode="Off",this._expanded=!1}getFocusDomRef(){var e,o;return this._usePopover?(e=this.shadowRoot)==null?void 0:e.querySelector("[ui5-responsive-popover]"):(o=this.shadowRoot)==null?void 0:o.querySelector("[ui5-link]")}get _displayedText(){var e;return this._expanded&&!this._usePopover?this.text:(e=this.text)==null?void 0:e.substring(0,this.maxCharacters)}get _maxCharactersExceeded(){var e;return(((e=this.text)==null?void 0:e.length)||0)>this.maxCharacters}get _usePopover(){return this.overflowMode===u.Popover}get _ellipsisText(){return this._expanded&&!this._usePopover?" ":"... "}get _textForToggle(){return this._expanded?n.i18nBundle.getText(b):n.i18nBundle.getText(B)}get _closeButtonText(){return n.i18nBundle.getText(C)}get _accessibilityAttributesForToggle(){return this._usePopover?{expanded:this._expanded,hasPopup:"dialog"}:{expanded:this._expanded}}get _accessibleNameForToggle(){if(this._usePopover)return this._expanded?n.i18nBundle.getText(A):n.i18nBundle.getText(O)}_handlePopoverClose(){y()||(this._expanded=!1)}_handleToggleClick(){this._expanded=!this._expanded}_handleCloseButtonClick(e){this._expanded=!1,e.stopPropagation()}};r([l()],t.prototype,"text",void 0);r([l({type:Number})],t.prototype,"maxCharacters",void 0);r([l()],t.prototype,"overflowMode",void 0);r([l()],t.prototype,"emptyIndicatorMode",void 0);r([l({type:Boolean})],t.prototype,"_expanded",void 0);r([P("@ui5/webcomponents")],t,"i18nBundle",void 0);t=n=r([T({tag:"ui5-expandable-text",renderer:v,styles:w,template:N})],t);t.define();export{t as E,u as a};
