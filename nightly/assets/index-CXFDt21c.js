import{j as e}from"./jsx-runtime-CLpGMVip.js";import{B as S}from"./Button-Bn6Q5CAy.js";import{I as Bt}from"./Input-CdGIkdwS.js";import{s as pt}from"./search-lTDZwfzP.js";import{e as Ue}from"./index-BQ73vKGB.js";import{c as Oe}from"./clsx-B-dksMZM.js";import{r as a}from"./index-D23YZj_x.js";import{F as X,a as Ye,b as Je,c as ft}from"./index-DlWYL6lf.js";import{u as Qe,ac as vt,ad as Ft,ae as Rt,af as yt,ag as St,ah as It,ai as Dt,aj as qt,ak as jt,C as At,O as Nt,al as Ot,am as _t,p as $t,s as kt,an as Et,ao as Lt,ap as zt,aq as Ht,ar as Pt,as as Kt,at as Wt,au as Mt,av as Vt,aw as Gt,ax as Ut,n as Yt,ay as Jt,az as Xt,aA as Qt,aB as Zt,o as ea,aC as ta}from"./i18n-defaults-CoZOvFer.js";import{B as aa}from"./BusyIndicatorSize-BpUhrkNo.js";import{A as na,k as ra,T as oa,x as sa}from"./withWebComponent-DfVDXLfc.js";import{c as ia}from"./circle-task-2-DRFF0zNx.js";import{f as Q}from"./Icon-DVzRT9Bg.js";import{s as gt,t as bt}from"./i18n-defaults-CUGG7UPM.js";import{n as la}from"./navigation-down-arrow-BiLsswrs.js";import{b as ca,c as at,e as nt,T as rt,a as Ae}from"./index-BwvLAi8p.js";import{L as ot}from"./index-DVZh2p7o.js";import{B as da}from"./index-fQaXdJLi.js";import{u as Ze}from"./useStylesheet-DNyxTWaC.js";import{B as W}from"./index-DaCk7tY-.js";import{I as et}from"./index-DFqCSedi.js";import{B as st}from"./BarDesign-BLoXVb05.js";import{T as it,a as lt}from"./index-DvP8tU6i.js";import{T as ua}from"./Title-D0oe8JHs.js";import{g as ma}from"./group-2-DaCjEVHE.js";import{a as xt}from"./addCustomCSSWithScoping-DJgtY14Y.js";import{s as ha}from"./stopPropagation-BJWsenK5.js";import{M as pa,a as fa,b as ct}from"./index-DtW4jgUQ.js";import{B as dt}from"./index-CnpffF2n.js";import{S as _a}from"./index-DGQWUw_v.js";import{O as ve}from"./index-C5PS0vCr.js";import{a as ga,S as ut}from"./index-C-QuXNwu.js";import{I as ba}from"./index-BnC1dkI8.js";import{P as xa}from"./index-BLOgjUmN.js";import{D as Ta}from"./index-CegvHMDS.js";import{T as Ca}from"./index-BJJjzqf0.js";import{T as mt,a as wa}from"./index-B77DFpEo.js";import{d as Ge}from"./debounce-D7W5PopO.js";var Xe;(function(T){T.Solid="Solid",T.Transparent="Transparent"})(Xe||(Xe={}));const Ba=Xe,va="collapse-group",Fa="M267.5 120q-6-6-12-6-5 0-11 6l-159 157q-10 10-23 10t-22-10q-10-9-10-22t10-23l193-191q9-9 22.5-9t22.5 9l192 192q10 10 10 23t-10 23q-9 9-22.5 9t-22.5-9zm0 193q-6-6-12-6-5 0-11 6l-159 157q-10 10-23 10t-22-10q-10-9-10-22t10-23l193-191q9-9 22.5-9t22.5 9l192 192q10 10 10 23t-10 23q-9 9-22.5 9t-22.5-9z",Ra=!1,ya=gt,Sa="SAP-icons-v4",Ia="@ui5/webcomponents-icons";Q(va,{pathData:Fa,ltr:Ra,accData:ya,collection:Sa,packageName:Ia});const Da="collapse-group",qa="M390 448q-10 0-18-8L256 319 140 440q-8 8-18 8-11 0-18.5-7.5T96 422q0-10 7-17l134-141q8-8 19-8 12 0 18 8l135 141q7 7 7 17 0 11-7.5 18.5T390 448zm0-192q-10 0-18-8L256 127 140 248q-8 8-18 8-11 0-18.5-7.5T96 230q0-10 7-17L237 72q8-8 19-8 12 0 18 8l135 141q7 7 7 17 0 11-7.5 18.5T390 256z",ja=!1,Aa=gt,Na="SAP-icons-v5",Oa="@ui5/webcomponents-icons";Q(Da,{pathData:qa,ltr:ja,accData:Aa,collection:Na,packageName:Oa});const $a="collapse-group",ka="expand-group",Ea="M425.5 41q9-9 22.5-9t22.5 9q10 10 10 23t-10 23l-192 192q-9 9-22.5 9t-22.5-9L40.5 88q-10-10-10-23t10-22q9-10 22-10t23 10l159 157q5 5 11.5 5t11.5-5zm0 193q9-9 22.5-9t22.5 9q10 10 10 23t-10 23l-192 192q-9 9-22.5 9t-22.5-9l-193-191q-10-10-10-23t10-22q9-10 22-10t23 10l159 157q6 5 11 5 6 0 12-5z",La=!1,za=bt,Ha="SAP-icons-v4",Pa="@ui5/webcomponents-icons";Q(ka,{pathData:Ea,ltr:La,accData:za,collection:Ha,packageName:Pa});const Ka="expand-group",Wa="M390 64q11 0 18.5 7.5T416 90q0 10-7 17L274 248q-6 8-18 8-11 0-19-8L103 107q-7-7-7-17 0-11 7.5-18.5T122 64q10 0 18 8l116 121L372 72q8-8 18-8zm0 192q11 0 18.5 7.5T416 282q0 10-7 17L274 440q-6 8-18 8-11 0-19-8L103 299q-7-7-7-17 0-11 7.5-18.5T122 256q10 0 18 8l116 121 116-121q8-8 18-8z",Ma=!1,Va=bt,Ga="SAP-icons-v5",Ua="@ui5/webcomponents-icons";Q(Ka,{pathData:Wa,ltr:Ma,accData:Va,collection:Ga,packageName:Ua});const Ya="expand-group",Ja="navigation-up-arrow",Xa="M86.5 380q-9 9-22.5 9t-22.5-9q-10-10-10-23t10-23l193-197q4-2 5-3t2-1l1-1q1-1 2-1 6-2 11-2 2 0 3 .5t2 .5q4 0 6 1l7 4q1 1 1.5 1t1.5 1 2 1l192 196q10 10 10 23t-10 23q-9 9-22.5 9t-22.5-9l-154-155q-8-5-16-5t-16 5z",Qa=!1,Za="SAP-icons-v4",en="@ui5/webcomponents-icons";Q(Ja,{pathData:Xa,ltr:Qa,collection:Za,packageName:en});const tn="navigation-up-arrow",an="M416 326q0 11-7.5 18.5T390 352q-10 0-18-8L256 223 140 344q-8 8-18 8-11 0-18.5-7.5T96 326q0-10 7-17l134-141q8-8 19-8t19 8l134 141q7 7 7 17z",nn=!1,rn="SAP-icons-v5",on="@ui5/webcomponents-icons";Q(tn,{pathData:an,ltr:nn,collection:rn,packageName:on});const sn="navigation-up-arrow",Tt=a.createContext({}),ln="@layer ui5-webcomponents-react{._filterItem_11sb2_1{flex-basis:var(--_ui5wcr_filter_group_item_flex_basis);flex-grow:1;flex-shrink:0;margin-block-end:1rem;margin-inline-end:1rem;max-width:calc(var(--_ui5wcr_filter_group_item_flex_basis));position:relative;z-index:0}._filterItem_11sb2_1[data-with-toolbar=false]{max-width:calc(var(--_ui5wcr_filter_group_item_flex_basis)*2)}._innerFilterItemContainer_11sb2_18{display:flex;flex-direction:column;justify-content:flex-start}._innerFilterItemContainer_11sb2_18>:last-child{width:100%}._loadingContainer_11sb2_28{display:flex;height:1.625rem;justify-content:center;width:100%}._dialogTableRow_11sb2_35{--_ui5wcr-ActiveIconDisplayVariable:inline-block}._dialogTableRow_11sb2_35 *{cursor:pointer}._dialogCellLabel_11sb2_42{color:var(--sapTextColor)}._dialogActiveCell_11sb2_46{justify-content:center}._dialogActiveIcon_11sb2_50{color:var(--sapNeutralColor);display:var(--_ui5wcr-ActiveIconDisplayVariable);transform:scale(-50%)}._labelContainer_11sb2_56 :not(:first-child){width:100%}._withReorderBtns_11sb2_62{--_ui5wcr-ReorderBtnsDisplay:none}._withReorderBtns_11sb2_62>[ui5-table-cell]{padding-block:0}._withReorderBtns_11sb2_62[aria-selected=true]:active,._withReorderBtns_11sb2_62[aria-selected=true]:focus{--_ui5wcr-ActiveIconDisplayVariable:none;--_ui5wcr-ReorderBtnsDisplay:flex}._withReorderHoverBtns_11sb2_76[aria-selected=true]:hover{--_ui5wcr-ReorderBtnsDisplay:flex;--_ui5wcr-ActiveIconDisplayVariable:none}._reorderBtnsContainer_11sb2_83{display:var(--_ui5wcr-ReorderBtnsDisplay)}._pseudoInvisibleText_11sb2_87{font-size:0;left:0;position:absolute;top:0;user-select:none}}",q={filterItem:"_filterItem_11sb2_1",innerFilterItemContainer:"_innerFilterItemContainer_11sb2_18",loadingContainer:"_loadingContainer_11sb2_28",dialogTableRow:"_dialogTableRow_11sb2_35",dialogCellLabel:"_dialogCellLabel_11sb2_42",dialogActiveCell:"_dialogActiveCell_11sb2_46",dialogActiveIcon:"_dialogActiveIcon_11sb2_50",labelContainer:"_labelContainer_11sb2_56",withReorderBtns:"_withReorderBtns_11sb2_62",withReorderHoverBtns:"_withReorderHoverBtns_11sb2_76",reorderBtnsContainer:"_reorderBtnsContainer_11sb2_83",pseudoInvisibleText:"_pseudoInvisibleText_11sb2_87"},cn=na(),tt=a.forwardRef((T,w)=>{Ze(ln,tt.displayName);const{groupName:r="default",considerGroupName:B,label:g="",labelTooltip:A,required:m,hidden:Z,hiddenInFilterBar:ee,children:te,loading:se,className:ie,slot:M,active:he,filterKey:C,...le}=T,I=Qe("@ui5/webcomponents-react"),D=T["data-index"],b=cn?"CMD":"CTRL",L=a.useRef(null),{isFilterInDialog:ae,isListView:N,withValues:R,enableReordering:pe,showBtnsOnHover:ce,currentReorderedItemOrderId:V,handleFocusFallback:z,onReorder:ne,setShowBtnsOnHover:fe,setSelectedKeys:G,setRequiredKeys:f,prevIsListView:k}=a.useContext(Tt),h=a.useRef((k==null?void 0:k.current)!==N);a.useEffect(()=>{(k==null?void 0:k.current)!==N&&(h.current=!0)},[N]);const H=!ae,c=pe&&!R&&N,[O,_]=a.useState(void 0),U=l=>{fe(!1),l.currentTarget.nextSibling===null?_("last"):_(D===0?"first":void 0)};a.useEffect(()=>{D===0&&_("first")},[D]);const $=l=>{_(void 0),ne({index:D,direction:l.currentTarget.dataset.reorder,target:L.current,filterKey:C})},Y=l=>{if(l.ctrlKey||l.metaKey){const x={Home:"top",End:"bottom",ArrowUp:"up",ArrowDown:"down"}[l.key];x&&(_(void 0),ne({index:D,direction:x,target:l.currentTarget,filterKey:C}))}};if(a.useEffect(()=>{c&&L.current&&V===C&&typeof D=="number"&&z()},[c,V,C,D]),a.useEffect(()=>{!H&&!Z&&!(h!=null&&h.current)&&(G&&G(l=>{const P=new Set(l);return ee&&!m?P.delete(`${C}`):P.add(`${C}`),Array.from(P)}),f&&f(l=>({...l,[`${C}`]:!!m}))),h!=null&&h.current&&(h.current=!1)},[H,Z,ee,C,G,N,m]),!m&&(Z||H&&ee))return null;if(!H)return e.jsxs(ca,{ref:L,rowKey:`${C}`,"data-text":g,"data-required":m,"data-component-name":"FilterBarDialogTableRow",className:Oe(q.dialogTableRow,c&&q.withReorderBtns,c&&ce&&q.withReorderHoverBtns),onFocus:c?U:void 0,onKeyDown:c?Y:void 0,"aria-live":c?"polite":void 0,"aria-label":c?I.getText(vt,b):void 0,children:[e.jsx(at,{"data-component-name":"FilterBarDialogTableCellFilter",children:e.jsxs(X,{fitContainer:!0,direction:Ye.Column,justifyContent:Je.Center,className:q.labelContainer,"data-in-filters-dialog":!0,children:[e.jsx(ot,{className:q.dialogCellLabel,title:A??g,required:m,showColon:!!g&&R,children:g}),R&&te]})}),!R&&e.jsxs(at,{className:q.dialogActiveCell,"data-component-name":"FilterBarDialogTableCellActive",children:[N&&c&&e.jsxs(X,{fitContainer:!0,justifyContent:Je.Center,alignItems:ft.Center,className:q.reorderBtnsContainer,"data-component-name":"FilterBarDialogTableCellReorderBtns",children:[e.jsx(W,{onClick:$,design:S.Transparent,icon:$a,"data-reorder":"top",disabled:O==="first",tooltip:`${I.getText(Ft,` (${b}+Home)`)})`,"data-component-name":"FilterBarDialogReorderBtnTop"}),e.jsx(W,{onClick:$,design:S.Transparent,icon:sn,"data-reorder":"up",disabled:O==="first",tooltip:`${I.getText(Rt,` (${b}+${I.getText(yt)})`)}`,"data-component-name":"FilterBarDialogReorderBtnUp"}),e.jsx(W,{onClick:$,design:S.Transparent,icon:la,"data-reorder":"down",disabled:O==="last",tooltip:`${I.getText(St,` (${b}+${I.getText(It)})`)}`,"data-component-name":"FilterBarDialogReorderBtnDown"}),e.jsx(W,{onClick:$,design:S.Transparent,icon:Ya,"data-reorder":"bottom",disabled:O==="last",tooltip:`${I.getText(Dt,` (${b}+End`)})`,"data-component-name":"FilterBarDialogReorderBtnBottom"})]}),he&&e.jsxs(e.Fragment,{children:[e.jsx(et,{name:ia,className:q.dialogActiveIcon,"aria-hidden":!0}),e.jsx("span",{className:q.pseudoInvisibleText,children:I.getText(qt)})]})]})]});const J=B&&r!=="default"?`${g} (${r})`:g;return e.jsx("div",{ref:w,slot:M,...le,className:Oe(q.filterItem,ie),children:e.jsxs("div",{className:q.innerFilterItemContainer,"data-in-filter-bar":!0,children:[e.jsx(X,{children:e.jsx(ot,{title:A??g,required:m,showColon:!!g,children:J})}),se?e.jsx(da,{className:q.loadingContainer,active:!0,size:aa.S}):te]})})});tt.displayName="FilterGroupItem";const dn="@layer ui5-webcomponents-react{._outerContainer_1namm_1{background:var(--sapObjectHeader_Background)}._outerContainerWithToolbar_1namm_5{box-shadow:var(--sapContent_HeaderShadow);padding-block:.5rem 1px;padding-inline:2rem}._filterBarHeader_1namm_11{align-items:center;background:var(--sapObjectHeader_Background);box-shadow:none;display:flex;flex-wrap:wrap;min-height:3rem;padding-block-end:.5rem}._filterBarHeader_1namm_11 [data-component-name=ToolbarContent]>:first-child{margin-inline-start:0}._filterArea_1namm_25{align-items:center;background:var(--sapObjectHeader_Background);display:flex;flex-wrap:wrap;margin-block-end:1rem;padding-block-start:1rem;transition:max-height .2s ease-out,opacity .2s ease-in}._filterAreaClosed_1namm_37{margin:0;max-height:0;opacity:0;overflow-y:auto;padding:0}._filterAreaOpen_1namm_45{opacity:1}._showFiltersBtn_1namm_49{min-width:108px}._filterBarButtons_1namm_53{align-items:center;display:flex;inset-inline:auto 0;margin-block-end:1rem;margin-inline-end:1rem;position:absolute}._filterBarButtons_1namm_53>:not(:first-child){margin-inline-start:.25rem}._filterBarButtons_1namm_53>:not(:last-child){margin-inline-end:.25rem}._searchContainer_1namm_70>[ui5-input]{width:100%}._spacer_1namm_76{flex-basis:calc(var(--_ui5wcr_filter_group_item_flex_basis));flex-grow:1;flex-shrink:0;height:0;margin-block-start:0;margin-inline-end:1rem;max-width:calc(var(--_ui5wcr_filter_group_item_flex_basis)*2)}._lastSpacer_1namm_86{flex-basis:calc(var(--_ui5wcr_filter_group_item_flex_basis));flex-grow:1;flex-shrink:0;height:var(--_ui5wcr-ElementHeight);margin-inline-end:1rem;max-width:calc(var(--_ui5wcr_filter_group_item_flex_basis)*2)}._toolbar_1namm_95>:not(ui5-toolbar){flex-shrink:0}._wcToolbar_1namm_101{border:none}}",j={outerContainer:"_outerContainer_1namm_1",outerContainerWithToolbar:"_outerContainerWithToolbar_1namm_5",filterBarHeader:"_filterBarHeader_1namm_11",filterArea:"_filterArea_1namm_25",filterAreaClosed:"_filterAreaClosed_1namm_37",filterAreaOpen:"_filterAreaOpen_1namm_45",showFiltersBtn:"_showFiltersBtn_1namm_49",filterBarButtons:"_filterBarButtons_1namm_53",searchContainer:"_searchContainer_1namm_70",spacer:"_spacer_1namm_76",lastSpacer:"_lastSpacer_1namm_86",toolbar:"_toolbar_1namm_95",wcToolbar:"_wcToolbar_1namm_101"},un="list",mn="M79.5 64q16 0 16 16t-16 16-16-16 16-16zm96 32q-16 0-16-16t16-16h257q6 0 11 4.5t5 11.5-5 11.5-11 4.5h-257zm-96 64q16 0 16 16t-16 16-16-16 16-16zm353 0q6 0 11 4.5t5 11.5-5 11.5-11 4.5h-257q-16 0-16-16t16-16h257zm-353 96q16 0 16 16t-16 16-16-16 16-16zm353 0q6 0 11 4.5t5 11.5-5 11.5-11 4.5h-257q-16 0-16-16t16-16h257zm-353 96q16 0 16 16t-16 16-16-16 16-16zm353 0q6 0 11 4.5t5 11.5-5 11.5-11 4.5h-257q-16 0-16-16t16-16h257zm-353 96q16 0 16 16t-16 16-16-16 16-16zm353 0q6 0 11 4.5t5 11.5-5 11.5-11 4.5h-257q-16 0-16-16t16-16h257z",hn=!1,pn="SAP-icons-v4",fn="@ui5/webcomponents-icons";Q(un,{pathData:mn,ltr:hn,collection:pn,packageName:fn});const _n="list",gn="M454 339H186q-11 0-18.5-7t-7.5-18 7.5-18.5T186 288h268q11 0 18.5 7.5T480 314t-7.5 18-18.5 7zm0-256H186q-11 0-18.5-7T160 58t7.5-18.5T186 32h268q11 0 18.5 7.5T480 58t-7.5 18-18.5 7zM64 288q13 0 22.5 9.5T96 320t-9.5 22.5T64 352t-22.5-9.5T32 320t9.5-22.5T64 288zm390 179H186q-11 0-18.5-7t-7.5-18 7.5-18.5T186 416h268q11 0 18.5 7.5T480 442t-7.5 18-18.5 7zM64 416q13 0 22.5 9.5T96 448t-9.5 22.5T64 480t-22.5-9.5T32 448t9.5-22.5T64 416zm0-256q13 0 22.5 9.5T96 192t-9.5 22.5T64 224t-22.5-9.5T32 192t9.5-22.5T64 160zm0-128q13 0 22.5 9.5T96 64t-9.5 22.5T64 96t-22.5-9.5T32 64t9.5-22.5T64 32zm390 179H186q-11 0-18.5-7t-7.5-18 7.5-18.5T186 160h268q11 0 18.5 7.5T480 186t-7.5 18-18.5 7z",bn=!1,xn="SAP-icons-v5",Tn="@ui5/webcomponents-icons";Q(_n,{pathData:gn,ltr:bn,collection:xn,packageName:Tn});const Cn="list",wn="@layer ui5-webcomponents-react{._tHactive_4brh3_1{justify-content:center}._groupedTableHeader_4brh3_5{display:none}._tableInGroup_4brh3_9 [ui5-table-row]:last-child{border-bottom:none}._groupPanel_4brh3_13::part(content){padding:0}._searchInputContainer_4brh3_19{height:var(--_ui5wcr-ToolbarHeight);padding-bottom:.25rem}._searchInput_4brh3_19{width:100%}._dialogComponent_4brh3_28{height:55rem;width:40rem}._dialogComponent_4brh3_28::part(content),._dialogComponent_4brh3_28::part(footer),._dialogComponent_4brh3_28::part(header){padding:0}._dialogComponent_4brh3_28[data-is-phone=true]{border-radius:0;height:100%;inset-block-start:0;inset-inline-start:0;max-height:100%;max-width:100%;width:100%}._header_4brh3_49{padding-block:.25rem 0;padding-inline:1rem;width:100%}._header_4brh3_49 *{margin-block:.25rem;margin-inline:0}._header_4brh3_49 [ui5-input]{width:100%}._subheaderContainer_4brh3_64{box-shadow:var(--sapContent_HeaderShadow);padding-block-start:.25rem;padding-inline:1rem}._subheader_4brh3_64{padding-block-end:.25rem}._subheader_4brh3_64 [data-component-name=ToolbarContent]>:last-child{margin:0}._subheader_4brh3_64 [data-component-name=ToolbarContent]>:first-child{margin-inline:0 .25rem}._footer_4brh3_83 :not(:last-child){margin-inline-end:.25rem}._showValuesBtn_4brh3_89{flex-shrink:0}._spacer_4brh3_93{flex-grow:1}._inactiveTable_4brh3_97{pointer-events:none}}",y={tHactive:"_tHactive_4brh3_1",groupedTableHeader:"_groupedTableHeader_4brh3_5",tableInGroup:"_tableInGroup_4brh3_9",groupPanel:"_groupPanel_4brh3_13",searchInputContainer:"_searchInputContainer_4brh3_19",searchInput:"_searchInput_4brh3_19",dialogComponent:"_dialogComponent_4brh3_28",header:"_header_4brh3_49",subheaderContainer:"_subheaderContainer_4brh3_64",subheader:"_subheader_4brh3_64",footer:"_footer_4brh3_83",showValuesBtn:"_showValuesBtn_4brh3_89",spacer:"_spacer_4brh3_93",inactiveTable:"_inactiveTable_4brh3_97"};xt("ui5-table",`
:host([data-component-name="FilterBarDialogTable"][data-with-value="false"]) #table,
:host([data-component-name="FilterBarDialogPanelTable"][data-with-value="false"]) #table {
   grid-template-columns: var(--_ui5wcr-CheckBoxWidthHeight) minmax(3rem, auto) minmax(3rem, 25%) !important;
}
:host([data-component-name="FilterBarDialogTable"][data-is-grouped]) #nodata-row {
  display: none;
}
`);xt("ui5-table-header-row",`
:host([data-component-name="FilterBarDialogGroupTableHeaderRow"]) :first-child {
  visibility: hidden;
}
`);const Bn=(T,w)=>{var r,B,g,A,m;switch(T){case"all":return!0;case"visible":return((r=w.props)==null?void 0:r.hiddenInFilterBar)!==!0;case"active":return(B=w.props)==null?void 0:B.active;case"visibleAndActive":return((g=w.props)==null?void 0:g.hiddenInFilterBar)!==!0&&((A=w.props)==null?void 0:A.active);case"mandatory":return(m=w.props)==null?void 0:m.required;default:return!0}},vn=T=>{const{open:w,handleDialogClose:r,children:B,showRestoreButton:g,dialogRef:A,enableReordering:m,isPhone:Z,handleRestoreFilters:ee,handleDialogSave:te,onFiltersDialogSelectionChange:se,handleDialogSearch:ie,handleDialogCancel:M,onAfterFiltersDialogOpen:he,onReorder:C}=T;Ze(wn,"FilterBarDialog");const le=a.useId(),[I,D]=a.useState(""),[b,L]=a.useState(void 0),[ae,N]=a.useState({}),[R,pe]=a.useReducer(t=>!t,!1),[ce,V]=a.useState(!1),[z,ne]=a.useState(),[fe,G]=a.useState(!0),[f,k]=a.useState(!0),[h,H]=a.useState("all"),[c,O]=a.useState({}),[_,U]=a.useState([]),[$,Y]=a.useState(void 0),J=c==null?void 0:c.filterKey,l=(b??[]).join(" "),P=a.useRef(null),x=a.useRef(null),Fe=a.useRef(null),_e=a.useRef(!0),ge=a.useRef({selectedFilterKeys:b??[]}),de=a.useRef(void 0),be=a.useRef(void 0),u=Qe("@ui5/webcomponents-react"),Re=u.getText(jt),$e=u.getText(At),ke=u.getText(Nt),Ee=u.getText(Ot),ye=u.getText(_t),Le=u.getText($t),Se=u.getText(kt),xe=u.getText(Et),ze=u.getText(Lt),He=u.getText(zt),Ie=u.getText(Ht),De=u.getText(Pt),qe=u.getText(Kt),Pe=u.getText(Wt),ue=u.getText(Mt),Te=u.getText(Vt),Ce=u.getText(Gt),v=a.useRef(!1),Ke=t=>{v.current=!0,O(t)},re=()=>{var n;const t=(n=c==null?void 0:c.target)==null?void 0:n.rowKey;t&&x.current&&t!==be.current&&(setTimeout(()=>{const s=x.current._tableNavigation;s._gridWalker.setGrid(s._getNavigationItemsOfGrid()),x.current.querySelector(`[row-key="${t}"]`).focus()},0),be.current=t)},je=()=>B.filter(t=>{var n;return!!(t!=null&&t.props)&&!((n=t==null?void 0:t.props)!=null&&n.hidden)});a.useEffect(()=>{B.length&&U(je())},[B]);const oe=()=>{const t=I.toLowerCase();return(t.length>0||h!=="all"?_.filter(s=>{var d;return(t===""||((d=s.props.label)==null?void 0:d.toLowerCase().includes(t)))&&Bn(h,s)}):_).map((s,d)=>a.cloneElement(s,{"data-index":d}))},We=t=>{typeof ie=="function"&&ie(Ue(t,{value:t.target.value,element:t.target})),D(t.target.value)},we=t=>{const n=m?_.map(s=>s.props.filterKey):[];te(t,ge.current,n)},Me=t=>{ha(t),t.target===t.currentTarget&&(typeof M=="function"&&M(!0),r("escPressed"))},Ve=()=>{typeof M=="function"&&M(!1),r("cancelButtonPressed")},o=()=>{V(!0)},i=t=>{const n=t.detail.selectedItems.at(0);_e.current=f,k(n.dataset.id==="list")},F=t=>{if(t==="OK"){const n=je(),s={source:"dialog",selectedFilterKeys:de.current,previousSelectedFilterKeys:b,reorderedFilterKeys:m?n.map(d=>`${d.props.filterKey}`):null};L(de.current),U(n),ee(s)}V(!1),setTimeout(()=>{Fe.current.focus()},50)};a.useEffect(()=>{_.length&&v.current&&(typeof C=="function"&&C({reorderedFilterKeys:_.map(t=>`${t.props.filterKey}`)}),v.current=!1)},[_,C]),a.useEffect(()=>{(c==null?void 0:c.index)!=null&&(U(t=>{const{index:n,direction:s}=c;switch(s){case"up":if(n>0){Y(n-1);const d=t[n];t[n]=t[n-1],t[n-1]=d}break;case"down":if(n<t.length-1){Y(n+1);const d=t[n];t[n]=t[n+1],t[n+1]=d}break;case"top":if(n>0){Y(0);const d=t.splice(n,1)[0];t.unshift(d)}break;case"bottom":if(n<t.length-1){Y(t.length-1);const d=t.splice(n,1)[0];t.push(d)}break}return[...t]}),c.target.focus())},[c]),a.useEffect(()=>{$!=null&&(be.current=void 0)},[$]);const p=t=>{H(t.detail.selectedOption.dataset.id)},E=(t,n,s,d=!1)=>{if(L(Array.from(t)),!d&&typeof se=="function"){const me={toggledFilterKeys:n,selected:n.size===1?t.has(n.values().next().value):void 0,selectedFilterKeys:t,previousSelectedFilterKeys:s};se(me)}};a.useEffect(()=>{b&&(ge.current={selectedFilterKeys:b})},[b]);const K=t=>{if(t.target.hasAttribute("ui5-table-selection")){const n=new Set(t.target.selected.length?t.target.selected.split(" "):[]),s=new Set(b??[]),d=Object.keys(ae).filter(Be=>ae[Be]),me=n.symmetricDifference(s);if(d.length){ne({required:d,target:t.target,selected:n,prevSelected:s,selectedKeys:me});return}E(n,me,s)}};a.useEffect(()=>{if(z&&z.target){const{prevSelected:t,selectedKeys:n,selected:s,required:d,target:me}=z;d.forEach(Be=>{s.add(Be)}),setTimeout(()=>{me.selected=Array.from(s).join(" ");const Be=n.size===1&&d.includes(n.values().next().value);E(s,n,t,Be)}),ne(void 0)}},[z]);const wt=()=>{const t={};return a.Children.forEach(oe(),n=>{const s=n.props.groupName??"default";t[s]?t[s].push(n):t[s]=[n]}),Object.keys(t).sort((n,s)=>n==="default"?-1:s==="role"?1:0).map((n,s)=>e.jsx(xa,{headerText:n==="default"?Re:n,className:y.groupPanel,children:e.jsx(nt,{className:y.tableInGroup,"data-component-name":"FilterBarDialogPanelTable","data-with-value":R,features:e.jsx(it,{mode:lt.Multiple,selected:l,onChange:K}),headerRow:e.jsxs(rt,{className:y.groupedTableHeader,children:[e.jsx(Ae,{children:Te}),!R&&e.jsx(Ae,{className:y.tHactive,children:xe})]}),children:t[n]})},`${n==="default"?Re:n}${s}`))};return a.useEffect(()=>{de.current===void 0&&l.length&&(de.current=b)},[l]),e.jsxs(Tt.Provider,{value:{isFilterInDialog:!0,enableReordering:m,onReorder:Ke,isListView:f,withValues:R,handleFocusFallback:re,showBtnsOnHover:fe,setShowBtnsOnHover:G,currentReorderedItemOrderId:J,setSelectedKeys:L,setRequiredKeys:N,prevIsListView:_e},children:[e.jsxs(Ta,{open:w,ref:A,"data-component-name":"FilterBarDialog","data-is-phone":Z,onClose:Me,onOpen:he,resizable:!0,draggable:!0,className:y.dialogComponent,preventFocusRestore:!0,initialFocus:`${le}-fb-dialog-search`,header:e.jsx(dt,{design:st.Header,startContent:e.jsx(Ca,{level:ua.H4,title:ye,children:ye}),endContent:g&&e.jsx(W,{design:S.Transparent,onClick:o,children:Le})}),footer:e.jsx(dt,{design:st.Footer,endContent:e.jsxs(X,{justifyContent:Je.End,className:y.footer,children:[e.jsx(W,{ref:Fe,onClick:we,"data-component-name":"FilterBarDialogSaveBtn",design:S.Emphasized,children:ke}),e.jsx(W,{design:S.Transparent,onClick:Ve,"data-component-name":"FilterBarDialogCancelBtn",children:$e})]})}),children:[e.jsxs(X,{direction:Ye.Column,className:y.subheaderContainer,children:[e.jsxs(X,{direction:Ye.Row,children:[e.jsxs(_a,{onChange:p,title:Ce,accessibleName:Ce,onClose:t=>{t.stopPropagation()},children:[e.jsx(ve,{selected:h==="all","data-id":"all",children:Se}),e.jsx(ve,{selected:h==="visible","data-id":"visible",children:ze}),e.jsx(ve,{selected:h==="active","data-id":"active",children:xe}),e.jsx(ve,{selected:h==="visibleAndActive","data-id":"visibleAndActive",children:He}),e.jsx(ve,{selected:h==="mandatory","data-id":"mandatory",children:Ie})]}),e.jsx("span",{className:y.spacer}),e.jsx(W,{design:S.Transparent,onClick:pe,"aria-live":"polite",className:y.showValuesBtn,children:R?ue:Pe}),e.jsxs(ga,{onSelectionChange:i,children:[e.jsx(ut,{icon:Cn,"data-id":"list",selected:f,accessibleName:De,tooltip:De}),e.jsx(ut,{icon:ma,"data-id":"group",selected:!f,accessibleName:qe,tooltip:qe})]})]}),e.jsx(X,{className:y.searchInputContainer,children:e.jsx(ba,{id:`${le}-fb-dialog-search`,noTypeahead:!0,placeholder:Ee,onInput:We,showClearIcon:!0,icon:e.jsx(et,{name:pt}),ref:P,className:y.searchInput,"data-component-name":"FilterBarDialogSearchInput"})})]}),e.jsx(nt,{ref:x,className:!f&&y.inactiveTable,"data-component-name":"FilterBarDialogTable","data-is-grouped":!f,"data-with-value":`${R}`,nodata:f?void 0:e.jsx("span",{}),tabIndex:f?void 0:-1,features:e.jsx(e.Fragment,{children:e.jsx(it,{mode:lt.Multiple,onChange:K,selected:l})}),headerRow:e.jsxs(rt,{"data-component-name":f?"FilterBarDialogTableHeaderRow":"FilterBarDialogGroupTableHeaderRow",children:[e.jsx(Ae,{children:Te}),!R&&e.jsx(Ae,{className:y.tHactive,children:xe})]}),children:f&&oe()}),!f&&wt()]}),g&&ce&&e.jsx(pa,{open:!0,type:fa.Warning,actions:[ct.OK,ct.Cancel],onClose:F,"data-component-name":"FilterBarDialogResetMessageBox",children:u.getText(Ut)})]})},Ne=ra(),Fn=oa(),Rn=sa(),ht=T=>{var w;if(T.borderBoxSize.length)return(w=T.borderBoxSize[0])==null?void 0:w.inlineSize},Ct=a.forwardRef((T,w)=>{const{hideToolbar:r,filterBarCollapsed:B,considerGroupName:g,filterContainerWidth:A="13.125rem",activeFiltersCount:m,showClearOnFB:Z,showGoOnFB:ee,hideFilterConfiguration:te,showRestoreOnFB:se,showResetButton:ie,hideToggleFiltersButton:M,enableReordering:he,style:C,className:le,slot:I,search:D,header:b,as:L="div",onToggleFilters:ae,onFiltersDialogOpen:N,onAfterFiltersDialogOpen:R,onFiltersDialogCancel:pe,onFiltersDialogClose:ce,onFiltersDialogSave:V,onClear:z,onFiltersDialogSelectionChange:ne,onFiltersDialogSearch:fe,onGo:G,onRestore:f,onReorder:k,...h}=T,H=T.children,c=r?!0:B!==void 0?B:!(Fn&&!Rn),[O,_]=a.useState(c),[U,$]=a.useState(!1),Y=a.useRef(null),J=a.useRef(null),l=a.useRef(null),P=a.useRef(null),x=Qe("@ui5/webcomponents-react"),Fe=a.useId(),_e=x.getText(Yt),ge=x.getText(Jt),de=x.getText(Xt),be=x.getText(Qt),u=x.getText(Zt),Re=x.getText(ea),$e=r?x.getText(ta):x.getText(_t);a.useEffect(()=>{B!==void 0&&_(r?!0:!B)},[_,r,B]),Ze(dn,Ct.displayName);const ke=Oe(j.filterArea,O&&(!Ne||Ne&&r)?j.filterAreaOpen:j.filterAreaClosed),Ee=o=>{typeof ae=="function"&&ae(Ue(o,{visible:!O})),_(!O)},ye=(o,i,F)=>{const p={...i,reorderedFilterKeys:F};V&&V(Ue(o,p)),Se("okButtonPressed")},Le=o=>{typeof N=="function"&&N(o),o.defaultPrevented?$(!1):$(!0)},Se=o=>{var i;typeof ce=="function"&&ce(o),$(!1),(i=P.current)==null||i.focus()},xe=o=>{typeof G=="function"&&G(o)},ze=()=>a.Children.toArray(H),He=()=>{const o={considerGroupName:g,"data-with-toolbar":!r};return a.Children.toArray(H).filter(i=>{var F,p,E;return a.isValidElement(i)?(typeof i.props.hidden>"u"||((F=i==null?void 0:i.props)==null?void 0:F.hidden)!==!0)&&(((p=i.props)==null?void 0:p.required)||((E=i.props)==null?void 0:E.hiddenInFilterBar)!==!0):!1}).map(i=>(A&&(o.style={width:A,...i.props.style}),a.cloneElement(i,{...o})))},Ie=o=>{f&&f(o)},De=()=>{Ie({source:"filterBar",selectedFilterKeys:we.map(o=>`${o.props.filterKey}`),previousSelectedFilterKeys:null,reorderedFilterKeys:null})},qe=o=>{typeof z=="function"&&z(o)},Pe=Oe(j.outerContainer,le,!r&&j.outerContainerWithToolbar),ue=r?W:mt,Te=`${$e}${m&&parseInt(m,10)?` (${m})`:""}`,Ce=e.jsxs(e.Fragment,{children:[ee&&e.jsx(ue,{text:r?void 0:u,onClick:xe,design:S.Emphasized,children:r?u:void 0}),!M&&!r&&!Ne&&e.jsx(mt,{text:O?be:de,onClick:Ee,design:S.Transparent,className:j.showFiltersBtn,"aria-live":"polite"}),Z&&e.jsx(ue,{text:r?void 0:_e,onClick:qe,design:S.Transparent,children:r?_e:void 0}),se&&e.jsx(ue,{text:r?void 0:ge,onClick:De,design:S.Transparent,children:r?ge:void 0}),!te&&e.jsx(ue,{text:r?void 0:Te,onClick:Le,"aria-haspopup":"dialog",design:S.Transparent,ref:P,children:r?Te:void 0})]}),[v,Ke]=a.useState(void 0),[re,je]=a.useState(void 0),[oe,We]=a.useState(void 0);a.useEffect(()=>{const o=Ge(([F])=>{var E,K;const p=(K=(E=F.target)==null?void 0:E.children)==null?void 0:K[0];p&&p.offsetWidth!==oe&&We(p.offsetWidth+16)},100),i=new ResizeObserver(o);return r&&l.current&&i.observe(l.current),()=>{o.cancel(),i.disconnect()}},[l.current,r]),a.useEffect(()=>{const o=Ge(([F])=>{const p=ht(F);p!==v&&je(p)},100),i=new ResizeObserver(o);return r&&l.current&&i.observe(l.current),()=>{o.cancel(),i.disconnect()}},[re,l.current,r]),a.useEffect(()=>{const o=Ge(([F])=>{const p=ht(F);p!==v&&Ke(p)},100),i=new ResizeObserver(o);return r&&J.current&&i.observe(J.current),()=>{o.cancel(),i.disconnect()}},[J.current,r,v]);const we=He(),Me=()=>{if(oe&&re&&v){const o=[],i=we.length*oe;if(re-v>i)return null;const F=i%re,p=re-F,E=Math.floor((p-v)/oe)-1;for(let K=0;K<E;K++)o.push(e.jsx("div",{className:j.spacer},`filter-spacer-${K}`));return o}return null},Ve=L;return e.jsxs(e.Fragment,{children:[e.jsxs(Ve,{ref:w,className:Pe,style:{"--_ui5wcr_filter_group_item_flex_basis":A,...C},slot:I,...h,children:[!r&&e.jsxs(X,{className:j.toolbar,alignItems:ft.Center,children:[b,e.jsx(wa,{className:j.wcToolbar,design:Ba.Transparent,children:Ce})]}),e.jsxs("div",{className:ke,style:{position:"relative"},ref:l,"data-component-name":"FilterBarFilterArea",children:[D&&e.jsx(tt,{"data-with-toolbar":!r,filterKey:`${Fe}-search`,children:e.jsx("div",{className:j.searchContainer,children:a.cloneElement(D,{placeholder:Re,noTypeahead:!0,showClearIcon:!0,type:Bt.Search,icon:e.jsx(et,{name:pt})})})}),we,r&&e.jsxs(e.Fragment,{children:[Me(),e.jsx("div",{style:{width:v?`${v}px`:"120px",minWidth:v?`${v}px`:"120px"},className:j.lastSpacer,children:e.jsx("div",{className:j.filterBarButtons,ref:J,children:Ce})})]})]})]}),U&&!te&&e.jsx(vn,{open:U,handleDialogClose:Se,handleRestoreFilters:Ie,showRestoreButton:ie,onFiltersDialogSelectionChange:ne,handleDialogSave:ye,handleDialogSearch:fe,handleDialogCancel:pe,onAfterFiltersDialogOpen:R,dialogRef:Y,enableReordering:he,isPhone:Ne,onReorder:k,children:ze()})]})});Ct.displayName="FilterBar";export{tt as F,Ct as a};
