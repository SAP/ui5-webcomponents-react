import{j as l}from"./jsx-runtime-CLpGMVip.js";import{A as d}from"./index-DZyogJjo.js";import{p as C,d as k,j as _,c as E,s as g,m as L,e as R,I as S,x as D,w as P}from"./withWebComponent-DfVDXLfc.js";import{f as w}from"./ResizeHandler-DlOwLzX7.js";import{f as z}from"./ItemNavigation-nUPkWObb.js";import{d as O}from"./slot-_4yKMUwC.js";import{l as A}from"./event-strict-DgQLNDEV.js";import{i as j}from"./i18n-DEVDpFvK.js";import{b as W,i as x}from"./Keys-Df3IBHp2.js";import{A as s}from"./AvatarSize-BceVhWoP.js";import{A as H}from"./AvatarColorScheme-Bo7yU2Uu.js";import{az as $,aA as U,aB as N,aC as B,aD as V}from"./i18n-defaults-Cyg2J0QB.js";import{d as M}from"./parameters-bundle.css-BzaqQttB.js";import{a as F}from"./Button-Bn6Q5CAy.js";var m;(function(a){a.Group="Group",a.Individual="Individual"})(m||(m={}));const r=m;C("@ui5/webcomponents-theming","sap_horizon",async()=>k);C("@ui5/webcomponents","sap_horizon",async()=>M);const K=`:host{-webkit-tap-highlight-color:rgba(0,0,0,0)}:host(:not([hidden])){display:block;width:100%}:host{--_ui5-v2-6-2_button_focused_border: var(--_ui5-v2-6-2_avatar_group_button_focus_border)}.ui5-avatar-group-items:focus{outline:none}:host([type="Group"][desktop]) .ui5-avatar-group-items:focus,:host([type="Group"]) .ui5-avatar-group-items:focus-visible{outline:var(--_ui5-v2-6-2_avatar_outline);outline-offset:var(--_ui5-v2-6-2_avatar_focus_offset);border-radius:var(--_ui5-v2-6-2_avatar_group_focus_border_radius)}.ui5-avatar-group-root{display:flex}.ui5-avatar-group-items{white-space:nowrap;position:relative;display:inline-flex}:host([type="Group"]) .ui5-avatar-group-items{cursor:pointer}:host([type="Group"]) ::slotted([ui5-button]),:host([type="Group"]) ::slotted([ui5-avatar]){pointer-events:none}.ui5-avatar-group-overflow-btn{overflow:visible}.ui5-avatar-group-overflow-btn::part(button){min-width:auto}::slotted([ui5-button]:not([hidden])),.ui5-avatar-group-overflow-btn:not([hidden]){--_ui5-v2-6-2_button_base_padding: 0;border-radius:50%;display:inline-flex;text-overflow:initial;z-index:0}::slotted([ui5-button][desktop]:focus),.ui5-avatar-group-overflow-btn[desktop]:focus{outline:var(--_ui5-v2-6-2_avatar_outline);outline-offset:var(--_ui5-v2-6-2_avatar_overflow_button_focus_offset)}.ui5-avatar-group-overflow-btn::part(button):focus-visible:after{outline:var(--_ui5-v2-6-2_avatar_outline);outline-offset:var(--_ui5-v2-6-2_avatar_focus_offset);border-radius:50%}.ui5-avatar-group-overflow-btn.ui5-avatar-group-overflow-btn-xs{height:2rem;width:2rem;min-width:2rem;font-size:.75rem}::slotted([ui5-button]),.ui5-avatar-group-overflow-btn.ui5-avatar-group-overflow-btn-s{height:3rem;width:3rem;min-width:3rem;font-size:1.125rem}.ui5-avatar-group-overflow-btn.ui5-avatar-group-overflow-btn-m{height:4rem;width:4rem;min-width:4rem;font-size:1.625rem}.ui5-avatar-group-overflow-btn.ui5-avatar-group-overflow-btn-l{height:5rem;width:5rem;min-width:5rem;font-size:2rem}.ui5-avatar-group-overflow-btn.ui5-avatar-group-overflow-btn-xl{height:7rem;width:7rem;min-width:7rem;font-size:2.75rem}
`;function X(){return _("div",{class:"ui5-avatar-group-root",children:E("div",{class:"ui5-avatar-group-items",role:this._role,tabindex:this._groupTabIndex,"aria-label":this._ariaLabelText,"aria-haspopup":this._containerAriaHasPopup,onClick:this._onClick,onKeyUp:this._onkeyup,onKeyDown:this._onkeydown,onFocusIn:this._onfocusin,children:[_("slot",{onClick:this.onAvatarClick,"onui5-click":this.onAvatarUI5Click}),this._customOverflowButton?_("slot",{onClick:this.onOverflowButtonClick,name:"overflowButton"}):_(F,{onClick:this.onOverflowButtonClick,accessibilityAttributes:this._overflowButtonAccAttributes,accessibleName:this._overflowButtonAriaLabelText,hidden:this._overflowBtnHidden,nonInteractive:this._isGroup,class:{"ui5-avatar-group-overflow-btn":!0,"ui5-avatar-group-overflow-btn-xs":this.firstAvatarSize===s.XS,"ui5-avatar-group-overflow-btn-s":this.firstAvatarSize===s.S,"ui5-avatar-group-overflow-btn-m":this.firstAvatarSize===s.M,"ui5-avatar-group-overflow-btn-l":this.firstAvatarSize===s.L,"ui5-avatar-group-overflow-btn-xl":this.firstAvatarSize===s.XL},children:this._overflowButtonText})]})})}var p=function(a,t,e,o){var i=arguments.length,u=i<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,e):o,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,t,e,o);else for(var c=a.length-1;c>=0;c--)(v=a[c])&&(u=(i<3?v(u):i>3?v(t,e,u):v(t,e))||u);return i>3&&u&&Object.defineProperty(t,e,u),u},f;const T="ui5-avatar-group-overflow-btn",J=`.${T}`,q={[s.XS]:{[r.Individual]:"0.0625rem",[r.Group]:"-0.5rem"},[s.S]:{[r.Individual]:"0.125rem",[r.Group]:"-1.25rem"},[s.M]:{[r.Individual]:"0.125rem",[r.Group]:"-1.625rem"},[s.L]:{[r.Individual]:"0.125rem",[r.Group]:" -2rem"},[s.XL]:{[r.Individual]:"0.25rem",[r.Group]:"-2.75rem"}};let n=f=class extends S{constructor(){super(),this.type="Group",this.accessibilityAttributes={},this._colorIndex=0,this._hiddenItems=0,this._itemNavigation=new z(this,{getItemsCallback:()=>this._isGroup?[]:this.items.slice(0,this._hiddenStartIndex)}),this._onResizeHandler=this._onResize.bind(this)}get hiddenItems(){return this.items.slice(this._hiddenStartIndex)}get colorScheme(){return this.items.map(t=>t.ÐµffectiveBackgroundColor)}get _customOverflowButton(){return this.overflowButton.length?this.overflowButton[0]:void 0}get _ariaLabelText(){const t=this.hiddenItems.length,e=this._isGroup?$:U;let o=f.i18nBundle.getText(e);return o+=` ${f.i18nBundle.getText(N,this._itemsCount-t,t)}`,this._isGroup?o+=` ${f.i18nBundle.getText(B)}`:o+=` ${f.i18nBundle.getText(V)}`,o}get _overflowButtonAriaLabelText(){return this._isGroup?void 0:f.i18nBundle.getText(B)}get _containerAriaHasPopup(){return this._isGroup?this._getAriaHasPopup():void 0}get _overflowButtonAccAttributes(){return{hasPopup:this._isGroup?void 0:this._getAriaHasPopup()}}get _role(){return this._isGroup?"button":"group"}get _hiddenStartIndex(){return this._itemsCount-this._hiddenItems}get _overflowBtnHidden(){return this._hiddenItems===0}get _isGroup(){return this.type===r.Group}get _itemsCount(){return this.items.length}get _groupTabIndex(){return this._isGroup?0:-1}get _overflowButton(){return this.shadowRoot.querySelector(J)}get _overflowButtonEffectiveWidth(){const t=this._customOverflowButton?this._customOverflowButton:this._overflowButton;if(!t)return 0;if(this._isGroup){let e=this.items[1];const o=e.offsetLeft-this.offsetLeft;return(!e||e.hidden)&&(e=t),this.effectiveDir==="rtl"?this._getWidthToItem(e):o}return t.offsetWidth}get firstAvatarSize(){var t;return((t=this.items[0])==null?void 0:t.size)??s.S}onAfterRendering(){this._overflowItems()}onBeforeRendering(){this._customOverflowButton&&(this._customOverflowButton.nonInteractive=this._isGroup),this._prepareAvatars()}onEnterDOM(){D()&&this.setAttribute("desktop",""),w.register(this,this._onResizeHandler)}onExitDOM(){w.deregister(this,this._onResizeHandler)}_onResize(){this._overflowItems()}_onkeydown(t){this._isGroup&&(W(t)?this._fireGroupEvent(t.target):x(t)&&t.preventDefault())}_onkeyup(t){!t.shiftKey&&x(t)&&this._isGroup&&(this._fireGroupEvent(t.target),t.preventDefault())}_fireGroupEvent(t){const e=t.classList.contains(T)||t===this._customOverflowButton;this.fireDecoratorEvent("click",{targetRef:t,overflowButtonClicked:e})}_onClick(t){t.stopPropagation(),this._isGroup&&this._fireGroupEvent(t.target)}onAvatarClick(t){t.stopPropagation(),this.fireDecoratorEvent("click",{targetRef:t.target,overflowButtonClicked:!1})}onAvatarUI5Click(t){t.stopPropagation()}onOverflowButtonClick(t){t.stopPropagation(),this.fireDecoratorEvent("click",{targetRef:t.target,overflowButtonClicked:!0})}_prepareAvatars(){this._colorIndex=0,this.items.forEach((t,e)=>{const o=this._getNextBackgroundColor();t.interactive=!this._isGroup,t.getAttribute("_color-scheme")||t.setAttribute("_color-scheme",H[`Accent${o}`]),(e!==this._itemsCount-1||this._customOverflowButton)&&(t.style.marginInlineEnd=q[t.effectiveSize][this.type])})}_onfocusin(t){this._itemNavigation.setCurrentItem(t.target)}_getWidthToItem(t){const e=this.effectiveDir==="rtl",o=t.offsetLeft-this.offsetLeft;if(e){const i=t.offsetParent;return i?i.offsetWidth-t.offsetLeft-t.offsetWidth:0}return o}_overflowItems(){if(this.items.length<2)return;let t=0;for(let e=0;e<this._itemsCount;e++){const o=this.items[e];o.hidden=!1;let i=this._getWidthToItem(o)+o.offsetWidth;if((e!==this._itemsCount-1||this._customOverflowButton)&&(i+=this._overflowButtonEffectiveWidth),i>this.offsetWidth){t=this._itemsCount-e;break}}this._setHiddenItems(t)}_getNextBackgroundColor(){return++this._colorIndex>10&&(this._colorIndex=1),this._colorIndex}_setHiddenItems(t){const e=this._hiddenItems!==t;this._hiddenItems=t,this.items.forEach((o,i)=>{o.hidden=i>=this._hiddenStartIndex}),this._overflowButtonText=`+${t>99?99:t}`,e&&this.fireDecoratorEvent("overflow")}_getAriaHasPopup(){return this.accessibilityAttributes.hasPopup}};p([g()],n.prototype,"type",void 0);p([g({type:Object})],n.prototype,"accessibilityAttributes",void 0);p([g({noAttribute:!0})],n.prototype,"_overflowButtonText",void 0);p([O({type:HTMLElement,default:!0})],n.prototype,"items",void 0);p([O()],n.prototype,"overflowButton",void 0);p([j("@ui5/webcomponents")],n,"i18nBundle",void 0);n=f=p([L({tag:"ui5-avatar-group",renderer:R,template:X,styles:K}),A("click"),A("overflow")],n);n.define();const b=P("ui5-avatar-group",["accessibilityAttributes","type"],[],["overflowButton"],["click","overflow"]);b.displayName="AvatarGroup";const Y={title:"Data Display / AvatarGroup",component:b,argTypes:{children:{control:{disable:!0}},overflowButton:{control:{disable:!0}}},args:{type:r.Group},tags:["package:@ui5/webcomponents"]},h={render(a){return l.jsxs(b,{...a,children:[l.jsx(d,{icon:"employee"}),l.jsx(d,{initials:"JD"}),l.jsx(d,{children:l.jsx("img",{src:"https://sap.github.io/ui5-webcomponents/images/avatars/woman_avatar_5.png",alt:"Avatar1"})}),l.jsx(d,{children:l.jsx("img",{src:"https://sap.github.io/ui5-webcomponents/images/avatars/man_avatar_3.png",alt:"Avatar2"})})]})}};var G,I,y;h.parameters={...h.parameters,docs:{...(G=h.parameters)==null?void 0:G.docs,source:{originalSource:`{
  render(args) {
    return <AvatarGroup {...args}>
        <Avatar icon="employee" />
        <Avatar initials="JD" />
        <Avatar>
          <img src="https://sap.github.io/ui5-webcomponents/images/avatars/woman_avatar_5.png" alt="Avatar1" />
        </Avatar>
        <Avatar>
          <img src="https://sap.github.io/ui5-webcomponents/images/avatars/man_avatar_3.png" alt="Avatar2" />
        </Avatar>
      </AvatarGroup>;
  }
}`,...(y=(I=h.parameters)==null?void 0:I.docs)==null?void 0:y.source}}};const Q=["Default"],dt=Object.freeze(Object.defineProperty({__proto__:null,Default:h,__namedExportsOrder:Q,default:Y},Symbol.toStringTag,{value:"Module"}));export{dt as C,h as D};
