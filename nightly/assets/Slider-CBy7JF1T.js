import{b as c,j as r,s as _,m as f}from"./jsx-runtime-cXES_1K3.js";import{i as I}from"./i18n-CjR4HGlq.js";import{H as v}from"./Keys-B3oBAe0t.js";import{S as g,d as S,a as l}from"./SliderBaseTemplate-DMVbu2ZV.js";import{I as m}from"./Icon-DONP1ba8.js";import{a as b}from"./Input-wzzRs6PF.js";import{S as V,a as y,b as P}from"./i18n-defaults-BXUwkpCs.js";function T(){return g.call(this,{progressBar:x,handles:O})}function x(){return r("div",{class:"ui5-slider-progress-container","aria-hidden":"true",part:"progress-container",children:r("div",{class:"ui5-slider-progress",style:this.styles.progress,onFocusOut:this._onfocusout,onFocusIn:this._onfocusin,tabIndex:-1,part:"progress-bar"})})}function O(){return c("div",{class:"ui5-slider-handle-container",style:this.styles.handle,part:"handle-container",children:[r("div",{class:"ui5-slider-handle",onFocusOut:this._onfocusout,onFocusIn:this._onfocusin,role:"slider",tabIndex:this._tabIndex,"aria-orientation":"horizontal","aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.value,"aria-labelledby":this._ariaLabelledByHandleText,"aria-disabled":this._ariaDisabled,"aria-keyshortcuts":"F2","aria-describedby":this._ariaDescribedByHandleText,"data-sap-focus-ref":!0,part:"handle",children:r(m,{name:S,mode:"Decorative",part:"icon-slider","slider-icon":!0})}),this.showTooltip&&r("div",{class:"ui5-slider-tooltip",style:this.styles.tooltip,children:this.editableTooltip?r(b,{value:this._tooltipInputValue,valueState:this._tooltipInputValueState,type:"Number",accessibleNameRef:"ui5-slider-InputLabel",onFocusOut:this._onInputFocusOut,onKeyDown:this._onInputKeydown,onChange:this._onInputChange,onInput:this._onInputInput,"data-sap-ui-end-value":!0,tabIndex:-1}):r("span",{class:"ui5-slider-tooltip-value",children:this.tooltipValue})})]})}var p=function(h,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(h,t,e,i);else for(var d=h.length-1;d>=0;d--)(a=h[d])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},u;let o=u=class extends l{get formFormattedValue(){return this.value.toString()}constructor(){super(),this.value=0,this._progressPercentage=0,this._handlePositionFromStart=0,this._tooltipInputValue=this.value.toString(),this._tooltipInputValueState="None",this._stateStorage.value=void 0,this._lastValidInputValue=this.min.toString()}onBeforeRendering(){this.editableTooltip&&this._updateInputValue(),this.isCurrentStateOutdated()&&(this.notResized=!0,this.syncUIAndState(),this._updateHandleAndProgress(this.value))}syncUIAndState(){this.isPropertyUpdated("step")&&(this._validateStep(this.step),this.storePropertyState("step")),this.isPropertyUpdated("min","max","value")&&(this.storePropertyState("min","max"),this.value=l.clipValue(this.value,this._effectiveMin,this._effectiveMax),this.updateStateStorageAndFireInputEvent("value"),this.storePropertyState("value")),this.labelInterval&&this.showTickmarks&&this._createLabels(),this.isPropertyUpdated("labelInterval")&&this.storePropertyState("labelInterval")}_onmousedown(t){if(this.disabled||this.step===0||t.target.hasAttribute("ui5-input"))return;const e=this.handleDownBase(t);this._valueOnInteractionStart=this.value,this._valueInitial===void 0&&(this._valueInitial=this.value);const i=this.constructor;this._isHandlePressed(i.getPageXValueFromEvent(t))||(this._updateHandleAndProgress(e),this.value=e,this.updateStateStorageAndFireInputEvent("value"))}_onfocusin(){this._valueInitial===void 0&&(this._valueInitial=this.value),this.showTooltip&&(this._tooltipVisibility=l.TOOLTIP_VISIBILITY.VISIBLE)}_onfocusout(t){var e;if(this._isFocusing()){this._preventFocusOut();return}this._valueInitial=void 0,this.showTooltip&&!((e=t.relatedTarget)!=null&&e.hasAttribute("ui5-input"))&&(this._tooltipVisibility=l.TOOLTIP_VISIBILITY.HIDDEN)}_handleMove(t){if(t.target.hasAttribute("ui5-input")||(t.preventDefault(),this.disabled||this._effectiveStep===0))return;const i=this.constructor.getValueFromInteraction(t,this._effectiveStep,this._effectiveMin,this._effectiveMax,this.getBoundingClientRect(),this.directionStart);this._updateHandleAndProgress(i),this.value=i,this.updateStateStorageAndFireInputEvent("value")}_handleUp(t){t.target.hasAttribute("ui5-input")||(this._valueOnInteractionStart!==this.value&&this.fireDecoratorEvent("change"),this.handleUpBase(),this._valueOnInteractionStart=void 0)}_onInputFocusOut(t){const e=this.shadowRoot.querySelector("[ui5-input]");this._tooltipVisibility=l.TOOLTIP_VISIBILITY.HIDDEN,this._updateValueFromInput(t),this._isInputValueValid||(e.value=this._lastValidInputValue,this._isInputValueValid=!0,this._tooltipInputValueState="None")}_updateInputValue(){const t=this.shadowRoot.querySelector("[ui5-input]");if(t){if(this._isInputValueValid=parseFloat(t.value)>=this.min&&parseFloat(t.value)<=this.max,!this._isInputValueValid){this._tooltipInputValue=this._lastValidInputValue,this._isInputValueValid=!0,this._tooltipInputValueState="Negative";return}this._tooltipInputValue=this.value.toString(),this._lastValidInputValue=this._tooltipInputValue,this._tooltipInputValueState="None"}}_isHandlePressed(t){const e=this._sliderHandle.getBoundingClientRect();return t>=e.left&&t<=e.right}_updateHandleAndProgress(t){const e=this._effectiveMax,i=this._effectiveMin;this._progressPercentage=(t-i)/(e-i),this._handlePositionFromStart=this._progressPercentage*100}_handleActionKeyPress(t){const e=this._effectiveMin,i=this._effectiveMax,n=this.value,s=this.constructor,a=v(t)?this._valueInitial:s.clipValue(this._handleActionKeyPressBase(t,"value")+n,e,i);a!==n&&(this._updateHandleAndProgress(a),this.value=a,this.updateStateStorageAndFireInputEvent("value"))}get inputValue(){return this.value.toString()}get styles(){return{progress:{transform:`scaleX(${this._progressPercentage})`,"transform-origin":`${this.directionStart} top`},handle:{[this.directionStart]:`${this._handlePositionFromStart}%`},label:{width:`${this._labelWidth}%`},labelContainer:{width:"100%",[this.directionStart]:`-${this._labelWidth/2}%`},tooltip:{visibility:`${this._tooltipVisibility}`}}}get _sliderHandle(){return this.shadowRoot.querySelector(".ui5-slider-handle")}get tooltipValue(){const e=this.constructor._getDecimalPrecisionOfNumber(this._effectiveStep);return this.value.toFixed(e)}get _ariaDisabled(){return this.disabled||void 0}get _ariaLabelledByText(){return u.i18nBundle.getText(V)}get _ariaDescribedByInputText(){return u.i18nBundle.getText(y)}get _ariaLabelledByInputText(){return u.i18nBundle.getText(P)}get tickmarksObject(){const t=this._tickmarksCount,e=[];if(this._hiddenTickmarks)return[!0,!1];for(let i=0;i<=t;i++)e.push(this._effectiveMin+i*this.step<=this.value);return e}};p([_({type:Number})],o.prototype,"value",void 0);p([I("@ui5/webcomponents")],o,"i18nBundle",void 0);o=u=p([f({tag:"ui5-slider",languageAware:!0,formAssociated:!0,template:T})],o);o.define();const H=o;export{H as S};
