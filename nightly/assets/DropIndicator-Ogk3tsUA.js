import{j as T,r as B,d as x,p as v,q as z,U as M,t as V}from"./withWebComponent-BAC46Qgl.js";import{d as j}from"./parameters-bundle.css-BzaqQttB.js";let m=null,$=!1;const A=new Set,E=new Set,L=e=>{!e.dataTransfer||!(e.target instanceof HTMLElement)||E.has(e.target)||(m=e.target)},S=()=>{m=null},N=()=>{m=null},U=e=>{m=e},F=()=>m,q=()=>{document.body.addEventListener("dragstart",L),document.body.addEventListener("dragend",S),document.body.addEventListener("drop",N)},G=e=>{A.add(e),q()},K=e=>{A.delete(e),A.size},Y=e=>(E.add(e),U),J=e=>{E.delete(e)},k={subscribe:G,unsubscribe:K,addSelfManagedArea:Y,removeSelfManagedArea:J,getDraggedElement:F};function ee(e,i,a,r,t={}){const n=k.getDraggedElement(),o={targetReference:null,placement:null};if(!n&&!(t!=null&&t.crossDnD))return o;const l=a.placements;return o.targetReference=e.target,l.some(d=>{const c=t.originalEvent?{originalEvent:e}:{};return i.fireDecoratorEvent("move-over",{...c,source:{element:n},destination:{element:r,placement:d}})?!1:(e.preventDefault(),o.targetReference=a.element,o.placement=d,!0)})||(o.targetReference=null),o}function te(e,i,a,r,t={}){e.preventDefault();const n=k.getDraggedElement();if(!n&&(t!=null&&t.crossDnD))return;const o=t.originalEvent?{originalEvent:e}:{};i.fireDecoratorEvent("move",{...o,source:{element:n},destination:{element:a,placement:r}}),n==null||n.focus()}var w;(function(e){e.Vertical="Vertical",e.Horizontal="Horizontal"})(w||(w={}));const g=w;var y;(function(e){e.On="On",e.Before="Before",e.After="After"})(y||(y={}));const s=y,O=(e,i,a,r)=>{const t=Math.abs(e-i),n=Math.abs(e-a),o=Math.abs(e-r),l=Math.min(t,n,o);let f=[];switch(l){case t:f=[s.Before];break;case n:f=[s.On,t<o?s.Before:s.After];break;case o:f=[s.After];break}return f},ne=(e,i,a)=>{let r=Number.POSITIVE_INFINITY,t=null;for(let u=0;u<e.length;u++){const R=e[u],{left:P,width:_,top:H,height:I}=R.getBoundingClientRect();let D;a===g.Vertical?D=H+I/2:D=P+_/2;const C=Math.abs(i-D);C<r&&(r=C,t=R)}if(!t)return null;const{width:n,height:o,left:l,right:f,top:d,bottom:c}=t.getBoundingClientRect();let h;return a===g.Vertical?h=O(i,d,d+o/2,c):h=O(i,l,l+n/2,f),{element:t,placements:h}},re=(e,i,a)=>{let r=e.indexOf(i);const t=[];switch(a.key){case"ArrowLeft":case"ArrowUp":r--,r>=0&&t.push({element:e[r],placement:s.Before});break;case"ArrowRight":case"ArrowDown":r++,r<e.length&&t.push({element:e[r],placement:s.After});break;case"Home":e.forEach(n=>{t.push({element:n,placement:s.Before})});break;case"End":e.reverse().forEach(n=>{t.push({element:n,placement:s.After})});break}return t};function Q(){return T("div",{class:{"ui5-di-rect":this.placement===s.On,"ui5-di-needle":this.placement!==s.On}})}B("@ui5/webcomponents-theming","sap_horizon",async()=>x);B("@ui5/webcomponents","sap_horizon",async()=>j);const W=`:host{position:absolute;pointer-events:none;z-index:99}:host([orientation="Vertical"]) .ui5-di-needle{width:.125rem;height:100%;inset-block:0;background:var(--sapContent_DragAndDropActiveColor)}:host([orientation="Vertical"]){margin-left:-.0625rem}:host([orientation="Horizontal"]) .ui5-di-needle{height:.125rem;width:100%;inset-inline:0;background:var(--sapContent_DragAndDropActiveColor)}:host([orientation="Horizontal"]){margin-top:-.0625rem}:host([orientation="Horizontal"][placement="Before"][first]){margin-top:.3125rem}:host([orientation="Horizontal"][placement="After"][last]){margin-top:-.3125rem}:host([orientation="Vertical"]) .ui5-di-needle:before{left:-.1875rem;content:"";position:absolute;width:.25rem;height:.25rem;border-radius:.25rem;border:.125rem solid var(--sapContent_DragAndDropActiveColor);background-color:#fff;pointer-events:none}:host([orientation="Horizontal"]) .ui5-di-needle:before{top:-.1875rem;content:"";position:absolute;width:.25rem;height:.25rem;border-radius:.25rem;border:.125rem solid var(--sapContent_DragAndDropActiveColor);background-color:#fff;pointer-events:none}:host .ui5-di-rect{border:.125rem solid var(--sapContent_DragAndDropActiveColor);position:absolute;inset:0}:host .ui5-di-rect:before{content:" ";position:absolute;inset:0;background:var(--sapContent_DragAndDropActiveColor);opacity:.05}
`;var b=function(e,i,a,r){var t=arguments.length,n=t<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,a):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,i,a,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(n=(t<3?o(n):t>3?o(i,a,n):o(i,a))||n);return t>3&&n&&Object.defineProperty(i,a,n),n};let p=class extends M{get _positionProperty(){return this.orientation===g.Vertical?"left":"top"}constructor(){super(),this.targetReference=null,this.ownerReference=null,this.placement="Before",this.orientation="Vertical"}onAfterRendering(){if(!this.targetReference||!this.ownerReference){Object.assign(this.style,{display:"none"});return}const{left:i,width:a,right:r,top:t,bottom:n,height:o}=this.targetReference.getBoundingClientRect(),{top:l,height:f}=this.ownerReference.getBoundingClientRect(),d={display:"",[this._positionProperty]:"",width:"",height:""};let c=0,h=!1,u=!1;if(this.orientation===g.Vertical){switch(this.placement){case s.Before:c=i;break;case s.On:d.width=`${a}px`,c=i;break;case s.After:c=r;break}d.height=`${o}px`}if(this.orientation===g.Horizontal){switch(this.placement){case s.Before:c=t;break;case s.On:d.height=`${o}px`,c=t;break;case s.After:c=n;break}d.width=`${a}px`,c-=l,c<=0&&(u=!0),c>=f&&(h=!0)}d[this._positionProperty]=`${c}px`,this.toggleAttribute("first",u),this.toggleAttribute("last",h),Object.assign(this.style,d)}};b([v({type:Object})],p.prototype,"targetReference",void 0);b([v({type:Object})],p.prototype,"ownerReference",void 0);b([v()],p.prototype,"placement",void 0);b([v()],p.prototype,"orientation",void 0);p=b([z({tag:"ui5-drop-indicator",renderer:V,styles:W,template:Q})],p);p.define();const ie=p;export{ie as D,s as M,g as O,k as a,re as b,te as c,ne as f,ee as h};
