import{h as y,j as h,F as N,p as b,d as B,s as n,m as P,y as R,B as W,E}from"./jsx-runtime-xa789Fx-.js";import{d as D}from"./slot-_4yKMUwC.js";import{l as O}from"./event-strict-DgQLNDEV.js";import{f as _}from"./ResizeHandler-OXK24k1p.js";import{A as L}from"./AccessibilityTextsHelper-4hgGqLyb.js";import"./overflow-CeRlQUaF.js";import{i as j}from"./i18n-CjR4HGlq.js";import{d as I}from"./CustomElementsScope-CraI7z9b.js";import{be as z,bf as S}from"./i18n-defaults-Wx6G1HAa.js";import{a as A}from"./Button-BAohpRXl.js";import{d as M}from"./Popover-DrPdnlD_.js";import{i as V}from"./overflow-DxRDDOKn.js";import{d as x}from"./parameters-bundle.css-D0uTR4GL.js";var g;(function(i){i.Default="Default",i.NeverOverflow="NeverOverflow",i.AlwaysOverflow="AlwaysOverflow"})(g||(g={}));const m=g;function $(){return y(N,{children:[y("div",{class:{"ui5-tb-items":!0,"ui5-tb-items-full-width":this.hasFlexibleSpacers},role:this.accInfo.root.role,"aria-label":this.accInfo.root.accessibleName,children:[this.standardItems.map(i=>"styles"in i?h("div",{class:"ui5-tb-item",id:i._individualSlot,style:i.styles,children:h("slot",{name:i._individualSlot})}):h("div",{class:"ui5-tb-item",id:i._individualSlot,children:h("slot",{name:i._individualSlot})})),h(A,{"aria-hidden":this.hideOverflowButton,icon:V,design:"Transparent",onClick:this.toggleOverflow,class:{"ui5-tb-item":!0,"ui5-tb-overflow-btn":!0,"ui5-tb-overflow-btn-hidden":this.hideOverflowButton},tooltip:this.accInfo.overflowButton.tooltip,accessibleName:this.accInfo.overflowButton.accessibleName,accessibilityAttributes:this.accInfo.overflowButton.accessibilityAttributes})]}),h(M,{class:"ui5-overflow-popover",placement:"Bottom",horizontalAlign:"End",onClose:this.onOverflowPopoverClosed,onOpen:this.onOverflowPopoverOpened,accessibleName:this.accInfo.popover.accessibleName,hideArrow:!0,children:h("div",{class:{"ui5-overflow-list":!0},children:this.overflowItems.map(i=>i.isSeparator?h("div",{class:"ui5-tb-popover-item ui5-tb-separator ui5-tb-separator-in-overflow",id:i._individualSlot,children:h("slot",{name:i._individualSlot})}):h("div",{class:"ui5-tb-popover-item",id:i._individualSlot,children:h("slot",{name:i._individualSlot})}))})})]})}b("@ui5/webcomponents-theming","sap_horizon",async()=>B);b("@ui5/webcomponents","sap_horizon",async()=>x);const F=`:host(:not([hidden])){width:100%;height:var(--_ui5-v2-12-0-toolbar-height);display:flex;align-items:center;justify-content:flex-end;box-sizing:border-box;border-bottom:.0625rem solid var(--sapGroup_ContentBorderColor);padding:0 var(--_ui5-v2-12-0-toolbar-padding-left) 0 var(--_ui5-v2-12-0-toolbar-padding-right);background-color:var(--sapList_HeaderBackground)}:host([align-content="Start"]){justify-content:flex-start}.ui5-tb-items{width:100%;height:100%;display:inherit;align-items:inherit;justify-content:inherit}.ui5-tb-items-full-width{width:100%}.ui5-tb-item{flex-shrink:0}.ui5-tb-item{margin-inline-end:var(--_ui5-v2-12-0-toolbar-item-margin-right);margin-inline-start:var(--_ui5-v2-12-0-toolbar-item-margin-left)}.ui5-tb-overflow-btn,.ui5-tb-items:has(.ui5-tb-overflow-btn-hidden) .ui5-tb-item:nth-last-child(2){margin-inline-end:0;margin-inline-start:0}.ui5-tb-overflow-btn-hidden{visibility:hidden;position:absolute}:host([design="Transparent"]){background-color:transparent}
`;b("@ui5/webcomponents-theming","sap_horizon",async()=>B);b("@ui5/webcomponents","sap_horizon",async()=>x);const H=`.ui5-overflow-popover::part(content){padding:var(--_ui5-v2-12-0_toolbar_overflow_padding)}.ui5-overflow-list{display:flex;flex-direction:column;justify-content:center;align-items:center}.ui5-tb-popover-item{width:100%}::slotted([slot^="default"])::part(button){width:100%;display:block}.ui5-tb-popover-item:not(:last-child){margin-bottom:.25rem}.ui5-tb-separator-in-overflow{display:none;height:.0625rem;background:var(--sapToolbar_SeparatorColor);box-sizing:border-box}.ui5-tb-separator-in-overflow[visible]{display:block}
`;var c=function(i,e,t,o){var s=arguments.length,r=s<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,o);else for(var f=i.length-1;f>=0;f--)(l=i[f])&&(r=(s<3?l(r):s>3?l(e,t,r):l(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},v;function T(i,e){return Number(i.getPropertyValue(e).replace("rem",""))*parseInt(getComputedStyle(document.body).getPropertyValue("font-size"))}function C(i,e){return Number(i.getPropertyValue(e).replace("px",""))}let a=v=class extends W{static get styles(){return[F,H]}constructor(){super(),this.alignContent="End",this.reverseOverflow=!1,this.design="Solid",this.popoverOpen=!1,this.itemsToOverflow=[],this.itemsWidth=0,this.minContentWidth=0,this.ITEMS_WIDTH_MAP=new Map,this._onResize=this.onResize.bind(this),this._onCloseOverflow=this.closeOverflow.bind(this)}get overflowButtonSize(){var e;return((e=this.overflowButtonDOM)==null?void 0:e.getBoundingClientRect().width)||0}get padding(){const e=getComputedStyle(this.getDomRef());return T(e,I("--_ui5-toolbar-padding-left"))+T(e,I("--_ui5-toolbar-padding-right"))}get alwaysOverflowItems(){return this.items.filter(e=>e.overflowPriority===m.AlwaysOverflow)}get movableItems(){return this.items.filter(e=>e.overflowPriority!==m.AlwaysOverflow&&e.overflowPriority!==m.NeverOverflow)}get overflowItems(){const e=this.itemsToOverflow.filter(t=>!t.ignoreSpace);return this.reverseOverflow?e.reverse():e}get standardItems(){return this.items.filter(e=>this.itemsToOverflow.indexOf(e)===-1)}get hideOverflowButton(){return this.itemsToOverflow.filter(e=>!(e.ignoreSpace||e.isSeparator)).length===0}get interactiveItemsCount(){return this.items.filter(e=>e.isInteractive).length}get hasAriaSemantics(){return this.interactiveItemsCount>1}get accessibleRole(){return this.hasAriaSemantics?"toolbar":void 0}get ariaLabelText(){return this.hasAriaSemantics?L(this):void 0}get accInfo(){return{root:{role:this.accessibleRole,accessibleName:this.ariaLabelText},overflowButton:{accessibleName:v.i18nBundle.getText(S),tooltip:v.i18nBundle.getText(S),accessibilityAttributes:{expanded:this.popoverOpen,hasPopup:"menu"}},popover:{accessibleName:v.i18nBundle.getText(z)}}}get overflowButtonDOM(){return this.shadowRoot.querySelector(".ui5-tb-overflow-btn")}get hasFlexibleSpacers(){return this.items.some(e=>e.hasFlexibleWidth)}onEnterDOM(){_.register(this,this._onResize)}onExitDOM(){_.deregister(this,this._onResize)}onInvalidation(e){e.reason==="childchange"&&e.child===this.itemsToOverflow[0]&&this.onToolbarItemChange()}onBeforeRendering(){this.detachListeners(),this.attachListeners()}async onAfterRendering(){await E(),this.storeItemsWidth(),this.processOverflowLayout(),this.items.forEach(e=>{e.isOverflowed=this.overflowItems.map(t=>t).indexOf(e)!==-1})}isOverflowOpen(){return this.getOverflowPopover().open}openOverflow(){const e=this.getOverflowPopover();e.opener=this.overflowButtonDOM,e.open=!0,this.reverseOverflow=e.actualPlacement==="Top"}closeOverflow(){const e=this.getOverflowPopover();e.open=!1}toggleOverflow(){this.popoverOpen?this.closeOverflow():this.openOverflow()}getOverflowPopover(){return this.shadowRoot.querySelector(".ui5-overflow-popover")}processOverflowLayout(){if(this.offsetWidth===0)return;const e=this.offsetWidth-this.padding,t=this.itemsWidth;let o=t-e+this.overflowButtonSize;t<=e&&(o=0),!(this.width===e&&this.contentWidth===t)&&(this.distributeItems(o),this.width=e,this.contentWidth=t)}storeItemsWidth(){let e=0,t=0;if(this.items.forEach(o=>{const s=this.getItemWidth(o);e+=s,o.overflowPriority===m.NeverOverflow&&(t+=s),this.ITEMS_WIDTH_MAP.set(o._id,s)}),t!==this.minContentWidth){const o=this.offsetWidth-this.getDomRef().offsetWidth;this.fireDecoratorEvent("_min-content-width-change",{minWidth:t+o+this.overflowButtonSize})}this.itemsWidth=e,this.minContentWidth=t}distributeItems(e=0){const t=this.movableItems.reverse();let o=0,s=t[o];for(this.itemsToOverflow=[],this.distributeItemsThatAlwaysOverflow();e>0&&s;)this.itemsToOverflow.unshift(s),e-=this.getCachedItemWidth(s==null?void 0:s._id)||0,o++,s=t[o];if(o<t.length){let r=t[o];for(;o<=t.length-1&&r.isSeparator;)this.itemsToOverflow.unshift(r),o++,r=t[o]}this.setSeperatorsVisibilityInOverflow()}distributeItemsThatAlwaysOverflow(){this.alwaysOverflowItems.forEach(e=>{this.itemsToOverflow.push(e)})}setSeperatorsVisibilityInOverflow(){this.itemsToOverflow.forEach((e,t,o)=>{e.isSeparator&&(e.visible=this.shouldShowSeparatorInOverflow(t,o))})}shouldShowSeparatorInOverflow(e,t){let o=!1,s=!1;return t.forEach((r,l)=>{l<e&&!r.isSeparator&&(o=!0),l>e&&!r.isSeparator&&(s=!0)}),o&&s}onOverflowPopoverClosed(){this.popoverOpen=!1}onBeforeClose(e){e.preventDefault()}onOverflowPopoverOpened(){this.popoverOpen=!0}onResize(){this.itemsWidth&&(this.closeOverflow(),this.processOverflowLayout())}attachListeners(){this.addEventListener("ui5-close-overflow",this._onCloseOverflow)}detachListeners(){this.removeEventListener("ui5-close-overflow",this._onCloseOverflow)}onToolbarItemChange(){this.itemsToOverflow=[],this.contentWidth=0}getItemWidth(e){if(e.ignoreSpace||e.isSeparator)return 0;const t=e._id,o=this.shadowRoot.querySelector(`#${e.slot}`);let s=0;if(o&&o.offsetWidth){const r=getComputedStyle(o);s=o.offsetWidth+C(r,"margin-inline-end")+C(r,"margin-inline-start")}else s=this.getCachedItemWidth(t)||0;return Math.ceil(s)}getCachedItemWidth(e){return this.ITEMS_WIDTH_MAP.get(e)}};c([n()],a.prototype,"alignContent",void 0);c([n({type:Number})],a.prototype,"width",void 0);c([n({type:Number})],a.prototype,"contentWidth",void 0);c([n({type:Boolean})],a.prototype,"reverseOverflow",void 0);c([n()],a.prototype,"accessibleName",void 0);c([n()],a.prototype,"accessibleNameRef",void 0);c([n()],a.prototype,"design",void 0);c([n({type:Boolean})],a.prototype,"popoverOpen",void 0);c([D({default:!0,type:HTMLElement,invalidateOnChildChange:!0,individualSlots:!0})],a.prototype,"items",void 0);c([j("@ui5/webcomponents")],a,"i18nBundle",void 0);a=v=c([P({tag:"ui5-toolbar",languageAware:!0,renderer:R,template:$}),O("_min-content-width-change",{bubbles:!0})],a);a.define();const ne=a;var w=function(i,e,t,o){var s=arguments.length,r=s<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,o);else for(var f=i.length-1;f>=0;f--)(l=i[f])&&(r=(s<3?l(r):s>3?l(e,t,r):l(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let p=class extends W{constructor(){super(...arguments),this.overflowPriority="Default",this.preventOverflowClosing=!1,this.isOverflowed=!1}get ignoreSpace(){return!1}get hasFlexibleWidth(){return!1}get isInteractive(){return!0}get isSeparator(){return!1}get stableDomRef(){return this.getAttribute("stable-dom-ref")||`${this._id}-stable-dom-ref`}get classes(){return{root:{"ui5-tb-popover-item":this.isOverflowed,"ui5-tb-item":!0}}}};w([n()],p.prototype,"overflowPriority",void 0);w([n({type:Boolean})],p.prototype,"preventOverflowClosing",void 0);w([n({type:Boolean})],p.prototype,"isOverflowed",void 0);p=w([O("close-overflow",{bubbles:!0})],p);const q=p;function k(){return h(A,{class:this.classes.root,id:this.id,style:{width:this.width||"100%"},icon:this.icon,endIcon:this.endIcon,tooltip:this.tooltip,accessibleName:this.accessibleName,accessibleNameRef:this.accessibleNameRef,accessibilityAttributes:this.accessibilityAttributes,design:this.design,disabled:this.disabled,hidden:this.hidden,"data-ui5-external-action-item-id":this._id,"data-ui5-stable":this.stableDomRef,onClick:(...i)=>this.onClick(...i),children:this.text})}var u=function(i,e,t,o){var s=arguments.length,r=s<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,o);else for(var f=i.length-1;f>=0;f--)(l=i[f])&&(r=(s<3?l(r):s>3?l(e,t,r):l(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let d=class extends q{constructor(){super(...arguments),this.disabled=!1,this.design="Default",this.accessibilityAttributes={}}get styles(){return{width:this.width,display:this.hidden?"none":"inline-block"}}onClick(e){e.stopImmediatePropagation(),!!this.fireDecoratorEvent("click",{targetRef:e.target})&&!this.preventOverflowClosing&&this.fireDecoratorEvent("close-overflow")}get classes(){return{root:{...super.classes.root,"ui5-tb-button":!0}}}};u([n({type:Boolean})],d.prototype,"disabled",void 0);u([n()],d.prototype,"design",void 0);u([n()],d.prototype,"icon",void 0);u([n()],d.prototype,"endIcon",void 0);u([n()],d.prototype,"tooltip",void 0);u([n()],d.prototype,"accessibleName",void 0);u([n()],d.prototype,"accessibleNameRef",void 0);u([n({type:Object})],d.prototype,"accessibilityAttributes",void 0);u([n()],d.prototype,"text",void 0);u([n()],d.prototype,"width",void 0);d=u([P({tag:"ui5-toolbar-button",template:k,renderer:R}),O("click",{bubbles:!0,cancelable:!0})],d);d.define();const de=d;export{q as T,F as a,de as b,ne as c,m as d};
