import{t as l}from"./isElementHidden-B4HqmI2E.js";import{v as u,q as f}from"./jsx-runtime-CkEx_Gfk.js";const d=/^(?:a|area)$/i,c=/^(?:input|select|textarea|button)$/i,h=t=>{if(t.disabled)return!1;const e=t.getAttribute("tabindex");return e!=null?parseInt(e)>=0:c.test(t.nodeName)||d.test(t.nodeName)&&!!t.href},m=t=>t.hasAttribute("data-ui5-focus-trap"),p=t=>{const e=getComputedStyle(t);return t.scrollHeight>t.clientHeight&&["scroll","auto"].indexOf(e.overflowY)>=0||t.scrollWidth>t.clientWidth&&["scroll","auto"].indexOf(e.overflowX)>=0},C=async(t,e)=>!t||l(t)?null:a(t,!0),R=async(t,e)=>!t||l(t)?null:a(t,!1),b=t=>t.hasAttribute("data-ui5-focus-redirect")||!l(t),g=t=>{if(u(t)){const e=t.getAttribute("tabindex");if(e!==null&&parseInt(e)<0)return!0}return!1},a=async(t,e,w)=>{let n,i,o=-1;t.shadowRoot?n=e?t.shadowRoot.firstChild:t.shadowRoot.lastChild:t instanceof HTMLSlotElement&&t.assignedNodes()?(i=t.assignedNodes(),o=e?0:i.length-1,n=i[o]):n=e?t.firstElementChild:t.lastElementChild;let r;for(;n;){const s=n;if(!l(s)&&!g(s)){if(u(n)&&(await n._waitForDomRef(),n=n.getDomRef()),!n||l(n))return null;if(n.nodeType===1&&b(n)&&!m(n)){if(h(n)||(r=await a(n,e),!f()&&!r&&p(n)))return n&&typeof n.focus=="function"?n:null;if(r)return r&&typeof r.focus=="function"?r:null}}n=e?s.nextSibling:s.previousSibling,i&&!i[o].contains(n)&&(o=e?o+1:o-1,n=i[o])}return null};export{R as H,C as b,h as r};
