import{j as N}from"./jsx-runtime-D_zvdyIk.js";import{r as re}from"./index-U0ga5oGA.js";function oe(e){const n=[].forEach,d=[].some,c=typeof window<"u"&&document.body,s=" ";let a,g=!0,b=0;function h(t,r){const u=r.appendChild(i(t));if(t.children.length){const m=C(t.isCollapsed);t.children.forEach(T=>{h(T,m)}),u.appendChild(m)}}function l(t,r){const m=C(!1);if(r.forEach(T=>{h(T,m)}),a=t||a,a!==null)return a.firstChild&&a.removeChild(a.firstChild),r.length===0?a:a.appendChild(m)}function i(t){const r=document.createElement("li"),u=document.createElement("a");return e.listItemClass&&r.setAttribute("class",e.listItemClass),e.onClick&&(u.onclick=e.onClick),e.includeTitleTags&&u.setAttribute("title",t.textContent),e.includeHtml&&t.childNodes.length?n.call(t.childNodes,m=>{u.appendChild(m.cloneNode(!0))}):u.textContent=t.textContent,u.setAttribute("href",`${e.basePath}#${t.id}`),u.setAttribute("class",`${e.linkClass+s}node-name--${t.nodeName}${s}${e.extraLinkClasses}`),r.appendChild(u),r}function C(t){const r=e.orderedList?"ol":"ul",u=document.createElement(r);let m=e.listClass+s+e.extraListClasses;return t&&(m=m+s+e.collapsibleClass,m=m+s+e.isCollapsedClass),u.setAttribute("class",m),u}function f(){const t=v(),r=document.querySelector(e.positionFixedSelector);e.fixedSidebarOffset==="auto"&&(e.fixedSidebarOffset=a.offsetTop),t>e.fixedSidebarOffset?r.className.indexOf(e.positionFixedClass)===-1&&(r.className+=s+e.positionFixedClass):r.className=r.className.replace(s+e.positionFixedClass,"")}function S(t){let r=0;return t!==null&&(r=t.offsetTop,e.hasInnerContainers&&(r+=S(t.offsetParent))),r}function p(t,r){return t&&t.className!==r&&(t.className=r),t}function k(t,r){var D,R;e.positionFixedSelector&&f();const u=t,m=(D=r==null?void 0:r.target)!=null&&D.getAttribute?(R=r==null?void 0:r.target)==null?void 0:R.getAttribute("href"):null,T=m&&m.charAt(0)==="#"?U(m.replace("#","")):!1,I=g||T;if(r&&b<5&&b++,I&&a&&u.length>0){const X=q(u),Z=a.querySelector(`.${e.activeLinkClass}`),$=X.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/\\@])/g,"\\$1"),j=window.location.hash.replace("#","");let F=$;const ee=z();m&&T?F=m.replace("#",""):j&&j!==$&&ee&&(U($)||b<=2)&&(F=j);const H=a.querySelector(`.${e.linkClass}[href="${e.basePath}#${F}"]`);if(Z===H)return;const te=a.querySelectorAll(`.${e.linkClass}`);n.call(te,E=>{p(E,E.className.replace(s+e.activeLinkClass,""))});const le=a.querySelectorAll(`.${e.listItemClass}`);n.call(le,E=>{p(E,E.className.replace(s+e.activeListItemClass,""))}),H&&H.className.indexOf(e.activeLinkClass)===-1&&(H.className+=s+e.activeLinkClass);const M=H==null?void 0:H.parentNode;M&&M.className.indexOf(e.activeListItemClass)===-1&&(M.className+=s+e.activeListItemClass);const ne=a.querySelectorAll(`.${e.listClass}.${e.collapsibleClass}`);n.call(ne,E=>{E.className.indexOf(e.isCollapsedClass)===-1&&(E.className+=s+e.isCollapsedClass)}),H!=null&&H.nextSibling&&H.nextSibling.className.indexOf(e.isCollapsedClass)!==-1&&p(H.nextSibling,H.nextSibling.className.replace(s+e.isCollapsedClass,"")),w(H==null?void 0:H.parentNode.parentNode)}}function w(t){return t&&t.className.indexOf(e.collapsibleClass)!==-1&&t.className.indexOf(e.isCollapsedClass)!==-1?(p(t,t.className.replace(s+e.isCollapsedClass,"")),w(t.parentNode.parentNode)):t}function G(t){const r=t.target||t.srcElement;typeof r.className!="string"||r.className.indexOf(e.linkClass)===-1||(g=!1)}function J(){g=!0}function K(){return g}function U(t){const r=A();return(document==null?void 0:document.getElementById(t)).offsetTop>r.offsetHeight-r.clientHeight*1.4-e.bottomModeThreshold}function z(){const t=A(),r=t.scrollHeight>t.clientHeight,u=v()+t.clientHeight>t.offsetHeight-e.bottomModeThreshold;return r&&u}function A(){let t;return e.scrollContainer&&document.querySelector(e.scrollContainer)?t=document.querySelector(e.scrollContainer):t=document.documentElement||c,t}function v(){const t=A();return(t==null?void 0:t.scrollTop)||0}function q(t,r=v()){let u;return d.call(t,(m,T)=>{if(S(m)>r+e.headingsOffset+10){const I=T===0?T:T-1;return u=t[I],!0}if(T===t.length-1)return u=t[t.length-1],!0}),u}function V(t){const r=v(),u=q(t,r),m=z();if((!u||r<5)&&!m)window.location.hash==="#"||window.location.hash===""||window.history.pushState(null,null,"#");else if(u&&!m){const T=`#${u.id}`;window.location.hash!==T&&window.history.pushState(null,null,T)}}return{enableTocAnimation:J,disableTocAnimation:G,render:l,updateToc:k,getCurrentlyHighlighting:K,getTopHeader:q,getScrollTop:v,updateUrlHashForHeader:V}}const se={tocSelector:".js-toc",tocElement:null,contentSelector:".js-toc-content",contentElement:null,headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,enableUrlHashUpdateOnScroll:!1,scrollHandlerType:"auto",scrollHandlerTimeout:50,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1,tocScrollingWrapper:null,tocScrollOffset:30,bottomModeThreshold:30};function ce(e){const n=[].reduce;function d(l){return l[l.length-1]}function c(l){return+l.nodeName.toUpperCase().replace("H","")}function s(l){try{return l instanceof window.HTMLElement||l instanceof window.parent.HTMLElement}catch{return l instanceof window.HTMLElement}}function a(l){if(!s(l))return l;if(e.ignoreHiddenElements&&(!l.offsetHeight||!l.offsetParent))return null;const i=l.getAttribute("data-heading-label")||(e.headingLabelCallback?String(e.headingLabelCallback(l.innerText)):(l.innerText||l.textContent).trim()),C={id:l.id,children:[],nodeName:l.nodeName,headingLevel:c(l),textContent:i};return e.includeHtml&&(C.childNodes=l.childNodes),e.headingObjectCallback?e.headingObjectCallback(C,l):C}function g(l,i){const C=a(l),f=C.headingLevel;let S=i,p=d(S);const k=p?p.headingLevel:0;let w=f-k;for(;w>0&&(p=d(S),!(p&&f===p.headingLevel));)p&&p.children!==void 0&&(S=p.children),w--;return f>=e.collapseDepth&&(C.isCollapsed=!0),S.push(C),S}function b(l,i){let C=i;e.ignoreSelector&&(C=i.split(",").map(function(S){return`${S.trim()}:not(${e.ignoreSelector})`}));try{return l.querySelectorAll(C)}catch{return console.warn(`Headers not found with selector: ${C}`),null}}function h(l){return n.call(l,function(C,f){const S=a(f);return S&&g(S,C.nest),C},{nest:[]})}return{nestHeadingsArray:h,selectHeadings:b}}function ae(e){var n=e.duration,d=e.offset;if(typeof window>"u"||typeof location>"u")return;var c=location.hash?g(location.href):location.href;s();function s(){document.body.addEventListener("click",h,!1);function h(l){!a(l.target)||l.target.className.indexOf("no-smooth-scroll")>-1||l.target.href.charAt(l.target.href.length-2)==="#"&&l.target.href.charAt(l.target.href.length-1)==="!"||l.target.className.indexOf(e.linkClass)===-1||ie(l.target.hash,{duration:n,offset:d,callback:function(){b(l.target.hash)}})}}function a(h){return h.tagName.toLowerCase()==="a"&&(h.hash.length>0||h.href.charAt(h.href.length-1)==="#")&&(g(h.href)===c||g(h.href)+"#"===c)}function g(h){return h.slice(0,h.lastIndexOf("#"))}function b(h){var l=document.getElementById(h.substring(1));l&&(/^(?:a|select|input|button|textarea)$/i.test(l.tagName)||(l.tabIndex=-1),l.focus())}}function ie(e,n){var d=window.pageYOffset,c={duration:n.duration,offset:n.offset||0,callback:n.callback,easing:n.easing||C},s=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]')||document.querySelector('[id="'+e.split("#").join("")+'"]'),a=typeof e=="string"?c.offset+(e?s&&s.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,g=typeof c.duration=="function"?c.duration(a):c.duration,b,h;requestAnimationFrame(function(f){b=f,l(f)});function l(f){h=f-b,window.scrollTo(0,c.easing(h,d,a,g)),h<g?requestAnimationFrame(l):i()}function i(){window.scrollTo(0,d+a),typeof c.callback=="function"&&c.callback()}function C(f,S,p,k){return f/=k/2,f<1?p/2*f*f+S:(f--,-p/2*(f*(f-2)-1)+S)}}function de(e){const n=e.tocScrollingWrapper||e.tocElement||document.querySelector(e.tocSelector);if(n&&n.scrollHeight>n.clientHeight){const d=n.querySelector(`.${e.activeListItemClass}`);if(d){const s=d.offsetTop-e.tocScrollOffset;n.scrollTop=s>0?s:0}}}let o={},x,P,L,y,O;function ue(e){let n=!1;o=me(se,e||{}),o.scrollSmooth&&(o.duration=o.scrollSmoothDuration,o.offset=o.scrollSmoothOffset,ae(o)),x=oe(o),P=ce(o),Q();const d=Ce(o);if(d===null)return;const c=Y(o);if(c===null||(L=P.selectHeadings(d,o.headingSelector),L===null))return;const a=P.nestHeadingsArray(L).nest;if(!o.skipRendering)x.render(c,a);else return this;let g=!1;const b=o.scrollHandlerTimeout||o.throttleTimeout;y=((i,C)=>he(i,C,o.scrollHandlerType))(i=>{var f,S,p;x.updateToc(L,i),!o.disableTocScrollSync&&!g&&de(o),o.enableUrlHashUpdateOnScroll&&n&&x.getCurrentlyHighlighting()&&x.updateUrlHashForHeader(L);const C=((S=(f=i==null?void 0:i.target)==null?void 0:f.scrollingElement)==null?void 0:S.scrollTop)===0;(i&&(i.eventPhase===0||i.currentTarget===null)||C)&&(x.updateToc(L),(p=o.scrollEndCallback)==null||p.call(o,i))},b),n||(y(),n=!0),window.onhashchange=window.onscrollend=i=>{y(i)},o.scrollContainer&&document.querySelector(o.scrollContainer)?(document.querySelector(o.scrollContainer).addEventListener("scroll",y,!1),document.querySelector(o.scrollContainer).addEventListener("resize",y,!1)):(document.addEventListener("scroll",y,!1),document.addEventListener("resize",y,!1));let l=null;O=B(i=>{g=!0,o.scrollSmooth&&x.disableTocAnimation(i),x.updateToc(L,i),l&&clearTimeout(l),l=setTimeout(()=>{x.enableTocAnimation()},o.scrollSmoothDuration),setTimeout(()=>{g=!1},o.scrollSmoothDuration+100)},o.throttleTimeout),o.scrollContainer&&document.querySelector(o.scrollContainer)?document.querySelector(o.scrollContainer).addEventListener("click",O,!1):document.addEventListener("click",O,!1)}function Q(){const e=Y(o);e!==null&&(o.skipRendering||e&&(e.innerHTML=""),o.scrollContainer&&document.querySelector(o.scrollContainer)?(document.querySelector(o.scrollContainer).removeEventListener("scroll",y,!1),document.querySelector(o.scrollContainer).removeEventListener("resize",y,!1),x&&document.querySelector(o.scrollContainer).removeEventListener("click",O,!1)):(document.removeEventListener("scroll",y,!1),document.removeEventListener("resize",y,!1),x&&document.removeEventListener("click",O,!1)))}const fe=Object.prototype.hasOwnProperty;function me(...e){const n={};for(let d=0;d<e.length;d++){const c=e[d];for(const s in c)fe.call(c,s)&&(n[s]=c[s])}return n}function B(e,n,d){n||(n=250);let c,s;return function(...a){const g=this,b=+new Date;c&&b<c+n?(clearTimeout(s),s=setTimeout(()=>{c=b,e.apply(g,a)},n)):(c=b,e.apply(g,a))}}function W(e,n){let d;return(...c)=>{clearTimeout(d),d=setTimeout(()=>e.apply(this,c),n)}}function he(e,n,d="auto"){switch(d){case"debounce":return W(e,n);case"throttle":return B(e,n);default:return n<334?W(e,n):B(e,n)}}function Ce(e){try{return e.contentElement||document.querySelector(e.contentSelector)}catch{return console.warn(`Contents element not found: ${e.contentSelector}`),null}}function Y(e){try{return e.tocElement||document.querySelector(e.tocSelector)}catch{return console.warn(`TOC element not found: ${e.tocSelector}`),null}}const ge="_header_3q1lz_1",Se="_fixedContainer_3q1lz_7",pe="_toc_3q1lz_10",_={header:ge,fixedContainer:Se,toc:pe};function Te({headingSelector:e="h2:not(.noAnchor), h3:not(.noAnchor), h4:not(.noAnchor)",onlyDisplaySideNav:n=!1}){return re.useEffect(()=>(ue({tocSelector:".js-toc",contentSelector:".sbdocs-wrapper",headingSelector:e,orderedList:!1,collapseDepth:6,hasInnerContainers:!0}),document.querySelectorAll(".toc-link").forEach(d=>d.setAttribute("target","_self")),()=>{Q()}),[e]),N.jsxs(N.Fragment,{children:[N.jsx("h3",{className:`${_.header} noAnchor`,"data-show-small":!n,children:"Contents"}),N.jsx("div",{className:_.fixedContainer,"data-show-small":!n,children:N.jsx("div",{className:`js-toc ${_.toc}`,id:"toc-container"})})]})}export{Te as T};
