import{j as L}from"./jsx-runtime-D_zvdyIk.js";import{p as k,u as T}from"./CustomElementsScope-DUj-UV8m.js";import{r as i}from"./index-C--kS4iy.js";function G(e){const o=i.useRef(null);return[i.useCallback(a=>{e&&(typeof e=="function"&&e(a),{}.hasOwnProperty.call(e,"current")&&(e.current=a)),o.current=a},[e]),o]}const N=(e,o)=>{if(!e)return e;const u=e.detail===null||e.detail===void 0||typeof e.detail!="object",a=typeof e.detail=="number"?e.detail:null;return Object.defineProperty(e,"detail",{value:u?{}:e.detail,writable:!0,configurable:!0}),a&&Object.assign(e.detail,{nativeDetail:a}),Object.assign(e.detail,o),e};function ee(e){const o=k(e);return o?`${e}-${o}`:e}const K=e=>e.charAt(0).toUpperCase()+e.slice(1),g=e=>e.replace(/([A-Z])/g,(o,u)=>`-${u.toLowerCase()}`),X=e=>e.replace(/([-_]\w)/g,o=>o[1].toUpperCase()),q=/^(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<buildmetadata>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function B(e){const o=q.exec(e).groups;return{version:e,major:parseInt(o.major),minor:parseInt(o.minor),patch:parseInt(o.patch),prerelease:o.prerelease,buildMetadata:o.buildmetadata}}const w=e=>`on${K(X(e))}`,F=e=>typeof e=="string"||typeof e=="number"||typeof e=="boolean",V=new Set([]),te=(e,o,u,a,m)=>{const y=B(i.version).major>=19;return i.forwardRef(($,M)=>{const{className:S,children:R,waitForDefine:p,...s}=$,[W,A]=G(M),v=k(e),c=v?`${e}-${v}`:e,[d,U]=i.useState(V.has(c)),O=o.reduce((t,r)=>Object.prototype.hasOwnProperty.call(s,r)&&F(s[r])?{...t,[g(r)]:s[r]}:t,{}),D=u.reduce((t,r)=>y?{...t,[g(r)]:s[r]}:s[r]===!0||s[r]==="true"?{...t,[g(r)]:!0}:t,{}),I=a.reduce((t,r)=>{var Z;const n=s[r];if(!n)return t;if(((Z=s[r])==null?void 0:Z.$$typeof)===Symbol.for("react.portal"))return console.warn("ReactPortal is not supported for slot props."),t;const l=[];let E=0;const h=f=>{var H;if(i.isValidElement(f))if(f.type===i.Fragment){const x=(H=f.props)==null?void 0:H.children;Array.isArray(x)?x.forEach(C=>{Array.isArray(C)?C.forEach(h):h(C)}):h(x)}else l.push(i.cloneElement(f,{key:f.key??`${r}-${E}`,slot:r})),E++};return Array.isArray(n)?n.forEach(f=>{h(f)}):h(n),[...t,...l]},[]);T(()=>{if(y)return()=>{};const t=A.current,r={};if(!p||d)return m.forEach(n=>{const l=s[w(n)];typeof l=="function"&&(r[n]=l,t==null||t.addEventListener(n,r[n]))}),()=>{for(const n in r)t==null||t.removeEventListener(n,r[n])}},[...m.map(t=>s[w(t)]),d,p]);const j=m.reduce((t,r)=>{const n=s[w(r)];return y&&n&&(t[`on${r}`]=n),t},{}),[P,_]=i.useState(!y||!Object.keys(j).length),b=Object.entries(s).filter(([t])=>!o.includes(t)).filter(([t])=>!a.includes(t)).filter(([t])=>!u.includes(t)).filter(([t])=>!m.map(r=>w(r)).includes(t)).reduce((t,[r,n])=>(!r.startsWith("aria-")&&!r.startsWith("data-")&&n===!1||(t[r]=n),t),{});i.useEffect(()=>{p&&!d&&customElements.whenDefined(c).then(()=>{U(!0),V.add(c)})},[c,p,d]);const z=o.map(t=>({name:t,value:$[t]}));if(i.useEffect(()=>{customElements.whenDefined(c).then(()=>{for(const t of z)t.value!=null&&!F(t.value)&&A.current&&(A.current[t.name]=t.value)})},[c,...z]),i.useEffect(()=>{_(!0)},[]),p&&!d)return null;if(e==="ui5-expandable-text"){const t=b.renderWhitespace?!0:void 0,{["overflow-mode"]:r,text:n,...l}=O,E=b.showOverflowInPopover;return L.jsx(c,{ref:W,...D,...l,...P?j:{},...b,"overflow-mode":r??(E?"Popover":"InPlace"),text:n??R,class:S,suppressHydrationWarning:!0,"data-_render-whitespace":t,children:I})}return L.jsxs(c,{ref:W,...D,...O,...P?j:{},...b,class:S,suppressHydrationWarning:!0,children:[I,R]})})};export{N as e,ee as g,G as u,te as w};
