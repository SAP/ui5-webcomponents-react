import{c as k,j as u,F as _,p as v,d as g,s as p,m as b,e as w,w as z}from"./withWebComponent-DfVDXLfc.js";import{d as T}from"./slot-_4yKMUwC.js";import{l as d}from"./event-strict-DgQLNDEV.js";import{F as I,K as x,x as y,a as D,_ as q,c as H,P as S,W as M}from"./Keys-Df3IBHp2.js";import"./utils-C9_9ShpY.js";import{aO as P,aP as R}from"./i18n-defaults-Cyg2J0QB.js";import{b as V,a as f}from"./Input-CdGIkdwS.js";import{f as m,I as C}from"./Icon-DVzRT9Bg.js";import{T as O,g as E}from"./Token-BHYc_Vy-.js";import{d as B}from"./parameters-bundle.css-BzaqQttB.js";import{d as A}from"./useIsomorphicLayoutEffect-Clyi7m9u.js";const F="value-help",L="M470 41q10 9 10 23v192q0 12-10 22t-22 10H256q-14 0-23-10-9-9-9-22V64q0-14 9-23t23-9h192q13 0 22 9zm-22 23H256v192h192V64zm-96 256h32v128q0 14-9 23t-23 9H64q-12 0-23-9-9-9-9-23V160q0-14 9-23t23-9h128v32H64v288h288V320z",N=!1,$="SAP-icons-v4",U="@ui5/webcomponents-icons";m(F,{pathData:L,ltr:N,collection:$,packageName:U});const j="value-help",K="M294 160q24 0 41 17t17 41v204q0 24-17 41t-41 17H90q-24 0-41-17t-17-41V218q0-24 17-41t41-17h204zm7 58q0-7-7-7H90q-7 0-7 7v204q0 7 7 7h204q7 0 7-7V218zM422 32q24 0 41 17t17 41v204q0 24-17 41t-41 17h-12q-11 0-18.5-7.5T384 326t7.5-18 18.5-7h12q7 0 7-7V90q0-7-7-7H218q-7 0-7 7v12q0 11-7 18.5t-18 7.5-18.5-7.5T160 102V90q0-24 17-41t41-17h204z",W=!1,X="SAP-icons-v5",G="@ui5/webcomponents-icons";m(j,{pathData:K,ltr:W,collection:X,packageName:G});const J="value-help";function Q(){return[V.call(this,{preContent:Y,postContent:Z})]}function Y(){return k(_,{children:[u("span",{id:"hiddenText-nMore",class:"ui5-hidden-text",children:this._tokensCountText}),u(O,{class:"ui5-multi-input-tokenizer",opener:this.morePopoverOpener,popoverMinWidth:this._inputWidth,hidePopoverArrow:!0,expanded:this.tokenizerExpanded,onKeyDown:this._onTokenizerKeydown,onTokenDelete:this.tokenDelete,onFocusOut:this._tokenizerFocusOut,children:this.tokens.map(a=>u("slot",{name:a._individualSlot}))})]})}function Z(){return u(_,{children:this.showValueHelpIcon&&u(C,{class:"inputIcon",name:J,accessibleName:this.valueHelpLabel,onMouseUp:this.valueHelpMouseUp,onMouseDown:this.valueHelpMouseDown,onClick:this.valueHelpPress})})}v("@ui5/webcomponents-theming","sap_horizon",async()=>g);v("@ui5/webcomponents","sap_horizon",async()=>B);const ee=`.inputIcon{color:var(--_ui5-v2-6-2_input_icon_color);cursor:pointer;outline:none;padding:var(--_ui5-v2-6-2_input_icon_padding);border-inline-start:var(--_ui5-v2-6-2_input_icon_border);min-width:1rem;min-height:1rem;border-radius:var(--_ui5-v2-6-2_input_icon_border_radius)}.inputIcon.inputIcon--pressed{background:var(--_ui5-v2-6-2_input_icon_pressed_bg);box-shadow:var(--_ui5-v2-6-2_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-6-2_select_hover_icon_left_border);color:var(--_ui5-v2-6-2_input_icon_pressed_color)}.inputIcon:active{background-color:var(--sapButton_Active_Background);box-shadow:var(--_ui5-v2-6-2_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-6-2_select_hover_icon_left_border);color:var(--_ui5-v2-6-2_input_icon_pressed_color)}.inputIcon:not(.inputIcon--pressed):not(:active):hover{background:var(--_ui5-v2-6-2_input_icon_hover_bg);box-shadow:var(--_ui5-v2-6-2_input_icon_box_shadow)}.inputIcon:hover{border-inline-start:var(--_ui5-v2-6-2_select_hover_icon_left_border);box-shadow:var(--_ui5-v2-6-2_input_icon_box_shadow)}:host{min-width:calc(var(--_ui5-v2-6-2_input_min_width) + (var(--_ui5-v2-6-2-input-icons-count)*var(--_ui5-v2-6-2_input_icon_width)))}:host([tokenizer-available]){min-width:calc(var(--_ui5-v2-6-2_input_min_width) + (var(--_ui5-v2-6-2-input-icons-count)*var(--_ui5-v2-6-2_input_icon_width)) + var(--_ui5-v2-6-2_input_tokenizer_min_width))}.ui5-multi-input-tokenizer{min-width:var(--_ui5-v2-6-2_input_tokenizer_min_width);max-width:calc(100% - 3rem - var(--_ui5-v2-6-2-input-icons-count) * var(--_ui5-v2-6-2_input_icon_min_width));border:none;width:auto;height:100%}:host([readonly]) .ui5-multi-input-tokenizer::part(n-more-text){color:var(--sapLinkColor)}.ui5-multi-input-tokenizer::part(n-more-text){padding-inline-end:var(--_ui5-v2-6-2_input_inner_space_to_n_more_text)}[inner-input][inner-input-with-icon]{padding:var(--_ui5-v2-6-2_input_inner_padding_with_icon)}:host([tokenizer-available]) [inner-input]{padding-inline-start:var(--_ui5-v2-6-2_input_inner_space_to_tokenizer)}:host(:not([tokenizer-available])) .ui5-multi-input-tokenizer{--_ui5-v2-6-2_input_tokenizer_min_width: 0px;width:var(--_ui5-v2-6-2_input_tokenizer_min_width)}
`;var l=function(a,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,e,t,n);else for(var h=a.length-1;h>=0;h--)(s=a[h])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},c;let r=c=class extends f{get formValidity(){const e=this.tokens||[];return{valueMissing:this.required&&!this.value&&!e.length}}get formFormattedValue(){const e=this.tokens||[];if(e.length&&this.name){const t=new FormData;t.append(this.name,this.value);for(let n=0;n<e.length;n++)t.append(this.name,e[n].text||"");return t}return this.value}constructor(){super(),this.showValueHelpIcon=!1,this.tokenizerAvailable=!1,this._skipOpenSuggestions=!1,this._valueHelpIconPressed=!1}valueHelpPress(){this.closeValueStatePopover(),this.fireDecoratorEvent("value-help-trigger")}tokenDelete(e){const t=e.detail.tokens,n=this.tokens.filter(o=>o.selected),i=this.tokens.length-1===0||this.tokens.length===n.length;this._readonly||t&&(this.fireDecoratorEvent("token-delete",{tokens:t}),i&&this.focus())}valueHelpMouseDown(e){const t=e.target;this.closeValueStatePopover(),this.tokenizer.open=!1,this._valueHelpIconPressed=!0,t.focus()}_tokenizerFocusOut(e){!this.contains(e.relatedTarget)&&!this.shadowRoot.contains(e.relatedTarget)&&(this.tokenizer._tokens.forEach(t=>{t.selected=!1}),this.tokenizer.scrollToStart())}valueHelpMouseUp(){setTimeout(()=>{this._valueHelpIconPressed=!1},0)}innerFocusIn(){this.tokenizer.expanded=!0,this.focused=!0,this.tokenizer.scrollToEnd(),this.tokens.forEach(e=>{e.selected=!1})}_onkeydown(e){super._onkeydown(e);const t=e.target;if(I(e)&&t.selectionStart===0)return this._skipOpenSuggestions=!0,this._focusFirstToken(e);if(x(e))return this._skipOpenSuggestions=!0,this._handleLeft(e);if(y(e))return this._skipOpenSuggestions=!0,this._handleBackspace(e);this._skipOpenSuggestions=!1,D(e)&&this.valueHelpPress()}_onTokenizerKeydown(e){const t=q(e);if(H(e)||S(e)||M(e)||t){e.preventDefault();const n=this.tokens.length-1;e.target===this.tokens[n]&&this.tokens[n]===document.activeElement&&setTimeout(()=>{this.focus()},0)}}_handleLeft(e){const t=this.getDomRef().querySelector("input").selectionStart,n=this.tokens,i=n.length&&n[n.length-1];(t===null&&!this.value||t===0)&&i&&(e.preventDefault(),i.focus(),this.tokenizer._itemNav.setCurrentItem(i))}_handleBackspace(e){const t=this.getDomRef().querySelector("input").selectionStart,n=this.getDomRef().querySelector("input").selectionEnd,i=t===0&&n===this.value.length,o=this.tokens,s=o.length&&o[o.length-1];(!this.value||this.value&&t===0&&!i)&&s&&(e.preventDefault(),s.focus(),this.tokenizer._itemNav.setCurrentItem(s))}_focusFirstToken(e){const t=this.tokens,n=t.length&&t[0];n&&(e.preventDefault(),n.focus(),this.tokenizer._itemNav.setCurrentItem(n))}_onfocusout(e){super._onfocusout(e);const t=e.relatedTarget,n=this.contains(t),i=this.shadowRoot.contains(t);!n&&!i&&(this.tokenizer.expanded=!1),this.contains(t)&&t.hasAttribute("ui5-token")&&(this.focused=!1)}_onfocusin(e){const t=this.getInputDOMRef();e.target===t&&super._onfocusin(e)}onBeforeRendering(){super.onBeforeRendering(),this.style.setProperty(A("--_ui5-input-icons-count"),`${this.iconsCount}`),this.tokenizerAvailable=this.tokens&&this.tokens.length>0,this.tokenizer&&(this.tokenizer.readonly=this.readonly)}onAfterRendering(){super.onAfterRendering(),this.tokenizer.preventInitialFocus=!0,this.tokenizer.expanded?this.tokenizer.scrollToEnd():this.tokenizer.scrollToStart()}get iconsCount(){return super.iconsCount+(this.showValueHelpIcon?1:0)}get tokenizer(){return this.shadowRoot.querySelector("[ui5-tokenizer]")}get tokenizerExpanded(){return this.tokenizer&&this.tokenizer.expanded}get _tokensCountText(){return E(this.tokens.length)}get _tokensCountTextId(){return"hiddenText-nMore"}get _placeholder(){return this.tokens.length?"":this.placeholder}get accInfo(){const e=`${this._tokensCountTextId} ${this.suggestionsTextId} ${this.valueStateTextId}`.trim();return{...super.accInfo,ariaRoledescription:this.ariaRoleDescription,ariaDescribedBy:e}}get valueHelpLabel(){return c.i18nBundle.getText(P)}get ariaRoleDescription(){return c.i18nBundle.getText(R)}get morePopoverOpener(){return this.tokens.length===1&&this.tokens[0].isTruncatable?this.tokens[0]:this}get shouldDisplayOnlyValueStateMessage(){return this.hasValueStateMessage&&!this.readonly&&!this.open&&this.focused&&!this.tokenizer.open}};l([p({type:Boolean})],r.prototype,"showValueHelpIcon",void 0);l([p({type:Boolean})],r.prototype,"tokenizerAvailable",void 0);l([p()],r.prototype,"name",void 0);l([T({type:HTMLElement,individualSlots:!0})],r.prototype,"tokens",void 0);r=c=l([b({tag:"ui5-multi-input",renderer:w,formAssociated:!0,template:Q,styles:[f.styles,ee]}),d("value-help-trigger",{bubbles:!0}),d("token-delete",{bubbles:!0})],r);r.define();const te=z("ui5-multi-input",["accessibleName","accessibleNameRef","maxlength","name","placeholder","type","value","valueState"],["disabled","noTypeahead","open","readonly","required","showClearIcon","showSuggestions","showValueHelpIcon"],["icon","tokens","valueStateMessage"],["change","close","input","open","select","selection-change","token-delete","value-help-trigger"]);te.displayName="MultiInput";export{te as M};
