import{s as p,m as k,I as A,c as b,j as l,F as W,p as _,d as C,e as B,q as N,R as O,w as x}from"./withWebComponent-DfVDXLfc.js";import{d as P}from"./slot-_4yKMUwC.js";import{l as E}from"./event-strict-DgQLNDEV.js";import{i as D}from"./i18n-DEVDpFvK.js";import{f as w,r as v}from"./ItemNavigation-nUPkWObb.js";import{a as $,i as f,b as z}from"./Keys-Df3IBHp2.js";import{f as I}from"./ResizeHandler-DlOwLzX7.js";import{br as F,bs as M,bt as j,bu as q,bv as K}from"./i18n-defaults-Cyg2J0QB.js";import{a as V}from"./Button-Bn6Q5CAy.js";import{c as H}from"./List-DgtIRlaK.js";import{L as U}from"./ListItemStandard-C37PlgD0.js";import{R as G}from"./ResponsivePopover-DocID5NA.js";import{i as J}from"./slim-arrow-down-BSVaGdsd.js";import{I as Q}from"./Icon-DVzRT9Bg.js";import{L as y,a as L}from"./Link-C6yBf8L4.js";import{L as X}from"./Label-C5k308Ss.js";import{d as R}from"./parameters-bundle.css-BzaqQttB.js";var g;(function(o){o.Standard="Standard",o.NoCurrentPage="NoCurrentPage"})(g||(g={}));const Y=g;var m=function(o,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(n=o[a])&&(s=(r<3?n(s):r>3?n(e,t,s):n(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s};let u=class extends A{get stableDomRef(){return this.getAttribute("stable-dom-ref")||`${this._id}-stable-dom-ref`}get _linkDesign(){return this._isCurrentPageItem?y.Emphasized:y.Default}get accessibilityAttributes(){return{current:this._isCurrentPageItem?"page":!1}}};m([p()],u.prototype,"href",void 0);m([p()],u.prototype,"target",void 0);m([p()],u.prototype,"accessibleName",void 0);m([P({type:Node,default:!0})],u.prototype,"text",void 0);u=m([k("ui5-breadcrumbs-item")],u);u.define();function Z(){return b(G,{class:"ui5-breadcrumbs-popover",hideArrow:!0,_hideHeader:!0,contentOnlyOnDesktop:!0,placement:"Bottom",horizontalAlign:"Start",accessibleName:this._accessibleNamePopover,onKeyDown:this._onkeydown,children:[l(H,{selectionMode:"Single",separators:"None",onSelectionChange:this._onOverflowListItemSelect,children:this._overflowItemsData.map(o=>l(U,{id:`${o._id}-li`,accessibleName:o.accessibleName,"data-ui5-stable":o.stableDomRef,children:o.textContent}))}),l("div",{slot:"footer",class:"ui5-breadcrumbs-popover-footer",children:l(V,{design:"Transparent",onClick:this._closeRespPopover,children:this._cancelButtonText})})]})}function ee(){return b(W,{children:[l("nav",{class:"ui5-breadcrumbs-root","aria-label":this._accessibleNameText,children:b("ol",{onFocusIn:this._onfocusin,onKeyDown:this._onkeydown,onKeyUp:this._onkeyup,children:[l("li",{class:"ui5-breadcrumbs-dropdown-arrow-link-wrapper",hidden:this._isOverflowEmpty,children:l(L,{wrappingType:"None",accessibleRole:"Button",accessibleName:this._dropdownArrowAccessibleNameText,accessibilityAttributes:this.linkAccessibilityAttributes,onClick:this._openRespPopover,children:l(Q,{name:J,title:this._dropdownArrowAccessibleNameText})})}),this._linksData.map(o=>b("li",{id:`${o._id}-link-wrapper`,class:"ui5-breadcrumbs-link-wrapper",children:[l(L,{id:`${o._id}-link`,href:o.href,target:o.target,design:o._linkDesign,accessibleName:o._accessibleNameText,accessibilityAttributes:o.accessibilityAttributes,"data-ui5-stable":o.stableDomRef,wrappingType:"None",onClick:this._onLinkPress,children:o.innerText}),o._needsSeparator&&l("span",{class:"ui5-breadcrumbs-separator","aria-hidden":"true"})]})),!this._endsWithCurrentLinkItem&&this._endsWithCurrentLocation&&l("li",{class:"ui5-breadcrumbs-current-location",onClick:this._onLabelPress,children:l("span",{id:`${this._id}-labelWrapper`,role:"link","aria-current":"page","aria-label":this._currentLocationAccName,children:l(X,{children:this._currentLocationText})})})]})}),Z.call(this)]})}_("@ui5/webcomponents-theming","sap_horizon",async()=>C);_("@ui5/webcomponents","sap_horizon",async()=>R);const te=`:host(:not([hidden])){display:block;width:100%}.ui5-breadcrumbs-root{white-space:nowrap;outline:none;margin:var(--_ui5-v2-6-2_breadcrumbs_margin)}.ui5-breadcrumbs-root>ol{margin:0;padding:0;list-style-type:none;display:-webkit-box;display:-webkit-flex;display:flex}.ui5-breadcrumbs-root>ol>li{display:inline}.ui5-breadcrumbs-current-location{min-width:1%;flex:1 1 auto;font-size:0;align-self:center}.ui5-breadcrumbs-current-location>span:focus{outline:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);border-radius:var(--_ui5-v2-6-2_breadcrumbs_current_location_focus_border_radius)}.ui5-breadcrumbs-dropdown-arrow-link-wrapper[hidden]{display:none}.ui5-breadcrumbs-dropdown-arrow-link-wrapper [ui5-icon]{width:var(--sapFontSize);height:var(--sapFontSize);padding-left:.675rem;vertical-align:text-top;color:var(--sapLinkColor)}.ui5-breadcrumbs-dropdown-arrow-link-wrapper [ui5-link][focused] [ui5-icon]{color:var(--_ui5-v2-6-2_link_focus_color)}.ui5-breadcrumbs-dropdown-arrow-link-wrapper [ui5-icon]:before{content:"...";vertical-align:middle;position:absolute;left:0;bottom:0}.ui5-breadcrumbs-dropdown-arrow-link-wrapper [ui5-link]::part(root),.ui5-breadcrumbs-link-wrapper [ui5-link]::part(root){padding-top:.25rem;padding-bottom:.25rem}.ui5-breadcrumbs-dropdown-arrow-link-wrapper [ui5-link][focused] [ui5-icon]:after,.ui5-breadcrumbs-dropdown-arrow-link-wrapper:hover [ui5-icon]:after{content:"";position:absolute;border-bottom:.0625rem solid;inset:0 0 1px}.ui5-breadcrumbs-popover{margin-top:.25rem}.ui5-breadcrumbs-popover-footer{display:flex;justify-content:flex-end;width:100%}.ui5-breadcrumbs-separator:after{content:"/";padding:0 .25rem;cursor:auto;color:var(--sapContent_LabelColor);display:inline-block;font-family:"72override",var(--sapFontFamily);font-size:var(--sapFontSize)}:host([separators="DoubleSlash"]) .ui5-breadcrumbs-separator:after{content:"//"}:host([separators="BackSlash"]) .ui5-breadcrumbs-separator:after{content:"\\\\"}:host([separators="DoubleBackSlash"]) .ui5-breadcrumbs-separator:after{content:"\\\\\\\\"}:host([separators="GreaterThan"]) .ui5-breadcrumbs-separator:after{content:">"}:host([separators="DoubleGreaterThan"]) .ui5-breadcrumbs-separator:after{content:">>"}
`;_("@ui5/webcomponents-theming","sap_horizon",async()=>C);_("@ui5/webcomponents","sap_horizon",async()=>R);const re=`.ui5-breadcrumbs-popover::part(content){padding:0}.ui5-breadcrumbs-popover-footer{display:flex;justify-content:flex-end;width:100%;padding-right:.5rem;align-items:center}
`;var h=function(o,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(o,e,t,i);else for(var a=o.length-1;a>=0;a--)(n=o[a])&&(s=(r<3?n(s):r>3?n(e,t,s):n(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s},d;let c=d=class extends A{constructor(){super(),this.design="Standard",this.separators="Slash",this._overflowSize=0,this._breadcrumbItemWidths=new WeakMap,this._dropdownArrowLinkWidth=0,this._itemNavigation=new w(this,{navigationMode:v.Horizontal,getItemsCallback:()=>this._getFocusableItems()}),this._onResizeHandler=this._updateOverflow.bind(this),this._labelFocusAdaptor={id:`${this._id}-labelWrapper`,getlabelWrapper:this.getCurrentLocationLabelWrapper.bind(this),set forcedTabIndex(e){const t=this.getlabelWrapper();t&&t.setAttribute("tabindex",e)},get forcedTabIndex(){const e=this.getlabelWrapper();return(e==null?void 0:e.getAttribute("tabindex"))||""}}}onInvalidation(e){if(e.reason==="childchange"){const t=this._getItems().indexOf(e.child);t<this._overflowSize&&(this._overflowSize=t)}}_getItems(){return this.getSlottedNodes("items")}onBeforeRendering(){this._preprocessItems()}async onAfterRendering(){await N(),this._cacheWidths(),this._updateOverflow()}onEnterDOM(){I.register(this,this._onResizeHandler)}onExitDOM(){I.deregister(this,this._onResizeHandler)}_initItemNavigation(){this._itemNavigation||(this._itemNavigation=new w(this,{navigationMode:v.Horizontal,getItemsCallback:()=>this._getFocusableItems()}))}_getFocusableItems(){const e=this._links;return this._isOverflowEmpty||e.unshift(this._dropdownArrowLink),this._endsWithCurrentLocation&&!this._endsWithCurrentLinkItem&&e.push(this._labelFocusAdaptor),e}get _accessibleNamePopover(){return d.i18nBundle.getText(F)}_onfocusin(e){const t=e.target,i=this.getCurrentLocationLabelWrapper(),r=t===i?this._labelFocusAdaptor:t;this._itemNavigation.setCurrentItem(r)}_onkeydown(e){const t=this._isDropdownArrowFocused;if($(e)&&t&&!this._isOverflowEmpty){e.preventDefault(),this._toggleRespPopover();return}if(f(e)&&t&&!this._isOverflowEmpty&&!this._isPickerOpen){e.preventDefault();return}(z(e)||f(e))&&this._isCurrentLocationLabelFocused&&this._onLabelPress(e)}_onkeyup(e){this._isDropdownArrowFocused&&f(e)&&!this._isOverflowEmpty&&!this._isPickerOpen&&this._openRespPopover()}_cacheWidths(){const e=this._breadcrumbItemWidths,t=this._getItems(),i=this._currentLocationLabel;for(let r=this._overflowSize;r<t.length;r++){const s=t[r],n=this.shadowRoot.querySelector(`#${s._id}-link-wrapper`);e.set(s,this._getElementWidth(n))}if(t.length&&this._endsWithCurrentLocation&&i){const r=t[t.length-1];e.set(r,this._getElementWidth(i))}if(!this._isOverflowEmpty){const r=this.shadowRoot.querySelector(".ui5-breadcrumbs-dropdown-arrow-link-wrapper");this._dropdownArrowLinkWidth=this._getElementWidth(r)}}_updateOverflow(){const e=this._getItems(),t=this.shadowRoot.querySelector(".ui5-breadcrumbs-root").offsetWidth;let i=this._getTotalContentWidth(),r=0;for(i>t&&(i+=this._dropdownArrowLinkWidth);i>=t&&r<this._maxAllowedOverflowSize;){const n=e[r];let a=0;this._isItemVisible(n)&&(a=this._breadcrumbItemWidths.get(n)||0),i-=a,r++}this._overflowSize=r,this._isOverflowEmpty&&this._isPickerOpen&&(this.responsivePopover.open=!1);const s=this._getFocusableItems();s.some(n=>n.forcedTabIndex==="0")||this._itemNavigation.setCurrentItem(s[0])}_getElementWidth(e){return e?Math.ceil(e.getBoundingClientRect().width):0}_getTotalContentWidth(){const e=this._getItems(),t=this._breadcrumbItemWidths;return e.reduce((r,s)=>r+t.get(s),0)}_onLinkPress(e){const t=e.target,i=this._getItems(),r=i.find(T=>`${T._id}-link`===t.id),{altKey:s,ctrlKey:n,metaKey:a,shiftKey:S}=e.detail;this.fireDecoratorEvent("item-click",{item:r,altKey:s,ctrlKey:n,metaKey:a,shiftKey:S})||e.preventDefault()}_onLabelPress(e){const t=this._getItems(),i=t[t.length-1],{altKey:r,ctrlKey:s,metaKey:n,shiftKey:a}=e;this.fireDecoratorEvent("item-click",{item:i,altKey:r,ctrlKey:s,metaKey:n,shiftKey:a})}_onOverflowListItemSelect(e){const t=e.detail.selectedItems[0],i=this._getItems(),r=i.find(s=>`${s._id}-li`===t.id);this.fireDecoratorEvent("item-click",{item:r})&&(O(r.href,r.target||"_self","noopener,noreferrer"),this.responsivePopover.open=!1)}_respPopover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}_toggleRespPopover(){this.responsivePopover=this._respPopover(),this._isPickerOpen?this._closeRespPopover():this._openRespPopover()}_closeRespPopover(){this.responsivePopover&&(this.responsivePopover.open=!1)}_openRespPopover(){this.responsivePopover=this._respPopover(),this.responsivePopover.opener=this._dropdownArrowLink,this.responsivePopover.open=!0}_isItemVisible(e){return!e.hidden&&this._hasVisibleContent(e)}_hasVisibleContent(e){return e.innerText||Array.from(e.children).some(t=>!t.hidden)}_preprocessItems(){this.items.forEach(e=>{e._getRealDomRef=()=>this.getDomRef().querySelector(`[data-ui5-stable*=${e.stableDomRef}]`)})}_getItemPositionText(e,t){return d.i18nBundle.getText(M,e,t)}_getItemAccessibleName(e,t,i){const r=this._getItemPositionText(t,i),s=e.textContent||"";let n="";return e.accessibleName?n=`${s.trim()} ${e.accessibleName} ${r}`:n=`${s.trim()} ${r}`,n}getCurrentLocationLabelWrapper(){return this.shadowRoot.querySelector(".ui5-breadcrumbs-current-location > span")}get _visibleItems(){return this._getItems().slice(this._overflowSize).filter(e=>this._isItemVisible(e))}get _endsWithCurrentLinkItem(){const e=this._getItems();return e.length&&e[e.length-1].href}get _endsWithCurrentLocation(){return this.design===Y.Standard}get _currentLocationText(){const e=this._getItems();if(this._endsWithCurrentLocation&&e.length){const t=e[e.length-1];if(this._isItemVisible(t))return t.innerText}return""}get _currentLocationLabel(){return this.shadowRoot.querySelector(".ui5-breadcrumbs-current-location [ui5-label]")}get _isDropdownArrowFocused(){return this._dropdownArrowLink.forcedTabIndex==="0"}get _isCurrentLocationLabelFocused(){const e=this.getCurrentLocationLabelWrapper();return e&&e.tabIndex===0}get _maxAllowedOverflowSize(){return this._getItems().filter(t=>this._isItemVisible(t)).length-1}get _dropdownArrowLink(){return this.shadowRoot.querySelector(".ui5-breadcrumbs-dropdown-arrow-link-wrapper [ui5-link]")}get _overflowItemsData(){return this._getItems().slice(0,this._overflowSize).filter(e=>this._isItemVisible(e)).reverse()}get _linksData(){const e=this._visibleItems,t=e.length;return this._endsWithCurrentLocation&&!this._endsWithCurrentLinkItem&&e.pop(),e.map((i,r)=>(i._accessibleNameText=this._getItemAccessibleName(i,r+1,t),i._isCurrentPageItem=r===t-1&&this._endsWithCurrentLocation,i._needsSeparator=!i._isCurrentPageItem,i))}get _currentLocationAccName(){const e=this._visibleItems,t=this._getItemPositionText(e.length,e.length),i=e[e.length-1];if(!i)return t;const r=i.textContent||"";return i.accessibleName?`${r.trim()} ${i.accessibleName} ${t}`:`${r.trim()} ${t}`}get _links(){return Array.from(this.shadowRoot.querySelectorAll(".ui5-breadcrumbs-link-wrapper [ui5-link]"))}get _isOverflowEmpty(){return this._overflowItemsData.length===0}get linkAccessibilityAttributes(){return{hasPopup:this._isOverflowEmpty?void 0:"listbox"}}get _isPickerOpen(){return!!this.responsivePopover&&this.responsivePopover.open}get _accessibleNameText(){return d.i18nBundle.getText(j)}get _dropdownArrowAccessibleNameText(){return d.i18nBundle.getText(q)}get _cancelButtonText(){return d.i18nBundle.getText(K)}};h([p()],c.prototype,"design",void 0);h([p()],c.prototype,"separators",void 0);h([p({type:Number,noAttribute:!0})],c.prototype,"_overflowSize",void 0);h([P({type:HTMLElement,invalidateOnChildChange:!0,default:!0})],c.prototype,"items",void 0);h([D("@ui5/webcomponents")],c,"i18nBundle",void 0);c=d=h([k({tag:"ui5-breadcrumbs",languageAware:!0,renderer:B,template:ee,styles:[te,re]}),E("item-click",{bubbles:!0,cancelable:!0})],c);c.define();const ie=x("ui5-breadcrumbs",["design","separators"],[],[],["item-click"]);ie.displayName="Breadcrumbs";const se=x("ui5-breadcrumbs-item",["accessibleName","href","target"],[],[],[]);se.displayName="BreadcrumbsItem";export{se as B,ie as a,Y as b};
