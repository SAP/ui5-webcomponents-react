import{j as v,u as de}from"./useIsomorphicLayoutEffect-dLBi2t77.js";import{r as e}from"./index-RYns6xqu.js";import{u as fe,b as ve}from"./i18n-defaults-BX478RQX.js";import{g as me,c as _e}from"./utils-DNCbgL6O.js";import{c as Y}from"./clsx-B-dksMZM.js";import{B as be}from"./Button-ein9a_YJ.js";import{P as he}from"./Popover-BEVRlME1.js";import{P as ge}from"./PopupsCommon.css-C8RAKo8-.js";import{d as ae}from"./withWebComponent-6t4MTiZ-.js";import"./overflow-DI-5dCEZ.js";import{s as we}from"./stopPropagation-BJWsenK5.js";import{r as Te}from"./index-sbqOYYIm.js";import{d as ye}from"./Keys-F_3Gvx0K.js";import{T as Ce}from"./index-BsahwMNJ.js";import{P as qe}from"./index-BYhsI_93.js";import{u as Re}from"./useStylesheet-DKtOrKyD.js";import{d as ne}from"./debounce-D7W5PopO.js";const Pe="overflow";var k=(t=>(t.Auto="Auto",t.Info="Info",t.Solid="Solid",t.Transparent="Transparent",t))(k||{}),ee=(t=>(t.Clear="Clear",t.Standard="Standard",t))(ee||{});const z=Symbol.for("@ui5/webcomponents-react/OverflowPopoverContext"),xe=e.createContext({inPopover:!1});function le(){return globalThis[z]??(globalThis[z]=xe),globalThis[z]}function $e(){return e.useContext(le())}const A=e.forwardRef((t,h)=>v.jsx("span",{ref:h,style:{flexGrow:1},className:"spacer",...t,"data-component-name":"ToolbarSpacer"}));A.displayName="ToolbarSpacer";try{A.displayName="ToolbarSpacer",A.__docgenInfo={description:"Adds horizontal space between the items used within a `Toolbar`.\n\n__Note:__ This component is only compatible with the `Toolbar` component from the `@ui5/webcomponents-react-compat` package.",displayName:"ToolbarSpacer",props:{}}}catch{}try{A.displayName="ToolbarSpacer",A.__docgenInfo={description:"Adds horizontal space between the items used within a `Toolbar`.\n\n__Note:__ This component is only compatible with the `Toolbar` component from the `@ui5/webcomponents-react-compat` package.",displayName:"ToolbarSpacer",props:{}}}catch{}const Ie=ye(),M=t=>{var C;const{lastVisibleIndex:h,classes:g,children:J,portalContainer:N,overflowContentRef:x,numberOfAlwaysVisibleItems:D,showMoreText:W,overflowButton:p,overflowPopoverRef:X,setIsMounted:j,a11yConfig:u}=t,[d,y]=e.useState(!1),m=e.useRef(null),[U,F]=ae(X);e.useEffect(()=>(j(!0),()=>{j(!1)}),[]);const H=r=>{r.stopPropagation(),y(s=>s?!1:(F.current&&(F.current.opener=r.target),!0))},$=()=>{m.current&&(m.current.accessibilityAttributes={expanded:!0,hasPopup:"menu"})},G=()=>{y(!0)},w=r=>{m.current&&(m.current.accessibilityAttributes={expanded:!1,hasPopup:"menu"}),we(r),y(!1)};e.useEffect(()=>{const r=me("ui5-toggle-button");customElements.whenDefined(r).then(()=>{m.current&&(m.current.accessibilityAttributes={expanded:d,hasPopup:"menu"})})},[]);const _=r=>{var s;typeof((s=p==null?void 0:p.props)==null?void 0:s.onClick)=="function"&&p.props.onClick(r),r.defaultPrevented||H(r)},[f,K]=e.useState(!1);e.useEffect(()=>{K(!0)},[]);const L=(()=>{var r,s;return(r=u==null?void 0:u.overflowPopover)!=null&&r.contentRole?ge.None:(s=u==null?void 0:u.overflowPopover)==null?void 0:s.role})(),Q=le().Provider;return v.jsxs(Q,{value:{inPopover:!0},children:[p?e.cloneElement(p,{onClick:_}):v.jsx(Ce,{ref:m,design:be.Transparent,icon:Pe,onClick:H,pressed:d,accessibleName:W,tooltip:W,"data-component-name":"ToolbarOverflowButton"}),f&&Te.createPortal(v.jsx(qe,{"data-component-name":"ToolbarOverflowPopover",className:Y(g.popover,Ie&&g.popoverPhone),placement:he.Bottom,ref:U,open:d,onClose:w,onBeforeOpen:$,onOpen:G,hideArrow:!0,accessibleRole:L,children:v.jsx("div",{className:g.popoverContent,ref:x,role:(C=u==null?void 0:u.overflowPopover)==null?void 0:C.contentRole,"data-component-name":"ToolbarOverflowPopoverContent",children:J.map((r,s)=>{var O,S;return s>h&&s>D-1?(O=r==null?void 0:r.props)!=null&&O.id?e.cloneElement(r,{id:`${r.props.id}-overflow`}):((S=r.type)==null?void 0:S.displayName)==="ToolbarSeparator"?e.cloneElement(r,{style:{height:"0.0625rem",margin:"0.375rem 0.1875rem",width:"100%"}}):r:null})})}),N??document.body)]})};try{M.displayName="OverflowPopover",M.__docgenInfo={description:"",displayName:"OverflowPopover",props:{lastVisibleIndex:{defaultValue:null,description:"",name:"lastVisibleIndex",required:!0,type:{name:"number"}},classes:{defaultValue:null,description:"",name:"classes",required:!0,type:{name:"Record<string, string>"}},portalContainer:{defaultValue:null,description:"",name:"portalContainer",required:!0,type:{name:"Element"}},overflowContentRef:{defaultValue:null,description:"",name:"overflowContentRef",required:!0,type:{name:"Ref<HTMLDivElement>"}},numberOfAlwaysVisibleItems:{defaultValue:null,description:"",name:"numberOfAlwaysVisibleItems",required:!1,type:{name:"number"}},showMoreText:{defaultValue:null,description:"",name:"showMoreText",required:!0,type:{name:"string"}},overflowPopoverRef:{defaultValue:null,description:"",name:"overflowPopoverRef",required:!1,type:{name:"Ref<PopoverDomRef>"}},overflowButton:{defaultValue:null,description:"",name:"overflowButton",required:!1,type:{name:"ReactElement<ToggleButtonPropTypes, string | JSXElementConstructor<any>> | ReactElement<ButtonPropTypes, string | JSXElementConstructor<any>>"}},setIsMounted:{defaultValue:null,description:"",name:"setIsMounted",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},a11yConfig:{defaultValue:null,description:"",name:"a11yConfig",required:!1,type:{name:'{ overflowPopover?: { role?: "None" | PopupAccessibleRole | "Dialog" | "AlertDialog"; contentRole?: AriaRole; }; }'}}}}}catch{}try{M.displayName="OverflowPopover",M.__docgenInfo={description:"",displayName:"OverflowPopover",props:{lastVisibleIndex:{defaultValue:null,description:"",name:"lastVisibleIndex",required:!0,type:{name:"number"}},classes:{defaultValue:null,description:"",name:"classes",required:!0,type:{name:"Record<string, string>"}},portalContainer:{defaultValue:null,description:"",name:"portalContainer",required:!0,type:{name:"Element"}},overflowContentRef:{defaultValue:null,description:"",name:"overflowContentRef",required:!0,type:{name:"Ref<HTMLDivElement>"}},numberOfAlwaysVisibleItems:{defaultValue:null,description:"",name:"numberOfAlwaysVisibleItems",required:!1,type:{name:"number"}},showMoreText:{defaultValue:null,description:"",name:"showMoreText",required:!0,type:{name:"string"}},overflowPopoverRef:{defaultValue:null,description:"",name:"overflowPopoverRef",required:!1,type:{name:"Ref<PopoverDomRef>"}},overflowButton:{defaultValue:null,description:"",name:"overflowButton",required:!1,type:{name:"ReactElement<ToggleButtonPropTypes, string | JSXElementConstructor<any>> | ReactElement<ButtonPropTypes, string | JSXElementConstructor<any>>"}},setIsMounted:{defaultValue:null,description:"",name:"setIsMounted",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},a11yConfig:{defaultValue:null,description:"",name:"a11yConfig",required:!1,type:{name:'{ overflowPopover?: { role?: "None" | PopupAccessibleRole | "Dialog" | "AlertDialog"; contentRole?: AriaRole; }; }'}}}}}catch{}const Ne={packageName:"@ui5/webcomponents-react-compat",fileName:"Toolbar.module.css",content:".Toolbar_outerContainer_1dqv0_1{align-items:center;border-block-end:.0625rem solid var(--sapGroup_TitleBorderColor);box-sizing:border-box;display:flex;height:var(--_ui5wcr-ToolbarHeight);justify-content:space-between;max-width:100%;overflow:hidden;position:relative;width:100%}.Toolbar_hasOverflow_1dqv0_14 .Toolbar_toolbar_1dqv0_15{max-width:calc(100% - 44px)}.Toolbar_clear_1dqv0_20{border-block-end:none}.Toolbar_active_1dqv0_24{cursor:pointer}.Toolbar_active_1dqv0_24:hover{background-color:var(--sapList_Hover_Background)}.Toolbar_active_1dqv0_24:focus{box-shadow:var(--_ui5wcr_Toolbar_FocusShadow);outline:var(--_ui5wcr_Toolbar_FocusOutline);outline-offset:-.1875rem}.Toolbar_active_1dqv0_24:active{background-color:var(--sapActiveColor)}.Toolbar_info_1dqv0_42{background-color:var(--sapInfobar_NonInteractive_Background);color:var(--sapList_TextColor);height:2rem}.Toolbar_info_1dqv0_42.Toolbar_active_1dqv0_24{background-color:var(--sapInfobar_Background);color:var(--sapInfobar_TextColor);outline-color:var(--sapContent_ContrastFocusColor)}.Toolbar_info_1dqv0_42.Toolbar_active_1dqv0_24:hover{background-color:var(--sapInfobar_Hover_Background)}.Toolbar_info_1dqv0_42.Toolbar_active_1dqv0_24:active{background-color:var(--sapInfobar_Active_Background)}.Toolbar_solid_1dqv0_62{background-color:var(--sapToolbar_Background)}.Toolbar_transparent_1dqv0_66{background-color:initial}.Toolbar_toolbar_1dqv0_15{align-items:center;display:flex;max-width:100%;width:100%}.Toolbar_toolbar_1dqv0_15>:first-child:not(.spacer){margin-inline:.5rem .25rem}.Toolbar_toolbar_1dqv0_15>:last-child:not(.spacer){margin-inline:.25rem .5rem}.Toolbar_toolbar_1dqv0_15>:not(:first-child):not(:last-child):not(.spacer){margin-inline:.25rem}.Toolbar_overflowButtonContainer_1dqv0_89{display:flex;margin-inline:0 .5rem}.Toolbar_popover_1dqv0_94[ui5-popover]::part(content){padding:0}.Toolbar_popoverPhone_1dqv0_100{inset-inline-start:5px!important;max-width:calc(100% - 10px);width:calc(100% - 10px)}.Toolbar_popoverContent_1dqv0_106{display:flex;flex-direction:column;padding:var(--_ui5wcr-ToolbarPopoverContentPadding)}.Toolbar_popoverContent_1dqv0_106>[ui5-button],.Toolbar_popoverContent_1dqv0_106>[ui5-toggle-button]{margin-block:.25rem}.Toolbar_popoverContent_1dqv0_106>[ui5-button]::part(button),.Toolbar_popoverContent_1dqv0_106>[ui5-toggle-button]::part(button){justify-content:flex-start}.Toolbar_popoverContent_1dqv0_106>[ui5-button][icon-only]::part(button),.Toolbar_popoverContent_1dqv0_106>[ui5-toggle-button][icon-only]::part(button){padding:revert}.Toolbar_popoverContent_1dqv0_106:last-child{margin-block-end:0}.Toolbar_popoverContent_1dqv0_106:first-child{margin-block-start:0}.Toolbar_childContainer_1dqv0_135{display:flex}"},c={outerContainer:"Toolbar_outerContainer_1dqv0_1",hasOverflow:"Toolbar_hasOverflow_1dqv0_14",toolbar:"Toolbar_toolbar_1dqv0_15",clear:"Toolbar_clear_1dqv0_20",active:"Toolbar_active_1dqv0_24",info:"Toolbar_info_1dqv0_42",solid:"Toolbar_solid_1dqv0_62",transparent:"Toolbar_transparent_1dqv0_66",overflowButtonContainer:"Toolbar_overflowButtonContainer_1dqv0_89",popover:"Toolbar_popover_1dqv0_94",popoverPhone:"Toolbar_popoverPhone_1dqv0_100",popoverContent:"Toolbar_popoverContent_1dqv0_106",childContainer:"Toolbar_childContainer_1dqv0_135"};function ie(t){if(!t)return 0;let h=0;return t.dataset.componentName==="ToolbarSpacer"&&(h+=t.offsetWidth),h+ie(t.previousElementSibling)}const I=52,P=e.forwardRef((t,h)=>{const{children:g,toolbarStyle:J=ee.Standard,design:N=k.Auto,active:x=!1,style:D,className:W,onClick:p,slot:X,as:j="div",portalContainer:u,numberOfAlwaysVisibleItems:d=0,onOverflowChange:y,overflowPopoverRef:m,overflowButton:U,a11yConfig:F,...H}=t,$=t["data-in-object-page-title"];Re(Ne,P.displayName);const[G,w]=ae(h),_=e.useRef([]),[f,K]=e.useState(null),[L,Q]=e.useState(!1),C=e.useRef(null),r=e.useRef(null),s=e.useRef(null),[O,S]=e.useState("0"),se=fe("@ui5/webcomponents-react").getText(ve),ce=Y(c.outerContainer,J===ee.Clear&&c.clear,x&&c.active,N===k.Solid&&c.solid,N===k.Transparent&&c.transparent,N===k.Info&&c.info,W),T=e.useMemo(()=>_e(g,10),[g]),Z=e.useMemo(()=>(_.current=[],T.map((o,n)=>{var b;const a=e.createRef(),i=((b=o==null?void 0:o.type)==null?void 0:b.displayName)==="ToolbarSpacer";return _.current.push({ref:a,isSpacer:i}),i?o:v.jsx("div",{ref:a,className:c.childContainer,"data-component-name":"ToolbarChildContainer",children:o},n)})),[T,_,c.childContainer]),q=(f||f===0)&&e.Children.count(Z)!==f+1&&d<e.Children.count(T);e.useEffect(()=>{let o;const n=C.current.children[d-1],a=ne(()=>{var l;const i=ie(n),b=(l=w.current)==null?void 0:l.matches(":dir(rtl)");S(b?`${n.offsetParent.offsetWidth-n.offsetLeft+I-i}px`:`${n.offsetLeft+n.getBoundingClientRect().width+I-i}px`)},200);return d&&q&&n&&(o=new ResizeObserver(a),o.observe(C.current)),()=>{a.cancel(),o==null||o.disconnect()}},[d,q]);const oe=e.useRef(void 0),E=e.useCallback(()=>{oe.current=requestAnimationFrame(()=>{if(!w.current)return;const o=w.current.getBoundingClientRect().width;let n=0,a=null;if(o-I<=0)a=-1;else{let i=!0;_.current.forEach((b,l)=>{const V=_.current[l];if(V&&V.ref&&V.ref.current){let R=V.ref.current.getBoundingClientRect().width;R+=l===0||l===_.current.length-1?4:8,l===_.current.length-1?n+R<=o-8?a=l:(l===0||i)&&(a=l-1):(n+R<=o-I&&(a=l),n<o-I&&n+R>=o-I&&(a=l-1)),i&&!b.isSpacer&&(i=!1),n+=R}})}K(a)})},[q]);e.useEffect(()=>{const o=new ResizeObserver(E);return w.current&&o.observe(w.current),()=>{cancelAnimationFrame(oe.current),o.disconnect()}},[E]),e.useEffect(()=>{e.Children.count(g)>0&&E()},[g]),de(()=>{E()},[E]);const te=o=>{if($&&typeof p=="function"&&p(o),x&&typeof p=="function"){const n=o.type==="keydown"&&(o.code==="Enter"||o.code==="Space");if(n&&o.target!==o.currentTarget)return;(o.type==="click"||n)&&(n&&o.preventDefault(),p(o))}},re=e.useRef(T),B=e.useRef(void 0);e.useEffect(()=>{typeof y=="function"&&(B.current=ne(y,60))},[y]),e.useEffect(()=>{var n,a;const o=re.current.length!==T.length;if((f!==null||o)&&typeof B.current=="function"){re.current=T;const i=(n=C.current)==null?void 0:n.children;let b=[],l;L&&(l=(a=r.current)==null?void 0:a.children),(i==null?void 0:i.length)>0&&(b=Array.from(i).filter((V,R)=>R<=f)),B.current({toolbarElements:b,overflowElements:l,target:w.current})}return()=>{B.current&&B.current.cancel()}},[f,T.length,L]);const pe=j,ue=O!=="0"?{minWidth:O,...D}:D;return v.jsxs(pe,{style:ue,className:Y(ce,q&&c.hasOverflow),ref:G,slot:X,onClick:te,onKeyDown:te,tabIndex:x?0:void 0,role:x?"button":void 0,"data-sap-ui-fastnavgroup":"true","data-component-name":"Toolbar",...H,children:[v.jsxs("div",{className:c.toolbar,"data-component-name":"ToolbarContent",ref:C,children:[q&&e.Children.map(Z,(o,n)=>n>=f+1&&n>d-1?e.cloneElement(o,{style:{visibility:"hidden",position:"absolute",pointerEvents:"none"}}):o),!q&&Z]}),q&&v.jsx("div",{ref:s,className:c.overflowButtonContainer,"data-component-name":"ToolbarOverflowButtonContainer",children:v.jsx(M,{overflowPopoverRef:m,lastVisibleIndex:f,classes:c,portalContainer:u,overflowContentRef:r,numberOfAlwaysVisibleItems:d,showMoreText:se,overflowButton:U,setIsMounted:Q,a11yConfig:F,children:T})})]})});P.displayName="Toolbar";P._displayName="UI5WCRToolbar";try{P.displayName="Toolbar",P.__docgenInfo={description:"Horizontal container most commonly used to display buttons, labels, selects and various other input controls.\n\nThe content of the `Toolbar` moves into the overflow area from right to left when the available space is not enough in the visible area of the container.\nIt can be accessed by the user through the overflow button that opens it in a popover.\n\n__Note:__ The overflow popover is mounted only when the overflow button is displayed, i.e., any child component of the popover will be remounted, when moved into it.\n\n__Note:__ To prevent duplicate child `id`s in the DOM, all child `id`s get an `-overflow` suffix. This is especially important when popovers are opened by id.",displayName:"Toolbar",props:{}}}catch{}try{P.displayName="Toolbar",P.__docgenInfo={description:"Horizontal container most commonly used to display buttons, labels, selects and various other input controls.\n\nThe content of the `Toolbar` moves into the overflow area from right to left when the available space is not enough in the visible area of the container.\nIt can be accessed by the user through the overflow button that opens it in a popover.\n\n__Note:__ The overflow popover is mounted only when the overflow button is displayed, i.e., any child component of the popover will be remounted, when moved into it.\n\n__Note:__ To prevent duplicate child `id`s in the DOM, all child `id`s get an `-overflow` suffix. This is especially important when popovers are opened by id.",displayName:"Toolbar",props:{}}}catch{}export{A as T,P as a,k as b,ee as c,$e as u};
