import{j as e}from"./jsx-runtime-d079401a.js";import"./UnableToLoad-3a2532f9.js";import{n as Vt}from"./navigation-down-arrow-151016fc.js";import{s as Xe}from"./search-4e7efcf2.js";import{T as b}from"./ThemingParameters-7e2e4e30.js";import{e as ue}from"./index-99d317a4.js";import{c as ye}from"./clsx-1229b3e0.js";import{r as t,R as Ke}from"./index-f1f2c4b1.js";import{r as Re}from"./index-c74c9f7f.js";import{c as qe}from"./react-jss.esm-2e5f50f2.js";import{u as xe,V as Ze,b as et,c as tt,d as wt,M as xt,e as St,D as bt,f as je,g as Ct,U as It,h as Pe,C as at,i as Be,j as Tt,k as _t,l as At,m as Dt,n as nt,o as Et,p as Nt,q as Mt,r as Rt,s as qt,t as jt,v as Pt}from"./i18n-defaults-f9eebbcc.js";import{h as ke,u as Bt}from"./withWebComponent-70ea33bf.js";import{s as kt}from"./stopPropagation-da74d54e.js";import{F as Ve,b as Ie,c as Te}from"./index-12e0da73.js";import{p as Ot,z as Ft}from"./UI5Element-9ae3ac4a.js";import{t as _e,c as it}from"./utils-eb830979.js";import{B as Oe}from"./index-f7283fd6.js";import{B as ee}from"./index-bc3c45f8.js";import{D as lt}from"./index-b0f8ea20.js";import{b as Lt,c as re,T as Ht,a as oe}from"./index-e5012f7d.js";import{d as Ut}from"./decline-06bf09c2.js";import{f as be}from"./favorite-2e1dd53f.js";import{u as Wt}from"./unfavorite-34fe8204.js";import{T as Je}from"./index-743fc8f1.js";import{R as $t}from"./index-3a3cf27d.js";import{C as ge}from"./index-63c79772.js";import{I as we}from"./index-836e5983.js";import{B as U}from"./Button-bda40b74.js";import{I as Se}from"./index-9f20d352.js";import{V as Qe}from"./ValueState-ab6838cc.js";import{B as Fe}from"./Bar-a5fb143c.js";import{L as zt}from"./index-e265c25e.js";import{u as Gt}from"./useIsomorphicId-ed1d334d.js";import{I as Yt}from"./index-302dc6ed.js";import{a as Kt}from"./Popover-f88acbeb.js";import{T as Jt}from"./Title-9e1fec85.js";import{T as Qt}from"./index-8b97d16c.js";import{R as Xt}from"./index-d7a01d9b.js";import{I as Zt}from"./IllustratedMessage-c39c457c.js";import{L as ea}from"./index-d30a3255.js";import{a as ta}from"./ListItemBase-7c3bbca9.js";import{S as aa}from"./index-cbb543fd.js";const st=t.createContext({selectVariantItem:o=>{}}),Ae=o=>{const{variantNames:T,changedVariantNames:y,setChangedVariantNames:x,handleRowChange:S,handleDelete:W,defaultView:q,setDefaultView:j,showShare:P,showApplyAutomatically:d,showSetAsDefault:w,showCreatedBy:_,labelReadOnly:u,favorite:p,children:l,global:A,isDefault:D,applyAutomatically:$,applyAutomaticallyText:B,author:Y,setInvalidVariants:k,hideDelete:K,showOnlyFavorites:J}=o,f=xe("@ui5/webcomponents-react"),O=f.getText(Ze),E=f.getText(et),z=f.getText(tt),Q=f.getText(wt),G=f.getText(xt),m=f.getText(St),N=f.getText(bt),h=f.getText(je),X=f.getText(Ct),te=f.getText(It),g=f.getText(Pe),[Z,F]=t.useReducer(s=>!s,!!p),r=Z?be:Wt,M=t.useRef(void 0),[ae,L]=t.useState(!1),ie=s=>{F(),S(s,{currentVariant:l,favorite:!Z})},de=s=>{var H,le;typeof((H=o.manageViewsInputProps)==null?void 0:H.onInput)=="function"&&((le=o.manageViewsInputProps)==null||le.onInput(s));const v=_e(s.target.value);T.includes(v)||Array.from(y.values()).includes(v)?(L(O),k(R=>({...R,[`${l}`]:M.current})),S(s,{currentVariant:l,children:v})):v.length===0?(L(E),k(R=>({...R,[l]:M.current})),S(s,{currentVariant:l,children:v})):s.isInvalid?k(R=>({...R,[`${l}`]:M.current})):(L(!1),k(R=>{const se={...R};return R.hasOwnProperty(l)&&delete se[l],se}),S(s,{currentVariant:l,children:v}))},i=s=>{var H,le;typeof((H=o.manageViewsInputProps)==null?void 0:H.onChange)=="function"&&((le=o.manageViewsInputProps)==null||le.onChange(s));const v=_e(s.target.value);x(R=>{const se=new Map(R);return se.set(l,v),se})},V=()=>{j(l)},n=s=>{S(s,{currentVariant:l,applyAutomatically:s.target.checked})},C=()=>{var s,v;return u?e.jsx(Je,{style:{fontFamily:D?b.sapFontBoldFamily:b.sapFontFamily},children:l}):e.jsx(Se,{placeholder:g,ref:M,...o.manageViewsInputProps,valueStateMessage:((s=o.manageViewsInputProps)==null?void 0:s.valueStateMessage)??e.jsx("div",{children:ae}),valueState:((v=o.manageViewsInputProps)==null?void 0:v.valueState)??(ae?Qe.Error:Qe.None),value:l,onInput:de,onChange:i})};return e.jsxs(Lt,{"data-id":l,children:[J&&e.jsx(re,{children:D?e.jsx(we,{name:be,style:{color:b.sapContent_NonInteractiveIconColor}}):e.jsx(we,{accessibleName:G,title:r===be?X:te,name:r,interactive:!0,style:{color:b.sapContent_MarkerIconColor,cursor:"pointer"},onClick:ie})}),e.jsx(re,{children:C()}),P&&e.jsx(re,{children:A?z:Q}),w&&e.jsx(re,{children:e.jsx($t,{accessibleName:m,checked:q!==void 0?q===l:D,onChange:V})}),d&&e.jsx(re,{children:e.jsx(ge,{accessibleName:h,checked:$,onChange:n,text:B})}),_&&e.jsx(re,{children:e.jsx(Je,{children:Y})}),e.jsx(re,{children:!(K??A)&&e.jsx(ee,{tooltip:N,accessibleName:N,icon:Ut,design:U.Transparent,onClick:W,"data-children":l})})]},`${l}`)};try{Ae.displayName="ManageViewsTableRows",Ae.__docgenInfo={description:"",displayName:"ManageViewsTableRows",props:{variantNames:{defaultValue:null,description:"",name:"variantNames",required:!0,type:{name:"string[]"}},handleRowChange:{defaultValue:null,description:"",name:"handleRowChange",required:!0,type:{name:"(e: Event, payload: any) => void"}},handleDelete:{defaultValue:null,description:"",name:"handleDelete",required:!0,type:{name:"(e: any) => void"}},defaultView:{defaultValue:null,description:"",name:"defaultView",required:!0,type:{name:"string"}},setDefaultView:{defaultValue:null,description:"",name:"setDefaultView",required:!0,type:{name:"(view: string) => void"}},showShare:{defaultValue:null,description:"",name:"showShare",required:!0,type:{name:"boolean"}},showApplyAutomatically:{defaultValue:null,description:"",name:"showApplyAutomatically",required:!0,type:{name:"boolean"}},showSetAsDefault:{defaultValue:null,description:"",name:"showSetAsDefault",required:!0,type:{name:"boolean"}},showCreatedBy:{defaultValue:null,description:"",name:"showCreatedBy",required:!0,type:{name:"boolean"}},showOnlyFavorites:{defaultValue:null,description:"",name:"showOnlyFavorites",required:!1,type:{name:"boolean"}},changedVariantNames:{defaultValue:null,description:"",name:"changedVariantNames",required:!0,type:{name:"Map<string, any>"}},setChangedVariantNames:{defaultValue:null,description:"",name:"setChangedVariantNames",required:!0,type:{name:"(varNames: any) => void"}},setInvalidVariants:{defaultValue:null,description:"",name:"setInvalidVariants",required:!0,type:{name:"(invalidVars: any) => void"}},children:{defaultValue:null,description:"The name of the variant.",name:"children",required:!0,type:{name:"string"}},author:{defaultValue:null,description:"Author of the variant.",name:"author",required:!1,type:{name:"string"}},favorite:{defaultValue:null,description:"Indicates if favorites can be created.\n\n__Note:__ Has no effect if `showOnlyFavorites` is falsy in the `VariantMangament`.",name:"favorite",required:!1,type:{name:"boolean"}},global:{defaultValue:null,description:"Indicator if a variant is visible for all users (public flag is set).",name:"global",required:!1,type:{name:"boolean"}},isDefault:{defaultValue:null,description:"Indicator if it's the default variant.",name:"isDefault",required:!1,type:{name:"boolean"}},labelReadOnly:{defaultValue:null,description:"Indicates if the variant title can be changed.",name:"labelReadOnly",required:!1,type:{name:"boolean"}},applyAutomatically:{defaultValue:null,description:"Indicates if the variant should be applied automatically on selection.",name:"applyAutomatically",required:!1,type:{name:"boolean"}},applyAutomaticallyText:{defaultValue:null,description:'Text displayed next to the "Apply Automatically" checkbox inside the "Manage Views" dialog.',name:"applyAutomaticallyText",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:'If set to false, the user is allowed to change the item\'s data.\n\n__Note:__ When set to true, no "Save" button will be displayed for the `VariantItem` when the `VariantManagement` is in `dirtyState`.',name:"readOnly",required:!1,type:{name:"boolean"}},hideDelete:{defaultValue:null,description:"Indicates if the variant can be deleted.\n\n__Note:__ If not set, a delete button is shown for all variants except for variants with `global={true}`.",name:"hideDelete",required:!1,type:{name:"boolean"}},manageViewsInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Manage Views" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"manageViewsInputProps",required:!1,type:{name:'Omit<InputPropTypes, "value">'}},saveViewInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Save View" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"saveViewInputProps",required:!1,type:{name:'Omit<InputPropTypes, "id" | "value">'}},selected:{defaultValue:null,description:"Defines the selected state of the `ListItem`.",name:"selected",required:!1,type:{name:"boolean"}},accessibleName:{defaultValue:null,description:"Defines the text alternative of the component. Note: If not provided a default text alternative will be set, if present.",name:"accessibleName",required:!1,type:{name:"string"}}}}}catch{}const Ce=`var(${it}popup_default_header_height)`,na=`var(${it}popup_header_font_family)`,ia={manageViewsDialog:{width:Ot()||Ft()?"100%":"70vw","&::part(content), &::part(header)":{padding:0},"&::part(footer)":{padding:0,borderBlockStart:"none"}},headerText:{margin:0,textAlign:"center",alignSelf:"start",minHeight:Ce,maxHeight:Ce,lineHeight:Ce,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",display:"inline-block",paddingInlineStart:"1rem",fontFamily:`"72override",${na}`,fontSize:"1rem"},search:{width:"calc(100% - 2rem)",marginBlockEnd:"0.5rem"},inputIcon:{cursor:"pointer",color:b.sapContent_IconColor}},la=qe(ia,{name:"ManageViewsDialog"}),De=o=>{const{children:T,onAfterClose:y,handleSaveManageViews:x,showShare:S,showApplyAutomatically:W,showSetAsDefault:q,showCreatedBy:j,variantNames:P,portalContainer:d,showOnlyFavorites:w,onManageViewsCancel:_}=o,u=xe("@ui5/webcomponents-react"),p=u.getText(at),l=u.getText(Be),A=u.getText(Pe),D=u.getText(Tt),$=u.getText(_t),B=u.getText(je),Y=u.getText(At),k=u.getText(Dt),K=u.getText(nt),[J,f]=t.useState(new Map),[O,E]=t.useState({}),z=la(),Q=e.jsxs(e.Fragment,{children:[w&&e.jsx(oe,{},"favorite-variant-item"),e.jsx(oe,{children:A}),S&&e.jsx(oe,{demandPopin:!0,minWidth:600,children:D}),q&&e.jsx(oe,{demandPopin:!0,minWidth:600,popinText:$,children:$}),W&&e.jsx(oe,{demandPopin:!0,minWidth:600,popinText:B,children:B}),j&&e.jsx(oe,{demandPopin:!0,minWidth:600,popinText:Y,children:Y}),e.jsx(oe,{},"delete-variant-item")]}),[G,m]=t.useState(t.Children.map(T,i=>Ke.isValidElement(i)?i.props:{}));t.useEffect(()=>{m(t.Children.map(T,i=>Ke.isValidElement(i)?i.props:{}))},[T]);const[N,h]=t.useState(G);t.useEffect(()=>{h(G)},[G]);const[X,te]=t.useState(),g=t.useRef({}),Z=(i,V)=>{V&&(g.current[V.currentVariant]={...g.current[V.currentVariant]??{},...V})},F=t.useRef(new Set([])),r=i=>{F.current.add(i.target.dataset.children),m(V=>V.filter(n=>n.children!==i.target.dataset.children).map(n=>g.current.hasOwnProperty(n.children)?{...n,...g.current[n.children]}:n))},M=i=>{Object.keys(O).length===0?x(i,{updatedRows:g.current,defaultView:X,deletedRows:F.current}):Object.values(O)[0].focus()},ae=i=>{i.detail.escPressed?L(i):y(i)},L=i=>{typeof _=="function"&&_(ue(i,{invalidVariants:O})),E(V=>(Object.values(V).forEach(n=>{n.isInvalid=!1}),{})),y(i)},ie=i=>{const V=i.target.value.toLowerCase();h(G.filter(n=>{var C,s,v,H;return((s=(C=n.children)==null?void 0:C.toLowerCase())==null?void 0:s.includes(V))||((H=(v=n.author)==null?void 0:v.toLowerCase())==null?void 0:H.includes(V))}))};return ke()?Re.createPortal(e.jsx(lt,{open:!0,className:z.manageViewsDialog,"data-component-name":"VariantManagementManageViewsDialog",onAfterClose:y,onBeforeClose:ae,headerText:k,header:e.jsxs(Ve,{direction:Ie.Column,style:{width:"100%"},alignItems:Te.Center,children:[e.jsx("h2",{className:z.headerText,children:k}),e.jsx(Se,{className:z.search,placeholder:K,showClearIcon:!0,icon:e.jsx(we,{name:Xe,className:z.inputIcon}),onInput:ie})]}),resizable:!0,footer:e.jsx(Oe,{design:Fe.Footer,endContent:e.jsxs(e.Fragment,{children:[e.jsx(ee,{design:U.Emphasized,onClick:M,children:l}),e.jsx(ee,{design:U.Transparent,onClick:L,children:p})]})}),children:e.jsx(Ht,{columns:Q,stickyColumnHeader:!0,role:"table",children:N.map(i=>t.createElement(Ae,{...i,setInvalidVariants:E,setChangedVariantNames:f,changedVariantNames:J,variantNames:P,handleRowChange:Z,handleDelete:r,defaultView:X,setDefaultView:te,showShare:S,showApplyAutomatically:W,showSetAsDefault:q,showCreatedBy:j,key:i==null?void 0:i.children,showOnlyFavorites:w}))})}),d??document.body):null};try{De.displayName="ManageViewsDialog",De.__docgenInfo={description:"",displayName:"ManageViewsDialog",props:{onAfterClose:{defaultValue:null,description:"",name:"onAfterClose",required:!0,type:{name:"any"}},handleSaveManageViews:{defaultValue:null,description:"",name:"handleSaveManageViews",required:!0,type:{name:"(e: MouseEventHandler<HTMLElement>, payload: { updatedRows: any; defaultView: string; deletedRows: any; }) => void"}},showShare:{defaultValue:null,description:"",name:"showShare",required:!0,type:{name:"boolean"}},showApplyAutomatically:{defaultValue:null,description:"",name:"showApplyAutomatically",required:!0,type:{name:"boolean"}},showSetAsDefault:{defaultValue:null,description:"",name:"showSetAsDefault",required:!0,type:{name:"boolean"}},showCreatedBy:{defaultValue:null,description:"",name:"showCreatedBy",required:!0,type:{name:"boolean"}},variantNames:{defaultValue:null,description:"",name:"variantNames",required:!0,type:{name:"string[]"}},portalContainer:{defaultValue:null,description:"",name:"portalContainer",required:!0,type:{name:"Element"}},showOnlyFavorites:{defaultValue:null,description:"",name:"showOnlyFavorites",required:!1,type:{name:"boolean"}},onManageViewsCancel:{defaultValue:null,description:"",name:"onManageViewsCancel",required:!1,type:{name:"(e: (MouseEvent<ButtonDomRef, MouseEvent> | Ui5CustomEvent<DialogDomRef, PopupBeforeCloseEventDetail>) & { ...; }) => void"}}}}}catch{}const sa=qe({dialog:{"&::part(footer)":{borderBlockStart:"none",padding:0}},input:{width:"100%",marginBlock:"0.1875rem"},checkBoxesContainer:{paddingInline:"0.5rem"}},{name:"SaveViewDialogStyles"}),Ee=o=>{const{onAfterClose:T,handleSave:y,selectedVariant:x,showShare:S,showApplyAutomatically:W,showSetAsDefault:q,variantNames:j,portalContainer:P,saveViewInputProps:d,onSaveViewCancel:w}=o,_=t.useRef(null),u=t.useRef(void 0),p=xe("@ui5/webcomponents-react"),l=sa(),A=Gt(),D=p.getText(at),$=p.getText(Be),B=p.getText(Et),Y=p.getText(Nt),k=p.getText(tt),K=p.getText(je),J=p.getText(Pe),f=p.getText(Ze),O=p.getText(et),[E,z]=t.useState(x.isDefault),[Q,G]=t.useState(x.global),[m,N]=t.useState(x.applyAutomatically),[h,X]=t.useState(x.children),[te,g]=t.useState(!1),[Z,F]=t.useState(!1),r=n=>{typeof(d==null?void 0:d.onInput)=="function"&&d.onInput(n);const C=_e(n.target.value);X(C),j.includes(C)?g(f):C.length===0?g(O):n.isInvalid?F(!0):(g(!1),F(!1))},M=n=>{var C,s,v;j.includes(h)?(g(f),(C=u.current)==null||C.focus()):h.length===0?(g(O),(s=u.current)==null||s.focus()):Z?(v=u.current)==null||v.focus():(g(!1),y(n,{...x,children:h,isDefault:E,global:Q,applyAutomatically:m}))},ae=n=>{n.detail.escPressed?L(n):T(n)},L=n=>{typeof w=="function"&&w(ue(n,{...x,children:h,isDefault:E,global:Q,applyAutomatically:m,isInvalid:Z})),F(!1),u.current.isInvalid=!1,_.current.close()},ie=n=>{z(n.target.checked)},de=n=>{G(n.target.checked)},i=n=>{N(n.target.checked)};return ke()?Re.createPortal(e.jsx(lt,{open:!0,className:l.dialog,ref:_,headerText:B,onAfterClose:T,onBeforeClose:ae,footer:e.jsx(Oe,{design:Fe.Footer,endContent:e.jsxs(e.Fragment,{children:[e.jsx(ee,{design:U.Emphasized,onClick:M,children:$}),e.jsx(ee,{design:U.Transparent,onClick:L,children:D})]})}),children:e.jsxs(Ve,{direction:Ie.Column,alignItems:Te.Start,children:[e.jsx(zt,{for:`view-${A}`,showColon:!0,children:J}),e.jsx(Se,{accessibleName:J,ref:u,...d,valueState:(d==null?void 0:d.valueState)??(te?"Error":"None"),valueStateMessage:(d==null?void 0:d.valueStateMessage)??e.jsx("div",{children:te}),className:ye(l.input,d==null?void 0:d.className),id:`view-${A}`,value:h,onInput:r}),e.jsxs(Ve,{alignItems:Te.Start,direction:Ie.Column,className:l.checkBoxesContainer,children:[q&&e.jsx(ge,{onChange:ie,text:Y,checked:E}),S&&e.jsx(ge,{onChange:de,text:k,checked:Q}),W&&e.jsx(ge,{onChange:i,text:K,checked:m})]})]})}),P??document.body):null};try{Ee.displayName="SaveViewDialog",Ee.__docgenInfo={description:"",displayName:"SaveViewDialog",props:{onAfterClose:{defaultValue:null,description:"",name:"onAfterClose",required:!0,type:{name:"(event: Ui5CustomEvent<DialogDomRef, never>) => void"}},handleSave:{defaultValue:null,description:"",name:"handleSave",required:!0,type:{name:"(event: Ui5CustomEvent<ButtonDomRef, never>, selectedVariant: SelectedVariant) => void"}},selectedVariant:{defaultValue:null,description:"",name:"selectedVariant",required:!0,type:{name:"SelectedVariant"}},showShare:{defaultValue:null,description:"",name:"showShare",required:!0,type:{name:"boolean"}},showApplyAutomatically:{defaultValue:null,description:"",name:"showApplyAutomatically",required:!0,type:{name:"boolean"}},showSetAsDefault:{defaultValue:null,description:"",name:"showSetAsDefault",required:!0,type:{name:"boolean"}},variantNames:{defaultValue:null,description:"",name:"variantNames",required:!0,type:{name:"string[]"}},portalContainer:{defaultValue:null,description:"",name:"portalContainer",required:!0,type:{name:"Element"}},saveViewInputProps:{defaultValue:null,description:"",name:"saveViewInputProps",required:!1,type:{name:'Omit<InputPropTypes, "value">'}},onSaveViewCancel:{defaultValue:null,description:"",name:"onSaveViewCancel",required:!1,type:{name:"(e: (MouseEvent<ButtonDomRef, MouseEvent> | Ui5CustomEvent<DialogDomRef, PopupBeforeCloseEventDetail>) & { ...; }) => void"}}}}}catch{}const ra={container:{display:"flex",alignItems:"center",textAlign:"center"},title:{cursor:"pointer",color:b.sapLinkColor,textShadow:"none","&:hover":{color:b.sapLink_Hover_Color},"&:active":{color:b.sapLink_Active_Color}},disabled:{"& $title":{color:b.sapGroup_TitleTextColor,cursor:"default","&:hover":{color:"ThemingParameters.sapGroup_TitleTextColor"}}},dirtyState:{color:b.sapGroup_TitleTextColor,paddingInline:"0.125rem",fontWeight:"bold",font:b.sapFontFamily,fontSize:b.sapFontSize,flexGrow:1},dirtyStateText:{fontSize:b.sapFontSmallSize,fontWeight:"normal"},navDownBtn:{marginInlineStart:"0.125rem"},footer:{"& > :last-child":{marginInlineEnd:0}},inputIcon:{cursor:"pointer",color:b.sapContent_IconColor},searchInputContainer:{padding:"0.25rem 1rem"},searchInput:{width:"100%"},popover:{minWidth:"25rem","&::part(content), &::part(footer)":{padding:0},"&::part(footer)":{borderBlockStart:"none"}}},oa=qe(ra,{name:"VariantManagement"}),Ne=t.forwardRef((o,T)=>{const y=xe("@ui5/webcomponents-react"),{titleText:x=y.getText(Mt),className:S,style:W,placement:q=Kt.Bottom,level:j=Jt.H4,onSelect:P,closeOnItemSelect:d,disabled:w,onSaveAs:_,onSaveManageViews:u,showOnlyFavorites:p,inErrorState:l,hideShare:A,children:D,hideManageVariants:$,hideApplyAutomatically:B,hideSetAsDefault:Y,hideCreatedBy:k,hideSaveAs:K,dirtyStateText:J="*",dirtyState:f,onSave:O,portalContainer:E,onManageViewsCancel:z,onSaveViewCancel:Q,...G}=o,m=oa(),N=t.useRef(null),[h,X]=t.useState(t.Children.toArray(D));t.useEffect(()=>{X(t.Children.toArray(D))},[D]);const[te,g]=t.useState(!1),[Z,F]=t.useState(!1),[r,M]=t.useState(()=>{const a=h.find(c=>t.isValidElement(c)&&c.props.selected);if(a)return{...a.props,variantItem:a.ref}}),[ae,L]=t.useState((r==null?void 0:r.saveViewInputProps)??{}),ie=()=>{N.current.close()},de=()=>{g(!0)},i=()=>{g(!1)},V=()=>{F(!0)},n=()=>{F(!1)},C=a=>{typeof O=="function"&&O(ue(a,r))},s=(a,c)=>{typeof _=="function"&&_(ue(a,c)),M(c),a.defaultPrevented||n()},v=(a,c)=>{const{defaultView:pe,updatedRows:Ge,deletedRows:vt}=c,me={deletedVariants:[],prevVariants:[],updatedVariants:[],variants:[]};X(yt=>t.Children.toArray(yt.map(I=>{if(!t.isValidElement(I))return!1;let ne={};const Ye=N.current.querySelector(`ui5-li[data-children="${I.props.children}"]`);if(me.prevVariants.push(I.props),pe&&(pe===I.props.children?ne.isDefault=!0:I.props.isDefault&&(ne.isDefault=!1)),Object.keys(Ge).includes(I.props.children)){const{currentVariant:da,...gt}=Ge[I.props.children];ne={...ne,...gt}}return vt.has(I.props.children)?(me.deletedVariants.push(I.props),!1):(Object.keys(ne).length>0&&me.updatedVariants.push({...I.props,...ne,variantItem:Ye,prevVariant:{...I.props}}),me.variants.push({...I.props,...ne,variantItem:Ye}),t.cloneElement(I,ne))}))),typeof u=="function"&&u(ue(a,me)),a.defaultPrevented||i()},H=t.useCallback(a=>{N.current.showAt(a.target)},[N]),le=y.getText(nt),R=y.getText(Rt),se=y.getText(qt),rt=y.getText(Be),ot=y.getText(jt),Le=y.getText(Pt),dt=ye(m.container,w&&m.disabled,S),ut=ye(m.dirtyState,J!=="*"&&m.dirtyStateText),fe=t.useRef();t.useEffect(()=>{fe.current&&typeof P=="function"&&(P(ue(fe.current,{selectedVariant:r})),fe.current=void 0)},[r,P]),t.useEffect(()=>{const a=h.find(c=>t.isValidElement(c)&&c.props.children===(r==null?void 0:r.children));L((a==null?void 0:a.props.saveViewInputProps)??{})},[r,h]);const ct=a=>{M({...a.detail.selectedItems[0].dataset,variantItem:a.detail.selectedItems[0]}),fe.current=a,d&&ie()},He=h.map(a=>{var c;return t.isValidElement(a)&&typeof((c=a.props)==null?void 0:c.children)=="string"?a.props.children:""}),[he,Ue]=t.useState(void 0);t.useEffect(()=>{p&&Ue(h.filter(a=>t.isValidElement(a)&&(a.props.favorite||a.props.isDefault))),!p&&(he==null?void 0:he.length)>0&&Ue(void 0)},[p,h]);const ce=he??h,pt=ce.length>10,[We,$e]=t.useState(void 0),[ze,mt]=t.useState(""),ft=a=>{mt(a.target.value),$e(ce.filter(c=>{var pe;return typeof((pe=c==null?void 0:c.props)==null?void 0:pe.children)=="string"&&c.props.children.toLowerCase().includes(a.target.value.toLowerCase())}))};t.useEffect(()=>{We&&$e(ce.filter(a=>{var c;return typeof((c=a==null?void 0:a.props)==null?void 0:c.children)=="string"&&a.props.children.toLowerCase().includes(ze)}))},[ce]);const ht=ke(),ve=f&&!(r!=null&&r.readOnly);return e.jsx("div",{className:dt,style:W,...G,ref:T,children:e.jsxs(st.Provider,{value:{selectVariantItem:M},children:[e.jsxs(Ve,{onClick:w?void 0:H,children:[e.jsx(Qt,{level:j,className:m.title,children:r==null?void 0:r.children}),f&&e.jsx("div",{className:ut,children:J})]}),e.jsx(ee,{className:ye(m.navDownBtn,"ui5-content-density-compact"),tooltip:Le,accessibleName:Le,onClick:w?void 0:H,design:U.Transparent,icon:Vt,disabled:w}),ht?Re.createPortal(e.jsx(Xt,{className:m.popover,ref:N,headerText:x,placementType:q,footer:(ve||!K||!$)&&e.jsx(Oe,{design:Fe.Footer,className:m.footer,endContent:e.jsxs(e.Fragment,{children:[!l&&ve&&e.jsx(ee,{onClick:C,design:U.Emphasized,children:rt}),!l&&!K&&e.jsx(ee,{onClick:V,design:ve?U.Transparent:U.Emphasized,disabled:!r||Object.keys(r).length===0,children:R}),!l&&!$&&e.jsx(ee,{onClick:de,design:ve||!K?U.Transparent:U.Emphasized,children:se})]})}),onAfterClose:kt,children:l?e.jsx(Yt,{name:Zt.UnableToLoad}):e.jsx(ea,{onSelectionChange:ct,mode:ta.SingleSelect,header:pt?e.jsx("div",{className:m.searchInputContainer,tabIndex:-1,children:e.jsx(Se,{className:m.searchInput,accessibleName:ot,value:ze,placeholder:le,onInput:ft,showClearIcon:!0,icon:e.jsx(we,{name:Xe,className:m.inputIcon})})}):void 0,children:We??ce})}),E??document.body):null,te&&e.jsx(De,{onAfterClose:i,onManageViewsCancel:z,handleSaveManageViews:v,showShare:!A,showApplyAutomatically:!B,showCreatedBy:!k,showSetAsDefault:!Y,variantNames:He,portalContainer:E,showOnlyFavorites:p,children:h}),Z&&e.jsx(Ee,{onSaveViewCancel:Q,saveViewInputProps:ae,portalContainer:E,showShare:!A,showApplyAutomatically:!B,showSetAsDefault:!Y,onAfterClose:n,handleSave:s,selectedVariant:r,variantNames:He})]})})});Ne.displayName="VariantManagement";try{Ne.displayName="VariantManagement",Ne.__docgenInfo={description:"The `VariantManagement` component can be used to manage variants, such as FilterBar variants or AnalyticalTable variants.",displayName:"VariantManagement",props:{children:{defaultValue:null,description:"Variant items displayed by the VariantManagement component.\n\n__Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `VariantItem` in order to preserve the intended design.",name:"children",required:!1,type:{name:"ReactNode | ReactNode[]"}},placement:{defaultValue:null,description:"Determines on which side the VariantManagement popover is placed at.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"Left"'},{value:'"Right"'},{value:'"Top"'},{value:'"Bottom"'},{value:'"Left"'},{value:'"Right"'},{value:'"Top"'},{value:'"Bottom"'}]}},titleText:{defaultValue:null,description:`Describes the title of the VariantManagement popover.

__Note:__ If not set, the default title is used.`,name:"titleText",required:!1,type:{name:"string"}},closeOnItemSelect:{defaultValue:null,description:"Defines whether the VariantManagement should be closed if an item was selected.",name:"closeOnItemSelect",required:!1,type:{name:"boolean"}},level:{defaultValue:null,description:"Describes the `HTML Title` level of the variants.",name:"level",required:!1,type:{name:"enum",value:[{value:'"H1"'},{value:'"H2"'},{value:'"H3"'},{value:'"H4"'},{value:'"H5"'},{value:'"H6"'},{value:'"H1"'},{value:'"H2"'},{value:'"H3"'},{value:'"H4"'},{value:'"H5"'},{value:'"H6"'}]}},disabled:{defaultValue:null,description:"Defines whether the VariantManagement is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},dirtyState:{defaultValue:null,description:"Indicator for modified but not saved variants.\n\n__Note:__ You can change the indicator by setting `dirtyStateText`.",name:"dirtyState",required:!1,type:{name:"boolean"}},dirtyStateText:{defaultValue:null,description:"Text for the dirty state indicator.",name:"dirtyStateText",required:!1,type:{name:"string"}},showOnlyFavorites:{defaultValue:null,description:"Indicates that the 'Favorites' feature is used. Only variants marked as favorites will be displayed in the variant list.\n\n__Note:__ Only if `showOnlyFavorites` is set to `true` favorites can be changed.",name:"showOnlyFavorites",required:!1,type:{name:"boolean"}},hideSetAsDefault:{defaultValue:null,description:"Indicates that set as default is visible in the Save View and the Manage Views dialogs.",name:"hideSetAsDefault",required:!1,type:{name:"boolean"}},hideShare:{defaultValue:null,description:"Indicates that the Public indicator is visible in the Save View and the Manage Views dialogs.",name:"hideShare",required:!1,type:{name:"boolean"}},hideApplyAutomatically:{defaultValue:null,description:"Indicates that Apply Automatically is visible in the Save View and the Manage Views dialogs.",name:"hideApplyAutomatically",required:!1,type:{name:"boolean"}},hideCreatedBy:{defaultValue:null,description:"Indicates that the Author is visible in the Manage Views dialog.",name:"hideCreatedBy",required:!1,type:{name:"boolean"}},hideSaveAs:{defaultValue:null,description:"Indicates that the Save View dialog button is visible.",name:"hideSaveAs",required:!1,type:{name:"boolean"}},hideManageVariants:{defaultValue:null,description:"Indicates that the Manage Views dialog button is visible.",name:"hideManageVariants",required:!1,type:{name:"boolean"}},inErrorState:{defaultValue:null,description:"Indicates that the control is in error state. If set to true error message will be displayed whenever the variant is opened.",name:"inErrorState",required:!1,type:{name:"boolean"}},portalContainer:{defaultValue:null,description:"Defines where modals are rendered into via `React.createPortal`.\n\nYou can find out more about this [here](https://sap.github.io/ui5-webcomponents-react/?path=/docs/knowledge-base-working-with-portals--page).\n\nDefaults to: `document.body`",name:"portalContainer",required:!1,type:{name:"Element"}},onSelect:{defaultValue:null,description:"Fired after a variant has been selected.\n\n__Note:__ This event inherits part of its details from the `onSelectionChange` event of the `List` component.",name:"onSelect",required:!1,type:{name:"(event: Ui5CustomEvent<ListDomRef, ListSelectionChangeEventDetail & { selectedVariant: SelectedVariant; }>) => void"}},onSaveAs:{defaultValue:null,description:'The event is fired when the "Save" button is clicked inside the Save View dialog.\n\n__Note:__ Calling `event.preventDefault()` prevents the dialog from closing when clicked.',name:"onSaveAs",required:!1,type:{name:"(e: MouseEvent<ButtonDomRef, MouseEvent> & { detail: SelectedVariant; }) => void"}},onSaveManageViews:{defaultValue:null,description:'The event is fired when the "Save" button is clicked inside the Manage Views dialog.\n\n__Note:__ Calling `event.preventDefault()` prevents the dialog from closing when clicked.',name:"onSaveManageViews",required:!1,type:{name:"(e: MouseEvent<ButtonDomRef, MouseEvent> & { detail: { deletedVariants: VariantItemPropTypes[]; prevVariants: VariantItemPropTypes[]; updatedVariants: UpdatedVariant[]; variants: SelectedVariant[]; }; }) => void"}},onSave:{defaultValue:null,description:'The event is fired when the "Save" button is clicked in the `VariantManagement` popover.\n\n__Note:__ The save button is only displayed if the `VariantManagement` is in `dirtyState` and the selected variant is not in `readOnly` mode.',name:"onSave",required:!1,type:{name:"(e: MouseEvent<ButtonDomRef, MouseEvent> & { detail: SelectedVariant; }) => void"}},onManageViewsCancel:{defaultValue:null,description:'The event is fired when the "Cancel" button inside the Manage Views dialog is clicked or ESCAPE is pressed.',name:"onManageViewsCancel",required:!1,type:{name:"(e: (MouseEvent<ButtonDomRef, MouseEvent> | Ui5CustomEvent<DialogDomRef, PopupBeforeCloseEventDetail>) & { ...; }) => void"}},onSaveViewCancel:{defaultValue:null,description:'The event is fired when the "Cancel" button inside the Save View dialog is clicked or ESCAPE is pressed.',name:"onSaveViewCancel",required:!1,type:{name:"(e: (MouseEvent<ButtonDomRef, MouseEvent> | Ui5CustomEvent<DialogDomRef, PopupBeforeCloseEventDetail>) & { ...; }) => void"}},style:{defaultValue:null,description:`Element style which will be appended to the most outer element of a component.
Use this prop carefully, some css properties might break the component.`,name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:`CSS Class Name which will be appended to the most outer element of a component.
Use this prop carefully, overwriting CSS rules might break the component.`,name:"className",required:!1,type:{name:"string"}}}}}catch{}const Me=t.forwardRef((o,T)=>{const{isDefault:y,author:x,favorite:S,global:W,labelReadOnly:q,applyAutomatically:j,applyAutomaticallyText:P,readOnly:d,selected:w,children:_,hideDelete:u}=o,{selectVariantItem:p}=t.useContext(st),[l,A]=Bt(T);t.useEffect(()=>{w&&p({...o,variantItem:A.current})},[w]);const{manageViewsInputProps:D,saveViewInputProps:$,...B}=o;return e.jsx(aa,{...B,ref:l,"data-is-default":y,"data-author":x,"data-favorite":S,"data-global":W,"data-label-read-only":q,"data-apply-automatically":j,"data-apply-automatically-text":P,"data-read-only":d,"data-children":_,"data-hide-delete":u})});Me.displayName="VariantItem";try{Me.displayName="VariantItem",Me.__docgenInfo={description:"The `VariantItem` describes a variant/view of the `VariantManagement` component.",displayName:"VariantItem",props:{children:{defaultValue:null,description:"The name of the variant.",name:"children",required:!0,type:{name:"string"}},author:{defaultValue:null,description:"Author of the variant.",name:"author",required:!1,type:{name:"string"}},favorite:{defaultValue:null,description:"Indicates if favorites can be created.\n\n__Note:__ Has no effect if `showOnlyFavorites` is falsy in the `VariantMangament`.",name:"favorite",required:!1,type:{name:"boolean"}},global:{defaultValue:null,description:"Indicator if a variant is visible for all users (public flag is set).",name:"global",required:!1,type:{name:"boolean"}},isDefault:{defaultValue:null,description:"Indicator if it's the default variant.",name:"isDefault",required:!1,type:{name:"boolean"}},labelReadOnly:{defaultValue:null,description:"Indicates if the variant title can be changed.",name:"labelReadOnly",required:!1,type:{name:"boolean"}},applyAutomatically:{defaultValue:null,description:"Indicates if the variant should be applied automatically on selection.",name:"applyAutomatically",required:!1,type:{name:"boolean"}},applyAutomaticallyText:{defaultValue:null,description:'Text displayed next to the "Apply Automatically" checkbox inside the "Manage Views" dialog.',name:"applyAutomaticallyText",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:'If set to false, the user is allowed to change the item\'s data.\n\n__Note:__ When set to true, no "Save" button will be displayed for the `VariantItem` when the `VariantManagement` is in `dirtyState`.',name:"readOnly",required:!1,type:{name:"boolean"}},hideDelete:{defaultValue:null,description:"Indicates if the variant can be deleted.\n\n__Note:__ If not set, a delete button is shown for all variants except for variants with `global={true}`.",name:"hideDelete",required:!1,type:{name:"boolean"}},manageViewsInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Manage Views" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"manageViewsInputProps",required:!1,type:{name:'Omit<InputPropTypes, "value">'}},saveViewInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Save View" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"saveViewInputProps",required:!1,type:{name:'Omit<InputPropTypes, "id" | "value">'}},selected:{defaultValue:null,description:"Defines the selected state of the `ListItem`.",name:"selected",required:!1,type:{name:"boolean"}},accessibleName:{defaultValue:null,description:"Defines the text alternative of the component. Note: If not provided a default text alternative will be set, if present.",name:"accessibleName",required:!1,type:{name:"string"}}}}}catch{}export{Me as V,Ne as a};
//# sourceMappingURL=VariantItem-79d45221.js.map
