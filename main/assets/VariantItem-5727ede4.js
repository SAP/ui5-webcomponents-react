import{j as e}from"./jsx-runtime-d079401a.js";import"./UnableToLoad-d38caa94.js";import{n as ft}from"./navigation-down-arrow-1994eedb.js";import{s as Qe}from"./search-560fb697.js";import{T as b}from"./ThemingParameters-7e2e4e30.js";import{e as ye}from"./index-99d317a4.js";import{c as ve}from"./clsx-1229b3e0.js";import{r as t,R as Ye}from"./index-f1f2c4b1.js";import{r as qe}from"./index-b42968db.js";import{c as Me}from"./react-jss.esm-2e5f50f2.js";import{u as xe,V as Xe,b as Ze,c as et,d as yt,M as vt,e as gt,D as Vt,f as Re,g as wt,U as xt,h as je,C as tt,i as Pe,j as St,k as bt,l as It,m as Tt,n as at,o as _t,p as Ct,q as At,r as Dt,s as Nt,t as Et,v as qt}from"./i18n-defaults-a506bd94.js";import{h as ke,u as Mt}from"./withWebComponent-7d7e5133.js";import{s as Rt}from"./stopPropagation-da74d54e.js";import{F as Ve,b as Ie,c as Te}from"./index-fb6e8b5e.js";import{i as jt,d as Pt}from"./Device-6afa24d0.js";import{B as Oe}from"./index-cb09ba84.js";import{B as X}from"./index-6d255f71.js";import{D as nt}from"./index-d220d257.js";import{b as kt,c as oe,T as Ot,a as de}from"./index-662a390a.js";import{d as Bt}from"./decline-d1fe7fdd.js";import{f as be}from"./favorite-cc7e741d.js";import{u as Ft}from"./unfavorite-35561551.js";import{t as _e}from"./utils-626dc1bf.js";import{T as Ke}from"./index-743fc8f1.js";import{R as Lt}from"./index-92e5ca8d.js";import{C as ge}from"./index-310bf27d.js";import{I as we}from"./index-ebb11e50.js";import{B}from"./Button-6bb9ed58.js";import{I as Se}from"./index-fec5b81f.js";import{V as Je}from"./ValueState-ab6838cc.js";import{B as Be}from"./Bar-86528487.js";import{L as Ht}from"./index-b70bd0f1.js";import{u as Wt}from"./useIsomorphicId-ed1d334d.js";import{I as Ut}from"./index-52a76918.js";import{a as zt}from"./Popover-8ece70a3.js";import{T as $t}from"./Title-e46bbbf5.js";import{T as Gt}from"./index-fc8f8559.js";import{R as Yt}from"./index-9bf5b0e2.js";import{I as Kt}from"./IllustratedMessage-9b3a4d82.js";import{L as Jt}from"./index-7aa3f979.js";import{a as Qt}from"./ListItemBase-c655abbb.js";import{S as Xt}from"./index-75b64e46.js";const it=t.createContext({selectVariantItem:r=>{}}),Ce=r=>{const{variantNames:M,changedVariantNames:f,setChangedVariantNames:I,handleRowChange:V,handleDelete:F,defaultView:R,setDefaultView:j,showShare:P,showApplyAutomatically:s,showSetAsDefault:g,showCreatedBy:d,labelReadOnly:h,favorite:w,children:n,global:k,isDefault:T,applyAutomatically:L,applyAutomaticallyText:O,author:z,setInvalidVariants:H,hideDelete:W,showOnlyFavorites:$}=r,c=xe("@ui5/webcomponents-react"),G=c.getText(Xe),E=c.getText(Ze),Z=c.getText(et),p=c.getText(yt),_=c.getText(vt),x=c.getText(gt),C=c.getText(Vt),ee=c.getText(Re),Y=c.getText(wt),y=c.getText(xt),te=c.getText(je),[i,K]=t.useReducer(o=>!o,!!w),ae=i?be:Ft,U=t.useRef(void 0),[ie,l]=t.useState(!1),v=o=>{K(),V(o,{currentVariant:n,favorite:!i})},S=o=>{var le,re;typeof((le=r.manageViewsInputProps)==null?void 0:le.onInput)=="function"&&((re=r.manageViewsInputProps)==null||re.onInput(o));const D=_e(o.target.value);M.includes(D)||Array.from(f.values()).includes(D)?(l(G),H(q=>({...q,[`${n}`]:U.current})),V(o,{currentVariant:n,children:D})):D.length===0?(l(E),H(q=>({...q,[n]:U.current})),V(o,{currentVariant:n,children:D})):o.isInvalid?H(q=>({...q,[`${n}`]:U.current})):(l(!1),H(q=>{const se={...q};return q.hasOwnProperty(n)&&delete se[n],se}),V(o,{currentVariant:n,children:D}))},m=o=>{var le,re;typeof((le=r.manageViewsInputProps)==null?void 0:le.onChange)=="function"&&((re=r.manageViewsInputProps)==null||re.onChange(o));const D=_e(o.target.value);I(q=>{const se=new Map(q);return se.set(n,D),se})},A=()=>{j(n)},J=o=>{V(o,{currentVariant:n,applyAutomatically:o.target.checked})},Q=()=>{var o,D;return h?e.jsx(Ke,{style:{fontFamily:T?b.sapFontBoldFamily:b.sapFontFamily},children:n}):e.jsx(Se,{placeholder:te,ref:U,...r.manageViewsInputProps,valueStateMessage:((o=r.manageViewsInputProps)==null?void 0:o.valueStateMessage)??e.jsx("div",{children:ie}),valueState:((D=r.manageViewsInputProps)==null?void 0:D.valueState)??(ie?Je.Error:Je.None),value:n,onInput:S,onChange:m})};return e.jsxs(kt,{"data-id":n,children:[$&&e.jsx(oe,{children:T?e.jsx(we,{name:be,style:{color:b.sapContent_NonInteractiveIconColor}}):e.jsx(we,{accessibleName:_,title:ae===be?Y:y,name:ae,interactive:!0,style:{color:b.sapContent_MarkerIconColor,cursor:"pointer"},onClick:v})}),e.jsx(oe,{children:Q()}),P&&e.jsx(oe,{children:k?Z:p}),g&&e.jsx(oe,{children:e.jsx(Lt,{accessibleName:x,checked:R!==void 0?R===n:T,onChange:A})}),s&&e.jsx(oe,{children:e.jsx(ge,{accessibleName:ee,checked:L,onChange:J,text:O})}),d&&e.jsx(oe,{children:e.jsx(Ke,{children:z})}),e.jsx(oe,{children:!(W??k)&&e.jsx(X,{tooltip:C,accessibleName:C,icon:Bt,design:B.Transparent,onClick:F,"data-children":n})})]},`${n}`)};try{Ce.displayName="ManageViewsTableRows",Ce.__docgenInfo={description:"",displayName:"ManageViewsTableRows",props:{variantNames:{defaultValue:null,description:"",name:"variantNames",required:!0,type:{name:"string[]"}},handleRowChange:{defaultValue:null,description:"",name:"handleRowChange",required:!0,type:{name:"(e: Event, payload: any) => void"}},handleDelete:{defaultValue:null,description:"",name:"handleDelete",required:!0,type:{name:"(e: any) => void"}},defaultView:{defaultValue:null,description:"",name:"defaultView",required:!0,type:{name:"string"}},setDefaultView:{defaultValue:null,description:"",name:"setDefaultView",required:!0,type:{name:"(view: string) => void"}},showShare:{defaultValue:null,description:"",name:"showShare",required:!0,type:{name:"boolean"}},showApplyAutomatically:{defaultValue:null,description:"",name:"showApplyAutomatically",required:!0,type:{name:"boolean"}},showSetAsDefault:{defaultValue:null,description:"",name:"showSetAsDefault",required:!0,type:{name:"boolean"}},showCreatedBy:{defaultValue:null,description:"",name:"showCreatedBy",required:!0,type:{name:"boolean"}},showOnlyFavorites:{defaultValue:null,description:"",name:"showOnlyFavorites",required:!1,type:{name:"boolean"}},changedVariantNames:{defaultValue:null,description:"",name:"changedVariantNames",required:!0,type:{name:"Map<string, any>"}},setChangedVariantNames:{defaultValue:null,description:"",name:"setChangedVariantNames",required:!0,type:{name:"(varNames: any) => void"}},setInvalidVariants:{defaultValue:null,description:"",name:"setInvalidVariants",required:!0,type:{name:"(invalidVars: any) => void"}},children:{defaultValue:null,description:"The name of the variant.",name:"children",required:!0,type:{name:"string"}},author:{defaultValue:null,description:"Author of the variant.",name:"author",required:!1,type:{name:"string"}},favorite:{defaultValue:null,description:"Indicates if favorites can be created.\n\n__Note:__ Has no effect if `showOnlyFavorites` is falsy in the `VariantMangament`.",name:"favorite",required:!1,type:{name:"boolean"}},global:{defaultValue:null,description:"Indicator if a variant is visible for all users (public flag is set).",name:"global",required:!1,type:{name:"boolean"}},isDefault:{defaultValue:null,description:"Indicator if it's the default variant.",name:"isDefault",required:!1,type:{name:"boolean"}},labelReadOnly:{defaultValue:null,description:"Indicates if the variant title can be changed.",name:"labelReadOnly",required:!1,type:{name:"boolean"}},applyAutomatically:{defaultValue:null,description:"Indicates if the variant should be applied automatically on selection.",name:"applyAutomatically",required:!1,type:{name:"boolean"}},applyAutomaticallyText:{defaultValue:null,description:'Text displayed next to the "Apply Automatically" checkbox inside the "Manage Views" dialog.',name:"applyAutomaticallyText",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:'If set to false, the user is allowed to change the item\'s data.\n\n__Note:__ When set to true, no "Save" button will be displayed for the `VariantItem` when the `VariantManagement` is in `dirtyState`.',name:"readOnly",required:!1,type:{name:"boolean"}},hideDelete:{defaultValue:null,description:"Indicates if the variant can be deleted.\n\n__Note:__ If not set, a delete button is shown for all variants except for variants with `global={true}`.",name:"hideDelete",required:!1,type:{name:"boolean"}},manageViewsInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Manage Views" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"manageViewsInputProps",required:!1,type:{name:'Omit<InputPropTypes, "value">'}},saveViewInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Save View" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"saveViewInputProps",required:!1,type:{name:'Omit<InputPropTypes, "id" | "value">'}},selected:{defaultValue:null,description:"Defines the selected state of the `ListItem`.",name:"selected",required:!1,type:{name:"boolean"}},accessibleName:{defaultValue:null,description:"Defines the text alternative of the component. Note: If not provided a default text alternative will be set, if present.",name:"accessibleName",required:!1,type:{name:"string"}}}}}catch{}const Zt={manageViewsDialog:{width:jt()||Pt()?"100%":"70vw","&::part(content), &::part(header)":{padding:0},"&::part(footer)":{padding:0,borderBlockStart:"none"}},headerText:{margin:0,textAlign:"center",alignSelf:"start",minHeight:"var(--_ui5_popup_default_header_height)",maxHeight:"var(--_ui5_popup_default_header_height)",lineHeight:"var(--_ui5_popup_default_header_height)",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",display:"inline-block",paddingInlineStart:"1rem",fontFamily:'"72override",var(--_ui5_popup_header_font_family)',fontSize:"1rem"},search:{width:"calc(100% - 2rem)",marginBlockEnd:"0.5rem"},inputIcon:{cursor:"pointer",color:b.sapContent_IconColor}},ea=Me(Zt,{name:"ManageViewsDialog"}),Ae=r=>{const{children:M,onAfterClose:f,handleSaveManageViews:I,showShare:V,showApplyAutomatically:F,showSetAsDefault:R,showCreatedBy:j,variantNames:P,portalContainer:s,showOnlyFavorites:g}=r,d=xe("@ui5/webcomponents-react"),h=d.getText(tt),w=d.getText(Pe),n=d.getText(je),k=d.getText(St),T=d.getText(bt),L=d.getText(Re),O=d.getText(It),z=d.getText(Tt),H=d.getText(at),[W,$]=t.useState(new Map),[c,G]=t.useState({}),E=ea(),Z=e.jsxs(e.Fragment,{children:[g&&e.jsx(de,{},"favorite-variant-item"),e.jsx(de,{children:n}),V&&e.jsx(de,{demandPopin:!0,minWidth:600,children:k}),R&&e.jsx(de,{demandPopin:!0,minWidth:600,popinText:T,children:T}),F&&e.jsx(de,{demandPopin:!0,minWidth:600,popinText:L,children:L}),j&&e.jsx(de,{demandPopin:!0,minWidth:600,popinText:O,children:O}),e.jsx(de,{},"delete-variant-item")]}),[p,_]=t.useState(t.Children.map(M,l=>Ye.isValidElement(l)?l.props:{}));t.useEffect(()=>{_(t.Children.map(M,l=>Ye.isValidElement(l)?l.props:{}))},[M]);const[x,C]=t.useState(p);t.useEffect(()=>{C(p)},[p]);const[ee,Y]=t.useState(),y=t.useRef({}),te=(l,v)=>{v&&(y.current[v.currentVariant]={...y.current[v.currentVariant]??{},...v})},i=t.useRef(new Set([])),K=l=>{i.current.add(l.target.dataset.children),_(v=>v.filter(S=>S.children!==l.target.dataset.children).map(S=>y.current.hasOwnProperty(S.children)?{...S,...y.current[S.children]}:S))},ae=l=>{Object.keys(c).length===0?I(l,{updatedRows:y.current,defaultView:ee,deletedRows:i.current}):Object.values(c)[0].focus()},U=l=>{const v=l.target.value.toLowerCase();C(p.filter(S=>{var m,A,J,Q;return((A=(m=S.children)==null?void 0:m.toLowerCase())==null?void 0:A.includes(v))||((Q=(J=S.author)==null?void 0:J.toLowerCase())==null?void 0:Q.includes(v))}))};return ke()?qe.createPortal(e.jsx(nt,{open:!0,className:E.manageViewsDialog,"data-component-name":"VariantManagementManageViewsDialog",onAfterClose:f,headerText:z,header:e.jsxs(Ve,{direction:Ie.Column,style:{width:"100%"},alignItems:Te.Center,children:[e.jsx("h2",{className:E.headerText,children:z}),e.jsx(Se,{className:E.search,placeholder:H,showClearIcon:!0,icon:e.jsx(we,{name:Qe,className:E.inputIcon}),onInput:U})]}),resizable:!0,footer:e.jsx(Oe,{design:Be.Footer,endContent:e.jsxs(e.Fragment,{children:[e.jsx(X,{design:B.Emphasized,onClick:ae,children:w}),e.jsx(X,{design:B.Transparent,onClick:f,children:h})]})}),children:e.jsx(Ot,{columns:Z,stickyColumnHeader:!0,role:"table",children:x.map(l=>t.createElement(Ce,{...l,setInvalidVariants:G,setChangedVariantNames:$,changedVariantNames:W,variantNames:P,handleRowChange:te,handleDelete:K,defaultView:ee,setDefaultView:Y,showShare:V,showApplyAutomatically:F,showSetAsDefault:R,showCreatedBy:j,key:l==null?void 0:l.children,showOnlyFavorites:g}))})}),s??document.body):null};try{Ae.displayName="ManageViewsDialog",Ae.__docgenInfo={description:"",displayName:"ManageViewsDialog",props:{onAfterClose:{defaultValue:null,description:"",name:"onAfterClose",required:!0,type:{name:"any"}},handleSaveManageViews:{defaultValue:null,description:"",name:"handleSaveManageViews",required:!0,type:{name:"(e: MouseEventHandler<HTMLElement>, payload: { updatedRows: any; defaultView: string; deletedRows: any; }) => void"}},showShare:{defaultValue:null,description:"",name:"showShare",required:!0,type:{name:"boolean"}},showApplyAutomatically:{defaultValue:null,description:"",name:"showApplyAutomatically",required:!0,type:{name:"boolean"}},showSetAsDefault:{defaultValue:null,description:"",name:"showSetAsDefault",required:!0,type:{name:"boolean"}},showCreatedBy:{defaultValue:null,description:"",name:"showCreatedBy",required:!0,type:{name:"boolean"}},variantNames:{defaultValue:null,description:"",name:"variantNames",required:!0,type:{name:"string[]"}},portalContainer:{defaultValue:null,description:"",name:"portalContainer",required:!0,type:{name:"Element"}},showOnlyFavorites:{defaultValue:null,description:"",name:"showOnlyFavorites",required:!1,type:{name:"boolean"}}}}}catch{}const ta=Me({dialog:{"&::part(footer)":{borderBlockStart:"none",padding:0}},input:{width:"100%",marginBlock:"0.1875rem"},checkBoxesContainer:{paddingInline:"0.5rem"}},{name:"SaveViewDialogStyles"}),De=r=>{const{onAfterClose:M,handleSave:f,selectedVariant:I,showShare:V,showApplyAutomatically:F,showSetAsDefault:R,variantNames:j,portalContainer:P,saveViewInputProps:s}=r,g=t.useRef(null),d=t.useRef(void 0),h=xe("@ui5/webcomponents-react"),w=ta(),n=Wt(),k=h.getText(tt),T=h.getText(Pe),L=h.getText(_t),O=h.getText(Ct),z=h.getText(et),H=h.getText(Re),W=h.getText(je),$=h.getText(Xe),c=h.getText(Ze),[G,E]=t.useState(I.isDefault),[Z,p]=t.useState(I.global),[_,x]=t.useState(I.applyAutomatically),[C,ee]=t.useState(I.children),[Y,y]=t.useState(!1),[te,i]=t.useState(!1),K=m=>{typeof(s==null?void 0:s.onInput)=="function"&&s.onInput(m);const A=_e(m.target.value);ee(A),j.includes(A)?y($):A.length===0?y(c):m.isInvalid?i(!0):(y(!1),i(!1))},ae=m=>{var A,J,Q;j.includes(C)?(y($),(A=d.current)==null||A.focus()):C.length===0?(y(c),(J=d.current)==null||J.focus()):te?(Q=d.current)==null||Q.focus():(y(!1),f(m,{...I,children:C,isDefault:G,global:Z,applyAutomatically:_}))},U=()=>{g.current.close()},ie=m=>{E(m.target.checked)},l=m=>{p(m.target.checked)},v=m=>{x(m.target.checked)};return ke()?qe.createPortal(e.jsx(nt,{open:!0,className:w.dialog,ref:g,headerText:L,onAfterClose:M,footer:e.jsx(Oe,{design:Be.Footer,endContent:e.jsxs(e.Fragment,{children:[e.jsx(X,{design:B.Emphasized,onClick:ae,children:T}),e.jsx(X,{design:B.Transparent,onClick:U,children:k})]})}),children:e.jsxs(Ve,{direction:Ie.Column,alignItems:Te.Start,children:[e.jsx(Ht,{for:`view-${n}`,showColon:!0,children:W}),e.jsx(Se,{accessibleName:W,ref:d,...s,valueState:(s==null?void 0:s.valueState)??(Y?"Error":"None"),valueStateMessage:(s==null?void 0:s.valueStateMessage)??e.jsx("div",{children:Y}),className:ve(w.input,s==null?void 0:s.className),id:`view-${n}`,value:C,onInput:K}),e.jsxs(Ve,{alignItems:Te.Start,direction:Ie.Column,className:w.checkBoxesContainer,children:[R&&e.jsx(ge,{onChange:ie,text:O,checked:G}),V&&e.jsx(ge,{onChange:l,text:z,checked:Z}),F&&e.jsx(ge,{onChange:v,text:H,checked:_})]})]})}),P??document.body):null};try{De.displayName="SaveViewDialog",De.__docgenInfo={description:"",displayName:"SaveViewDialog",props:{onAfterClose:{defaultValue:null,description:"",name:"onAfterClose",required:!0,type:{name:"(event: Ui5CustomEvent<DialogDomRef, never>) => void"}},handleSave:{defaultValue:null,description:"",name:"handleSave",required:!0,type:{name:"(event: Ui5CustomEvent<ButtonDomRef, never>, selectedVariant: SelectedVariant) => void"}},selectedVariant:{defaultValue:null,description:"",name:"selectedVariant",required:!0,type:{name:"SelectedVariant"}},showShare:{defaultValue:null,description:"",name:"showShare",required:!0,type:{name:"boolean"}},showApplyAutomatically:{defaultValue:null,description:"",name:"showApplyAutomatically",required:!0,type:{name:"boolean"}},showSetAsDefault:{defaultValue:null,description:"",name:"showSetAsDefault",required:!0,type:{name:"boolean"}},variantNames:{defaultValue:null,description:"",name:"variantNames",required:!0,type:{name:"string[]"}},portalContainer:{defaultValue:null,description:"",name:"portalContainer",required:!0,type:{name:"Element"}},saveViewInputProps:{defaultValue:null,description:"",name:"saveViewInputProps",required:!1,type:{name:'Omit<InputPropTypes, "value">'}}}}}catch{}const aa={container:{display:"flex",alignItems:"center",textAlign:"center"},title:{cursor:"pointer",color:b.sapLinkColor,textShadow:"none","&:hover":{color:b.sapLink_Hover_Color},"&:active":{color:b.sapLink_Active_Color}},disabled:{"& $title":{color:b.sapGroup_TitleTextColor,cursor:"default","&:hover":{color:"ThemingParameters.sapGroup_TitleTextColor"}}},dirtyState:{color:b.sapGroup_TitleTextColor,paddingInline:"0.125rem",fontWeight:"bold",font:b.sapFontFamily,fontSize:b.sapFontSize,flexGrow:1},dirtyStateText:{fontSize:b.sapFontSmallSize,fontWeight:"normal"},navDownBtn:{marginInlineStart:"0.125rem"},footer:{"& > :last-child":{marginInlineEnd:0}},inputIcon:{cursor:"pointer",color:b.sapContent_IconColor},searchInputContainer:{padding:"0.25rem 1rem"},searchInput:{width:"100%"},popover:{minWidth:"25rem","&::part(content), &::part(footer)":{padding:0},"&::part(footer)":{borderBlockStart:"none"}}},na=Me(aa,{name:"VariantManagement"}),Ne=t.forwardRef((r,M)=>{const f=xe("@ui5/webcomponents-react"),{titleText:I=f.getText(At),className:V,style:F,placement:R=zt.Bottom,level:j=$t.H4,onSelect:P,closeOnItemSelect:s,disabled:g,onSaveAs:d,onSaveManageViews:h,showOnlyFavorites:w,inErrorState:n,hideShare:k,children:T,hideManageVariants:L,hideApplyAutomatically:O,hideSetAsDefault:z,hideCreatedBy:H,hideSaveAs:W,dirtyStateText:$="*",dirtyState:c,onSave:G,portalContainer:E,...Z}=r,p=na(),_=t.useRef(null),[x,C]=t.useState(t.Children.toArray(T));t.useEffect(()=>{C(t.Children.toArray(T))},[T]);const[ee,Y]=t.useState(!1),[y,te]=t.useState(!1),[i,K]=t.useState(()=>{const a=x.find(u=>t.isValidElement(u)&&u.props.selected);if(a)return{...a.props,variantItem:a.ref}}),[ae,U]=t.useState((i==null?void 0:i.saveViewInputProps)??{}),ie=()=>{_.current.close()},l=()=>{Y(!0)},v=()=>{Y(!1)},S=()=>{te(!0)},m=()=>{te(!1)},A=a=>{typeof G=="function"&&G(ye(a,i))},J=(a,u)=>{typeof d=="function"&&d(ye(a,u)),K(u),a.defaultPrevented||m()},Q=(a,u)=>{const{defaultView:ce,updatedRows:$e,deletedRows:pt}=u,pe={deletedVariants:[],prevVariants:[],updatedVariants:[],variants:[]};C(mt=>t.Children.toArray(mt.map(N=>{if(!t.isValidElement(N))return!1;let ne={};const Ge=_.current.querySelector(`ui5-li[data-children="${N.props.children}"]`);if(pe.prevVariants.push(N.props),ce&&(ce===N.props.children?ne.isDefault=!0:N.props.isDefault&&(ne.isDefault=!1)),Object.keys($e).includes(N.props.children)){const{currentVariant:ia,...ht}=$e[N.props.children];ne={...ne,...ht}}return pt.has(N.props.children)?(pe.deletedVariants.push(N.props),!1):(Object.keys(ne).length>0&&pe.updatedVariants.push({...N.props,...ne,variantItem:Ge,prevVariant:{...N.props}}),pe.variants.push({...N.props,...ne,variantItem:Ge}),t.cloneElement(N,ne))}))),typeof h=="function"&&h(ye(a,pe)),a.defaultPrevented||v()},o=t.useCallback(a=>{_.current.showAt(a.target)},[_]),D=f.getText(at),le=f.getText(Dt),re=f.getText(Nt),q=f.getText(Pe),se=f.getText(Et),Fe=f.getText(qt),lt=ve(p.container,g&&p.disabled,V),rt=ve(p.dirtyState,$!=="*"&&p.dirtyStateText),me=t.useRef();t.useEffect(()=>{me.current&&typeof P=="function"&&(P(ye(me.current,{selectedVariant:i})),me.current=void 0)},[i,P]),t.useEffect(()=>{const a=x.find(u=>t.isValidElement(u)&&u.props.children===(i==null?void 0:i.children));U((a==null?void 0:a.props.saveViewInputProps)??{})},[i,x]);const st=a=>{K({...a.detail.selectedItems[0].dataset,variantItem:a.detail.selectedItems[0]}),me.current=a,s&&ie()},Le=x.map(a=>{var u;return t.isValidElement(a)&&typeof((u=a.props)==null?void 0:u.children)=="string"?a.props.children:""}),[he,He]=t.useState(void 0);t.useEffect(()=>{w&&He(x.filter(a=>t.isValidElement(a)&&(a.props.favorite||a.props.isDefault))),!w&&(he==null?void 0:he.length)>0&&He(void 0)},[w,x]);const ue=he??x,ot=ue.length>10,[We,Ue]=t.useState(void 0),[ze,dt]=t.useState(""),ut=a=>{dt(a.target.value),Ue(ue.filter(u=>{var ce;return typeof((ce=u==null?void 0:u.props)==null?void 0:ce.children)=="string"&&u.props.children.toLowerCase().includes(a.target.value.toLowerCase())}))};t.useEffect(()=>{We&&Ue(ue.filter(a=>{var u;return typeof((u=a==null?void 0:a.props)==null?void 0:u.children)=="string"&&a.props.children.toLowerCase().includes(ze)}))},[ue]);const ct=ke(),fe=c&&!(i!=null&&i.readOnly);return e.jsx("div",{className:lt,style:F,...Z,ref:M,children:e.jsxs(it.Provider,{value:{selectVariantItem:K},children:[e.jsxs(Ve,{onClick:g?void 0:o,children:[e.jsx(Gt,{level:j,className:p.title,children:i==null?void 0:i.children}),c&&e.jsx("div",{className:rt,children:$})]}),e.jsx(X,{className:ve(p.navDownBtn,"ui5-content-density-compact"),tooltip:Fe,accessibleName:Fe,onClick:g?void 0:o,design:B.Transparent,icon:ft,disabled:g}),ct?qe.createPortal(e.jsx(Yt,{className:p.popover,ref:_,headerText:I,placementType:R,footer:(fe||!W||!L)&&e.jsx(Oe,{design:Be.Footer,className:p.footer,endContent:e.jsxs(e.Fragment,{children:[!n&&fe&&e.jsx(X,{onClick:A,design:B.Emphasized,children:q}),!n&&!W&&e.jsx(X,{onClick:S,design:fe?B.Transparent:B.Emphasized,disabled:!i||Object.keys(i).length===0,children:le}),!n&&!L&&e.jsx(X,{onClick:l,design:fe||!W?B.Transparent:B.Emphasized,children:re})]})}),onAfterClose:Rt,children:n?e.jsx(Ut,{name:Kt.UnableToLoad}):e.jsx(Jt,{onSelectionChange:st,mode:Qt.SingleSelect,header:ot?e.jsx("div",{className:p.searchInputContainer,tabIndex:-1,children:e.jsx(Se,{className:p.searchInput,accessibleName:se,value:ze,placeholder:D,onInput:ut,showClearIcon:!0,icon:e.jsx(we,{name:Qe,className:p.inputIcon})})}):void 0,children:We??ue})}),E??document.body):null,ee&&e.jsx(Ae,{onAfterClose:v,handleSaveManageViews:Q,showShare:!k,showApplyAutomatically:!O,showCreatedBy:!H,showSetAsDefault:!z,variantNames:Le,portalContainer:E,showOnlyFavorites:w,children:x}),y&&e.jsx(De,{saveViewInputProps:ae,portalContainer:E,showShare:!k,showApplyAutomatically:!O,showSetAsDefault:!z,onAfterClose:m,handleSave:J,selectedVariant:i,variantNames:Le})]})})});Ne.displayName="VariantManagement";try{Ne.displayName="VariantManagement",Ne.__docgenInfo={description:"The `VariantManagement` component can be used to manage variants, such as FilterBar variants or AnalyticalTable variants.",displayName:"VariantManagement",props:{children:{defaultValue:null,description:"Variant items displayed by the VariantManagement component.\n\n__Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `VariantItem` in order to preserve the intended design.",name:"children",required:!1,type:{name:"ReactNode | ReactNode[]"}},placement:{defaultValue:null,description:"Determines on which side the VariantManagement popover is placed at.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"Left"'},{value:'"Right"'},{value:'"Left"'},{value:'"Right"'},{value:'"Top"'},{value:'"Bottom"'},{value:'"Top"'},{value:'"Bottom"'}]}},titleText:{defaultValue:null,description:`Describes the title of the VariantManagement popover.

__Note:__ If not set, the default title is used.`,name:"titleText",required:!1,type:{name:"string"}},closeOnItemSelect:{defaultValue:null,description:"Defines whether the VariantManagement should be closed if an item was selected.",name:"closeOnItemSelect",required:!1,type:{name:"boolean"}},level:{defaultValue:null,description:"Describes the `HTML Title` level of the variants.",name:"level",required:!1,type:{name:"enum",value:[{value:'"H1"'},{value:'"H2"'},{value:'"H3"'},{value:'"H4"'},{value:'"H5"'},{value:'"H6"'},{value:'"H1"'},{value:'"H2"'},{value:'"H3"'},{value:'"H4"'},{value:'"H5"'},{value:'"H6"'}]}},disabled:{defaultValue:null,description:"Defines whether the VariantManagement is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},dirtyState:{defaultValue:null,description:"Indicator for modified but not saved variants.\n\n__Note:__ You can change the indicator by setting `dirtyStateText`.",name:"dirtyState",required:!1,type:{name:"boolean"}},dirtyStateText:{defaultValue:null,description:"Text for the dirty state indicator.",name:"dirtyStateText",required:!1,type:{name:"string"}},showOnlyFavorites:{defaultValue:null,description:"Indicates that the 'Favorites' feature is used. Only variants marked as favorites will be displayed in the variant list.\n\n__Note:__ Only if `showOnlyFavorites` is set to `true` favorites can be changed.",name:"showOnlyFavorites",required:!1,type:{name:"boolean"}},hideSetAsDefault:{defaultValue:null,description:"Indicates that set as default is visible in the Save View and the Manage Views dialogs.",name:"hideSetAsDefault",required:!1,type:{name:"boolean"}},hideShare:{defaultValue:null,description:"Indicates that the Public indicator is visible in the Save View and the Manage Views dialogs.",name:"hideShare",required:!1,type:{name:"boolean"}},hideApplyAutomatically:{defaultValue:null,description:"Indicates that Apply Automatically is visible in the Save View and the Manage Views dialogs.",name:"hideApplyAutomatically",required:!1,type:{name:"boolean"}},hideCreatedBy:{defaultValue:null,description:"Indicates that the Author is visible in the Manage Views dialog.",name:"hideCreatedBy",required:!1,type:{name:"boolean"}},hideSaveAs:{defaultValue:null,description:"Indicates that the Save View dialog button is visible.",name:"hideSaveAs",required:!1,type:{name:"boolean"}},hideManageVariants:{defaultValue:null,description:"Indicates that the Manage Views dialog button is visible.",name:"hideManageVariants",required:!1,type:{name:"boolean"}},inErrorState:{defaultValue:null,description:"Indicates that the control is in error state. If set to true error message will be displayed whenever the variant is opened.",name:"inErrorState",required:!1,type:{name:"boolean"}},portalContainer:{defaultValue:null,description:"Defines where modals are rendered into via `React.createPortal`.\n\nYou can find out more about this [here](https://sap.github.io/ui5-webcomponents-react/?path=/docs/knowledge-base-working-with-portals--page).\n\nDefaults to: `document.body`",name:"portalContainer",required:!1,type:{name:"Element"}},onSelect:{defaultValue:null,description:"Fired after a variant has been selected.\n\n__Note:__ This event inherits part of its details from the `onSelectionChange` event of the `List` component.",name:"onSelect",required:!1,type:{name:"(event: Ui5CustomEvent<ListDomRef, ListSelectionChangeEventDetail & { selectedVariant: SelectedVariant; }>) => void"}},onSaveAs:{defaultValue:null,description:'The event is fired when the "Save" button is clicked inside the Save View dialog.\n\n__Note:__ Calling `event.preventDefault()` prevents the dialog from closing when clicked.',name:"onSaveAs",required:!1,type:{name:"(e: MouseEvent<ButtonDomRef, MouseEvent> & { detail: SelectedVariant; }) => void"}},onSaveManageViews:{defaultValue:null,description:'The event is fired when the "Save" button is clicked inside the Manage Views dialog.\n\n__Note:__ Calling `event.preventDefault()` prevents the dialog from closing when clicked.',name:"onSaveManageViews",required:!1,type:{name:"(e: MouseEvent<ButtonDomRef, MouseEvent> & { detail: { deletedVariants: VariantItemPropTypes[]; prevVariants: VariantItemPropTypes[]; updatedVariants: UpdatedVariant[]; variants: SelectedVariant[]; }; }) => void"}},onSave:{defaultValue:null,description:'The event is fired when the "Save" button is clicked in the `VariantManagement` popover.\n\n__Note:__ The save button is only displayed if the `VariantManagement` is in `dirtyState` and the selected variant is not in `readOnly` mode.',name:"onSave",required:!1,type:{name:"(e: MouseEvent<ButtonDomRef, MouseEvent> & { detail: SelectedVariant; }) => void"}},style:{defaultValue:null,description:`Element style which will be appended to the most outer element of a component.
Use this prop carefully, some css properties might break the component.`,name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:`CSS Class Name which will be appended to the most outer element of a component.
Use this prop carefully, overwriting CSS rules might break the component.`,name:"className",required:!1,type:{name:"string"}}}}}catch{}const Ee=t.forwardRef((r,M)=>{const{isDefault:f,author:I,favorite:V,global:F,labelReadOnly:R,applyAutomatically:j,applyAutomaticallyText:P,readOnly:s,selected:g,children:d,hideDelete:h}=r,{selectVariantItem:w}=t.useContext(it),[n,k]=Mt(M);t.useEffect(()=>{g&&w({...r,variantItem:k.current})},[g]);const{manageViewsInputProps:T,saveViewInputProps:L,...O}=r;return e.jsx(Xt,{...O,ref:n,"data-is-default":f,"data-author":I,"data-favorite":V,"data-global":F,"data-label-read-only":R,"data-apply-automatically":j,"data-apply-automatically-text":P,"data-read-only":s,"data-children":d,"data-hide-delete":h})});Ee.displayName="VariantItem";try{Ee.displayName="VariantItem",Ee.__docgenInfo={description:"The `VariantItem` describes a variant/view of the `VariantManagement` component.",displayName:"VariantItem",props:{children:{defaultValue:null,description:"The name of the variant.",name:"children",required:!0,type:{name:"string"}},author:{defaultValue:null,description:"Author of the variant.",name:"author",required:!1,type:{name:"string"}},favorite:{defaultValue:null,description:"Indicates if favorites can be created.\n\n__Note:__ Has no effect if `showOnlyFavorites` is falsy in the `VariantMangament`.",name:"favorite",required:!1,type:{name:"boolean"}},global:{defaultValue:null,description:"Indicator if a variant is visible for all users (public flag is set).",name:"global",required:!1,type:{name:"boolean"}},isDefault:{defaultValue:null,description:"Indicator if it's the default variant.",name:"isDefault",required:!1,type:{name:"boolean"}},labelReadOnly:{defaultValue:null,description:"Indicates if the variant title can be changed.",name:"labelReadOnly",required:!1,type:{name:"boolean"}},applyAutomatically:{defaultValue:null,description:"Indicates if the variant should be applied automatically on selection.",name:"applyAutomatically",required:!1,type:{name:"boolean"}},applyAutomaticallyText:{defaultValue:null,description:'Text displayed next to the "Apply Automatically" checkbox inside the "Manage Views" dialog.',name:"applyAutomaticallyText",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:'If set to false, the user is allowed to change the item\'s data.\n\n__Note:__ When set to true, no "Save" button will be displayed for the `VariantItem` when the `VariantManagement` is in `dirtyState`.',name:"readOnly",required:!1,type:{name:"boolean"}},hideDelete:{defaultValue:null,description:"Indicates if the variant can be deleted.\n\n__Note:__ If not set, a delete button is shown for all variants except for variants with `global={true}`.",name:"hideDelete",required:!1,type:{name:"boolean"}},manageViewsInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Manage Views" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"manageViewsInputProps",required:!1,type:{name:'Omit<InputPropTypes, "value">'}},saveViewInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Save View" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"saveViewInputProps",required:!1,type:{name:'Omit<InputPropTypes, "id" | "value">'}},selected:{defaultValue:null,description:"Defines the selected state of the `ListItem`.",name:"selected",required:!1,type:{name:"boolean"}},accessibleName:{defaultValue:null,description:"Defines the text alternative of the component. Note: If not provided a default text alternative will be set, if present.",name:"accessibleName",required:!1,type:{name:"string"}}}}}catch{}export{Ee as V,Ne as a};
//# sourceMappingURL=VariantItem-5727ede4.js.map
