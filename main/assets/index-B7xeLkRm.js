import{j as o}from"./useIsomorphicLayoutEffect-CpdNMtv3.js";import{T as C}from"./ThemingParameters-DOkJX3Ed.js";import{e as W}from"./index-D8PAbW1n.js";import{r as B}from"./index-DEe9W-hO.js";import{C as gt,a as $}from"./defaults--fS2pRbk.js";import{u as Ct,a as mt,C as ft,Y as L,b as w,X as Y,c as I}from"./YAxisTicks-Bej0DsgS.js";import{u as At,C as H}from"./ChartDataLabel-BOYH4tWg.js";import{u as vt,t as bt,a as kt,b as _t}from"./staticProps-DsetRNqa.js";import{u as jt}from"./useLongestYAxisLabel-DcEkWDKt.js";import{u as Lt}from"./useOnClickInternal-Chqq3b2P.js";import{u as wt,a as Yt,r as It,b as M}from"./useTooltipFormatter-RtDbFrPD.js";import{C as zt}from"./ChartContainer-ChRZ0g9j.js";import{C as Pt}from"./react-content-loader.es-CK-1p032.js";import{C as Kt,A as Tt}from"./ComposedChart-9oC8y3nN.js";import{R as Vt,T as Dt,d as Ot,a as Ft,e as St,h as Nt,B as Rt}from"./generateCategoricalChart-BJl_SKA8.js";import{L as Wt}from"./Line-261v4AY-.js";import{u as Bt}from"./withWebComponent-BxrD_3pN.js";import{u as Ht}from"./useIsRTL-cgFvq9WG.js";const Mt=o.jsxs(o.Fragment,{children:[o.jsx("rect",{x:"20",y:"20",width:"85",height:"15"}),o.jsx("rect",{x:"20",y:"40",width:"117",height:"15"}),o.jsx("rect",{x:"20",y:"60",width:"67",height:"15"}),o.jsx("rect",{x:"20",y:"80",width:"75",height:"15"}),o.jsx("rect",{x:"20",y:"100",width:"125",height:"15"}),o.jsx("rect",{x:"20",y:"120",width:"60",height:"15"})]}),$t=o.jsxs(o.Fragment,{children:[o.jsx("rect",{x:"20",y:"50",width:"15",height:"85"}),o.jsx("rect",{x:"40",y:"18",width:"15",height:"117"}),o.jsx("rect",{x:"60",y:"68",width:"15",height:"67"}),o.jsx("rect",{x:"80",y:"60",width:"15",height:"75"}),o.jsx("rect",{x:"100",y:"10",width:"15",height:"125"}),o.jsx("rect",{x:"120",y:"75",width:"15",height:"60"})]}),Et=o.jsx(o.Fragment,{children:o.jsx("path",{d:"M20 20 L75 40 L85 60 L125 80 L105 100 L90 120 L55 135 L92 120 L107 100 L127 80 L87 60 L77 40 L22 20 Z",fill:"none",strokeWidth:"2"})}),Xt=o.jsx(o.Fragment,{children:o.jsx("path",{d:"M20 135 L40 80 L60 70 L80 30 L100 50 L120 65 L135 100 L120 67 L100 52 L80 32 L60 72 L40 82 L20 137 Z",fill:"none",strokeWidth:"2"})}),m=({layout:i,measures:k})=>{const h=new Set(k.map(n=>n.type));return o.jsxs(Pt,{viewBox:"0 0 165 145",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%",speed:2,backgroundColor:C.sapContent_ImagePlaceholderBackground,foregroundColor:C.sapContent_ImagePlaceholderForegroundColor,backgroundOpacity:C.sapContent_DisabledOpacity,children:[i==="vertical"&&o.jsx("rect",{x:"20",y:"10",width:"1",height:"135"}),i==="horizontal"&&o.jsx("rect",{x:"10",y:"135",width:"135",height:"1"}),i==="vertical"&&h.has("bar")&&Mt,i==="horizontal"&&h.has("bar")&&$t,i==="vertical"&&(h.has("line")||h.has("area"))&&Et,i==="horizontal"&&(h.has("line")||h.has("area"))&&Xt]})};try{m.displayName="ComposedChartPlaceholder",m.__docgenInfo={description:"",displayName:"ComposedChartPlaceholder",props:{layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},measures:{defaultValue:null,description:"",name:"measures",required:!0,type:{name:"(IChartMeasure & { type: string; })[]"}}}}}catch{}try{m.displayName="ComposedChartPlaceholder",m.__docgenInfo={description:"",displayName:"ComposedChartPlaceholder",props:{layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},measures:{defaultValue:null,description:"",name:"measures",required:!0,type:{name:"(IChartMeasure & { type: string; })[]"}}}}}catch{}const qt={formatter:$},Zt={formatter:$,opacity:1},Gt={line:Wt,bar:Rt,area:Tt},f=B.forwardRef((i,k)=>{var D,O,F;const{loading:h,dataset:n,onDataPointClick:A,noLegend:E,noAnimation:X,tooltipConfig:v,onLegendClick:q,onClick:z,layout:c="horizontal",style:Z,className:G,slot:U,syncId:J,ChartPlaceholder:Q,children:tt,...ot}=i,[st,P]=Bt(k),s={yAxisLabelsVisible:!0,yAxisVisible:!1,xAxisVisible:!0,gridStroke:C.sapList_BorderColor,gridHorizontal:!0,gridVertical:!1,legendPosition:"bottom",legendHorizontalAlign:"left",zoomingTool:!1,resizeDebounce:250,yAxisWidth:null,yAxisConfig:{},xAxisConfig:{},secondYAxisConfig:{},secondXAxisConfig:{},...i.chartConfig},{referenceLine:e}=s,{dimensions:_,measures:d}=wt(i.dimensions,i.measures,qt,Zt),at=Yt(d),p=_[0],{primaryMeasure:y,secondaryMeasure:K}=It(d,(D=s==null?void 0:s.secondYAxis)==null?void 0:D.dataKey),et=At(p),rt=d.map(({accessor:t})=>t),u=s.secondYAxis?rt.findIndex(t=>{var r;return t===((r=s.secondYAxis)==null?void 0:r.dataKey)}):0,it=t=>({payload:r})=>gt.getValueByDataKey(r,t),j=(t,r,x)=>{if(typeof A=="function")if(typeof r=="number"){const a=Array.isArray(t==null?void 0:t.value);A(W(x,{value:a?t.value[1]-t.value[0]:t.value,dataIndex:t.index??r,dataKey:a?Object.keys(t).filter(l=>t.value.length?t[l]===t.value[1]-t.value[0]:t[l]===t.value&&l!=="value")[0]:t.dataKey??Object.keys(t).find(l=>t[l]&&t[l]===t.value&&l!=="value"),payload:t.payload}))}else A(W({},{value:Array.isArray(r.value)?r.value[1]-r.value[0]:r.value,dataKey:r.dataKey,dataIndex:r.index,payload:r.payload}))},ct=vt(q),lt=Lt(z),b=(n==null?void 0:n.length)>30,nt=p==null?void 0:p.accessor,[T,dt]=jt(n,c==="vertical"?_:d,s.legendPosition),ht=Ct(s.margin,s.zoomingTool),pt=mt(P,c==="vertical"?1:i.dimensions.length),V={axisLine:s.yAxisVisible,tickLine:bt,tickFormatter:y==null?void 0:y.formatter,interval:0},xt=B.useCallback(()=>o.jsx(m,{layout:c,measures:d}),[c,d]),{chartConfig:Ut,dimensions:Jt,measures:Qt,...ut}=ot,g=Ht(P);return o.jsx(zt,{ref:st,loading:h,dataset:n,Placeholder:Q??xt,style:Z,className:G,slot:U,resizeDebounce:s.resizeDebounce,...ut,children:o.jsxs(Kt,{syncId:J,onClick:lt,stackOffset:"sign",margin:ht,data:n,layout:c,className:typeof A=="function"||typeof z=="function"?"has-click-handler":void 0,children:[o.jsx(ft,{vertical:s.gridVertical,horizontal:s.gridHorizontal,stroke:s.gridStroke}),_.map((t,r)=>{let x;const a={dataKey:t.accessor,interval:(t==null?void 0:t.interval)??(b?"preserveStart":0),tickLine:r<1,axisLine:r<1,allowDuplicatedCategory:r===0};return c==="vertical"?(a.type="category",a.visible=!1,a.hide=!s.yAxisVisible,a.tick=o.jsx(w,{config:t}),a.yAxisId=r,a.width=s.yAxisWidth??T,x=L,a.orientation=g?"right":"left"):(a.dataKey=t.accessor,a.tick=o.jsx(I,{config:t}),a.hide=!s.xAxisVisible,a.xAxisId=r,a.height=pt[r],x=Y,a.reversed=g),o.jsx(x,{...a},t.reactKey)}),c==="horizontal"&&o.jsx(L,{...V,yAxisId:"primary",width:s.yAxisWidth??T,orientation:g?"right":"left",tick:s.yAxisLabelsVisible?o.jsx(w,{config:y}):!1,...s.yAxisConfig}),c==="vertical"&&o.jsx(Y,{...V,reversed:g,xAxisId:"primary",type:"number",tick:o.jsx(I,{config:y}),...s.xAxisConfig}),((O=s.secondYAxis)==null?void 0:O.dataKey)&&c==="horizontal"&&o.jsx(L,{dataKey:s.secondYAxis.dataKey,axisLine:{stroke:s.secondYAxis.color??`var(--sapChart_OrderedColor_${u%11+1})`},tick:o.jsx(w,{config:K,secondYAxisConfig:{color:s.secondYAxis.color??`var(--sapChart_OrderedColor_${u%11+1})`}}),tickLine:{stroke:s.secondYAxis.color??`var(--sapChart_OrderedColor_${u%11+1})`},label:{value:s.secondYAxis.name,offset:2,angle:90,position:"center"},orientation:g?"left":"right",interval:0,yAxisId:"secondary",...s.secondYAxisConfig}),((F=s.secondYAxis)==null?void 0:F.dataKey)&&c==="vertical"&&o.jsx(Y,{dataKey:s.secondYAxis.dataKey,axisLine:{stroke:s.secondYAxis.color??`var(--sapChart_OrderedColor_${u%11+1})`},tick:o.jsx(I,{config:K,secondYAxisConfig:{color:s.secondYAxis.color??`var(--sapChart_OrderedColor_${u%11+1})`}}),tickLine:{stroke:s.secondYAxis.color??`var(--sapChart_OrderedColor_${u%11+1})`},label:{value:s.secondYAxis.name,offset:2,angle:90,position:"center"},orientation:"top",interval:0,xAxisId:"secondary",type:"number",...s.secondXAxisConfig}),e&&o.jsx(Vt,{...e,stroke:(e==null?void 0:e.color)??(e==null?void 0:e.stroke),y:e!=null&&e.value?c==="horizontal"?e==null?void 0:e.value:void 0:e==null?void 0:e.y,x:e!=null&&e.value?c==="vertical"?e==null?void 0:e.value:void 0:e==null?void 0:e.x,yAxisId:(e==null?void 0:e.yAxisId)??c==="horizontal"?"primary":void 0,xAxisId:(e==null?void 0:e.xAxisId)??c==="vertical"?"primary":void 0,label:e==null?void 0:e.label}),(v==null?void 0:v.active)!==!1&&o.jsx(Dt,{cursor:kt,formatter:at,contentStyle:_t,labelFormatter:et,...v}),!E&&o.jsx(Ot,{verticalAlign:s.legendPosition,align:s.legendHorizontalAlign,onClick:ct,wrapperStyle:dt}),d==null?void 0:d.map((t,r)=>{var S,N;const x=Gt[t.type],a={isAnimationActive:!X};let l="top";switch(t.type){case"line":a.activeDot={onClick:j},a.strokeWidth=t.width,a.strokeOpacity=t.opacity,a.dot=t.showDot??!b;break;case"bar":a.hide=t.hide,a.fillOpacity=t.opacity,a.strokeOpacity=t.opacity,a.barSize=t.width,a.onClick=j,a.stackId=t.stackId??void 0,a.labelPosition=t.stackId?"insideTop":"top",c==="vertical"?l="insideRight":l="insideTop";break;case"area":a.dot=!b,a.fillOpacity=.3,a.strokeOpacity=t.opacity,a.strokeWidth=t.width,a.activeDot={onClick:j};break}return c==="vertical"?a.xAxisId=((S=s.secondYAxis)==null?void 0:S.dataKey)===t.accessor?"secondary":"primary":a.yAxisId=((N=s.secondYAxis)==null?void 0:N.dataKey)===t.accessor?"secondary":"primary",o.jsx(x,{name:t.label??t.accessor,label:t.type==="bar"||b?void 0:o.jsx(H,{config:t,chartType:t.type,position:l}),stroke:t.color??`var(--sapChart_OrderedColor_${r%11+1})`,fill:t.color??`var(--sapChart_OrderedColor_${r%11+1})`,type:"monotone",dataKey:t.accessor,...a,children:t.type==="bar"&&o.jsxs(o.Fragment,{children:[o.jsx(Ft,{data:n,valueAccessor:it(t.accessor),content:o.jsx(H,{config:t,chartType:"column",position:"insideTop"})}),n.map((R,yt)=>o.jsx(St,{fill:M(t,R,r),stroke:M(t,R,r)},yt))]})},t.reactKey)}),s.zoomingTool&&o.jsx(Nt,{y:10,dataKey:nt,tickFormatter:p==null?void 0:p.formatter,stroke:C.sapObjectHeader_BorderColor,travellerWidth:10,height:20}),tt]})})});f.displayName="ComposedChart";try{f.displayName="ComposedChart",f.__docgenInfo={description:"The `ComposedChart` enables you to combine different chart types in one chart, e.g. showing bars together with lines.",displayName:"ComposedChart",props:{}}}catch{}try{f.displayName="ComposedChart",f.__docgenInfo={description:"The `ComposedChart` enables you to combine different chart types in one chart, e.g. showing bars together with lines.",displayName:"ComposedChart",props:{}}}catch{}export{f as C};
