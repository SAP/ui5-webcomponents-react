{"version":3,"file":"UploadCollection-7b87951c.js","sources":["../../packages/main/src/webComponents/UploadCollectionItem/UploadCollectionItemDescription.md?raw","../../packages/main/src/webComponents/UploadCollection/UploadCollection.mdx"],"sourcesContent":["export default \"**Since:** 0.9.0\\n\\nA component to be used within the `UploadCollection`.\\n\"","import { ArgTypesWithNote, ControlsWithNote, DocsHeader, Footer } from '@sb/components';\nimport SubcomponentsSection from '@sb/docs/SubcomponentsSection.md?raw';\nimport { Canvas, Markdown, Meta } from '@storybook/blocks';\nimport { Children, cloneElement, useState } from 'react';\nimport { FlexBoxAlignItems } from '../../enums/FlexBoxAlignItems';\nimport { UploadCollectionItem } from '../UploadCollectionItem';\nimport UploadCollectionItemDescription from '../UploadCollectionItem/UploadCollectionItemDescription.md?raw';\nimport * as ComponentStories from './UploadCollection.stories';\n\n<Meta of={ComponentStories} />\n\n<DocsHeader since=\"0.9.0\" />\n\n<br />\n\n## Example\n\n<Canvas of={ComponentStories.Default} />\n\n## Properties\n\n<ControlsWithNote of={ComponentStories.Default} />\n\n## Handling drag and drop of files\n\nPer default, files can be added by dragging them into the `UploadCollection` component.\nTo use this functionality the `onDrop` handler has to be manually adjusted.<br/>\n**Note:** Use `event.preventDefault()` in the `onDrop` handler, otherwise some browsers will open some files in a different tab.\n\nThis example shows, how to dynamically render a `UploadCollectionItem` by dropping files into the `UploadCollection`:\n\n```jsx\nimport React, { useState } from 'react';\nimport { Icon, Text, UploadCollection, UploadCollectionItem } from '@ui5/webcomponents-react';\n\nexport const UploadCollectionComponent = () => {\n  const [children, setChildren] = useState([]);\n  const handleDrop = (e) => {\n    e.preventDefault();\n    const files = e.dataTransfer.files;\n    files.forEach((file) => {\n      setChildren((prev) => [\n        ...prev,\n        <UploadCollectionItem file={file} fileName={file.name} thumbnail={<Icon name=\"document\" />}>\n          <Text>Uploaded On: Right now</Text>\n        </UploadCollectionItem>\n      ]);\n    });\n  };\n  return <UploadCollection onDrop={handleDrop}>{children}</UploadCollection>;\n};\n```\n\n<br />\n\n# More Examples\n\n<br />\n\n## Simulate Upload\n\n<Canvas of={ComponentStories.SimulateUpload} />\n\n### Code\n\n```jsx\nconst SimulateUploadComponent = () => {\n  const [children, setChildren] = useState([\n    <UploadCollectionItem\n      file={null}\n      fileName={'file-name.txt'}\n      thumbnail={<img src=\"https://sap.github.io/ui5-webcomponents/assets/images/logo.png\" />}\n    >\n      <Text>Uploaded by: Susanne Schmitt · Uploaded On: 2019-04-20</Text>\n    </UploadCollectionItem>\n  ]);\n  const handleDrop = (e) => {\n    e.preventDefault();\n    const files = e.dataTransfer.files;\n    files.forEach((file) => {\n      setChildren((prev) => [\n        ...prev,\n        <UploadCollectionItem file={file} fileName={file.name} thumbnail={<Icon name=\"document\" />}>\n          <Text>{`\nLast\nmodified: ${file.lastModifiedDate} ·\nSize: ${(file.size / 1000).toFixed(2)}KB`}</Text>\n        </UploadCollectionItem>\n      ]);\n    });\n  };\n  const simulateUpload = () => {\n    if (children.length > 0) {\n      Children.forEach(children, (child, index) => {\n        if (child.props.uploadState === UploadState.Ready) {\n          let progress = 0;\n          const recTimeout = () => {\n            setTimeout(\n              () => {\n                progress += Math.floor(Math.random() * 4) + 1;\n                setChildren((prev) => {\n                  const updatedChildren = [...prev];\n                  updatedChildren[index] = cloneElement(prev[index], {\n                    uploadState: UploadState.Uploading,\n                    progress: Math.min(progress, 100)\n                  });\n                  return updatedChildren;\n                });\n                if (progress < 100) {\n                  recTimeout();\n                } else {\n                  setChildren((prev) => {\n                    const updatedChildren = [...prev];\n                    updatedChildren[index] = cloneElement(prev[index], {\n                      uploadState: UploadState.Complete\n                    });\n                    return updatedChildren;\n                  });\n                }\n              },\n              Math.floor(Math.random() * (1000 - 100 + 1)) + 100\n            );\n          };\n          recTimeout();\n        }\n      });\n    }\n  };\n  return (\n    <UploadCollection\n      onDrop={handleDrop}\n      header={\n        <FlexBox alignItems={FlexBoxAlignItems.Center}>\n          <Title>Start upload:</Title>\n          <Button onClick={simulateUpload}>Upload!</Button>\n        </FlexBox>\n      }\n    >\n      {children}\n    </UploadCollection>\n  );\n};\n```\n\n<Markdown>{SubcomponentsSection}</Markdown>\n\n## UploadCollectionItem\n\n<Markdown>{UploadCollectionItemDescription}</Markdown>\n<ArgTypesWithNote of={UploadCollectionItem} />\n\n<Footer />\n"],"names":["UploadCollectionItemDescription","MDXContent","props","MDXLayout","_provideComponents","_jsx","_createMdxContent","_components","_jsxs","_Fragment","Meta","ComponentStories","DocsHeader","Canvas","ComponentStories.Default","ControlsWithNote","ComponentStories.SimulateUpload","Markdown","SubcomponentsSection","ArgTypesWithNote","UploadCollectionItem","Footer"],"mappings":"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"}