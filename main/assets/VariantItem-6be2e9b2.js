import{j as e}from"./jsx-runtime-d079401a.js";import"./UnableToLoad-7907b0bf.js";import{n as yt}from"./navigation-down-arrow-129d3555.js";import{s as Qe}from"./search-e3ef4121.js";import{T as b}from"./ThemingParameters-7e2e4e30.js";import{e as ye}from"./index-99d317a4.js";import{c as ve}from"./clsx-1229b3e0.js";import{r as t,R as Ye}from"./index-f1f2c4b1.js";import{r as qe}from"./index-c74c9f7f.js";import{c as Me}from"./react-jss.esm-c310038c.js";import{u as xe,V as Xe,b as Ze,c as et,d as vt,M as gt,e as Vt,D as wt,A as Re,f as xt,U as St,g as je,C as tt,h as Pe,i as bt,j as It,k as Tt,l as _t,m as at,n as Ct,o as At,p as Dt,q as Nt,r as Et,s as qt,t as Mt}from"./i18n-defaults-b19b5e63.js";import{h as ke,u as Rt}from"./withWebComponent-99b005ba.js";import{s as jt}from"./stopPropagation-da74d54e.js";import{F as Ve,a as Ie,c as Te}from"./index-13bed04c.js";import{i as Pt,d as kt}from"./Device-6afa24d0.js";import{B as Oe}from"./index-d88fc290.js";import{B as X}from"./index-4765fcf1.js";import{D as nt}from"./index-92cbb183.js";import{b as Ot,c as oe,T as Bt,a as de}from"./index-b57a47c9.js";import{d as Ft}from"./decline-c1cc2557.js";import{f as be}from"./favorite-553407ab.js";import{u as Lt}from"./unfavorite-5bfe523f.js";import{t as _e}from"./utils-626dc1bf.js";import{T as Ke}from"./index-47d0a85a.js";import{R as Ht}from"./index-5b7752db.js";import{C as ge}from"./index-2152d825.js";import{I as we}from"./index-4a2ac3fd.js";import{B as F}from"./Button-0b5fe0db.js";import{I as Se}from"./index-eb71e4fd.js";import{V as Je}from"./ValueState-ab6838cc.js";import{B as Be}from"./Bar-e19b5f8b.js";import{L as Wt}from"./index-9bd3f3a9.js";import{u as Ut}from"./useIsomorphicId-ed1d334d.js";import{I as zt}from"./index-f96252fc.js";import{a as $t}from"./Popover-f3103b78.js";import{T as Gt}from"./Title-3276c542.js";import{T as Yt}from"./index-13825777.js";import{R as Kt}from"./index-06e3449a.js";import{I as Jt}from"./IllustratedMessage-b72b98e7.js";import{L as Qt}from"./index-219bb506.js";import{a as Xt}from"./ListItemBase-6d1fb082.js";import{S as Zt}from"./index-96453735.js";const it=t.createContext({selectVariantItem:r=>{}}),Ce=r=>{const{variantNames:R,changedVariantNames:y,setChangedVariantNames:I,handleRowChange:w,handleDelete:L,defaultView:j,setDefaultView:P,showShare:k,showApplyAutomatically:s,showSetAsDefault:g,showCreatedBy:o,labelReadOnly:h,favorite:x,children:n,global:O,isDefault:T,applyAutomatically:H,applyAutomaticallyText:B,author:G,setInvalidVariants:W,hideDelete:U,showOnlyFavorites:Y}=r,c=xe("@ui5/webcomponents-react"),K=c.getText(Xe),E=c.getText(Ze),Z=c.getText(et),p=c.getText(vt),_=c.getText(gt),f=c.getText(Vt),C=c.getText(wt),ee=c.getText(Re),J=c.getText(xt),v=c.getText(St),te=c.getText(je),[z,ae]=t.useReducer(d=>!d,!!x),i=z?be:Lt,q=t.useRef(void 0),[le,l]=t.useState(!1),V=d=>{ae(),w(d,{currentVariant:n,favorite:!z})},S=d=>{var ne,re;typeof((ne=r.manageViewsInputProps)==null?void 0:ne.onInput)=="function"&&((re=r.manageViewsInputProps)==null||re.onInput(d));const D=_e(d.target.value);R.includes(D)||Array.from(y.values()).includes(D)?(l(K),W(M=>({...M,[`${n}`]:q.current})),w(d,{currentVariant:n,children:D})):D.length===0?(l(E),W(M=>({...M,[n]:q.current})),w(d,{currentVariant:n,children:D})):d.isInvalid?W(M=>({...M,[`${n}`]:q.current})):(l(!1),W(M=>{const se={...M};return M.hasOwnProperty(n)&&delete se[n],se}),w(d,{currentVariant:n,children:D}))},m=d=>{var ne,re;typeof((ne=r.manageViewsInputProps)==null?void 0:ne.onChange)=="function"&&((re=r.manageViewsInputProps)==null||re.onChange(d));const D=_e(d.target.value);I(M=>{const se=new Map(M);return se.set(n,D),se})},A=()=>{P(n)},$=d=>{w(d,{currentVariant:n,applyAutomatically:d.target.checked})},Q=()=>{var d,D;return h?e.jsx(Ke,{style:{fontFamily:T?b.sapFontBoldFamily:b.sapFontFamily},children:n}):e.jsx(Se,{placeholder:te,ref:q,...r.manageViewsInputProps,valueStateMessage:((d=r.manageViewsInputProps)==null?void 0:d.valueStateMessage)??e.jsx("div",{children:le}),valueState:((D=r.manageViewsInputProps)==null?void 0:D.valueState)??(le?Je.Error:Je.None),value:n,onInput:S,onChange:m})};return e.jsxs(Ot,{"data-id":n,children:[Y&&e.jsx(oe,{children:T?e.jsx(we,{name:be,style:{color:b.sapContent_NonInteractiveIconColor}}):e.jsx(we,{accessibleName:_,title:i===be?J:v,name:i,interactive:!0,style:{color:b.sapContent_MarkerIconColor,cursor:"pointer"},onClick:V})}),e.jsx(oe,{children:Q()}),k&&e.jsx(oe,{children:O?Z:p}),g&&e.jsx(oe,{children:e.jsx(Ht,{accessibleName:f,checked:j!==void 0?j===n:T,onChange:A})}),s&&e.jsx(oe,{children:e.jsx(ge,{accessibleName:ee,checked:H,onChange:$,text:B})}),o&&e.jsx(oe,{children:e.jsx(Ke,{children:G})}),e.jsx(oe,{children:!(U??O)&&e.jsx(X,{tooltip:C,accessibleName:C,icon:Ft,design:F.Transparent,onClick:L,"data-children":n})})]},`${n}`)};try{Ce.displayName="ManageViewsTableRows",Ce.__docgenInfo={description:"",displayName:"ManageViewsTableRows",props:{variantNames:{defaultValue:null,description:"",name:"variantNames",required:!0,type:{name:"string[]"}},handleRowChange:{defaultValue:null,description:"",name:"handleRowChange",required:!0,type:{name:"(e: Event, payload: any) => void"}},handleDelete:{defaultValue:null,description:"",name:"handleDelete",required:!0,type:{name:"(e: any) => void"}},defaultView:{defaultValue:null,description:"",name:"defaultView",required:!0,type:{name:"string"}},setDefaultView:{defaultValue:null,description:"",name:"setDefaultView",required:!0,type:{name:"(view: string) => void"}},showShare:{defaultValue:null,description:"",name:"showShare",required:!0,type:{name:"boolean"}},showApplyAutomatically:{defaultValue:null,description:"",name:"showApplyAutomatically",required:!0,type:{name:"boolean"}},showSetAsDefault:{defaultValue:null,description:"",name:"showSetAsDefault",required:!0,type:{name:"boolean"}},showCreatedBy:{defaultValue:null,description:"",name:"showCreatedBy",required:!0,type:{name:"boolean"}},showOnlyFavorites:{defaultValue:null,description:"",name:"showOnlyFavorites",required:!1,type:{name:"boolean"}},changedVariantNames:{defaultValue:null,description:"",name:"changedVariantNames",required:!0,type:{name:"Map<string, any>"}},setChangedVariantNames:{defaultValue:null,description:"",name:"setChangedVariantNames",required:!0,type:{name:"(varNames: any) => void"}},setInvalidVariants:{defaultValue:null,description:"",name:"setInvalidVariants",required:!0,type:{name:"(invalidVars: any) => void"}},children:{defaultValue:null,description:"The name of the variant.",name:"children",required:!0,type:{name:"string"}},author:{defaultValue:null,description:"Author of the variant.",name:"author",required:!1,type:{name:"string"}},favorite:{defaultValue:null,description:"Indicates if favorites can be created.\n\n__Note:__ Has no effect if `showOnlyFavorites` is falsy in the `VariantMangament`.",name:"favorite",required:!1,type:{name:"boolean"}},global:{defaultValue:null,description:"Indicator if a variant is visible for all users (public flag is set).",name:"global",required:!1,type:{name:"boolean"}},isDefault:{defaultValue:null,description:"Indicator if it's the default variant.",name:"isDefault",required:!1,type:{name:"boolean"}},labelReadOnly:{defaultValue:null,description:"Indicates if the variant title can be changed.",name:"labelReadOnly",required:!1,type:{name:"boolean"}},applyAutomatically:{defaultValue:null,description:"Indicates if the variant should be applied automatically on selection.",name:"applyAutomatically",required:!1,type:{name:"boolean"}},applyAutomaticallyText:{defaultValue:null,description:'Text displayed next to the "Apply Automatically" checkbox inside the "Manage Views" dialog.',name:"applyAutomaticallyText",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:'If set to false, the user is allowed to change the item\'s data.\n\n__Note:__ When set to true, no "Save" button will be displayed for the `VariantItem` when the `VariantManagement` is in `dirtyState`.',name:"readOnly",required:!1,type:{name:"boolean"}},hideDelete:{defaultValue:null,description:"Indicates if the variant can be deleted.\n\n__Note:__ If not set, a delete button is shown for all variants except for variants with `global={true}`.",name:"hideDelete",required:!1,type:{name:"boolean"}},manageViewsInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Manage Views" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"manageViewsInputProps",required:!1,type:{name:'Omit<InputPropTypes, "value">'}},saveViewInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Save View" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"saveViewInputProps",required:!1,type:{name:'Omit<InputPropTypes, "id" | "value">'}},accessibleName:{defaultValue:null,description:"Defines the text alternative of the component. Note: If not provided a default text alternative will be set, if present.",name:"accessibleName",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"Defines the selected state of the `ListItem`.",name:"selected",required:!1,type:{name:"boolean"}}}}}catch{}const ea={manageViewsDialog:{width:Pt()||kt()?"100%":"70vw","&::part(content), &::part(header)":{padding:0},"&::part(footer)":{padding:0,borderBlockStart:"none"}},headerText:{margin:0,textAlign:"center",alignSelf:"start",minHeight:"var(--_ui5_popup_default_header_height)",maxHeight:"var(--_ui5_popup_default_header_height)",lineHeight:"var(--_ui5_popup_default_header_height)",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",display:"inline-block",paddingInlineStart:"1rem",fontFamily:'"72override",var(--_ui5_popup_header_font_family)',fontSize:"1rem"},search:{width:"calc(100% - 2rem)",marginBlockEnd:"0.5rem"},inputIcon:{cursor:"pointer",color:b.sapContent_IconColor}},ta=Me(ea,{name:"ManageViewsDialog"}),Ae=r=>{const{children:R,onAfterClose:y,handleSaveManageViews:I,showShare:w,showApplyAutomatically:L,showSetAsDefault:j,showCreatedBy:P,variantNames:k,portalContainer:s,showOnlyFavorites:g}=r,o=xe("@ui5/webcomponents-react"),h=o.getText(tt),x=o.getText(Pe),n=o.getText(je),O=o.getText(bt),T=o.getText(It),H=o.getText(Re),B=o.getText(Tt),G=o.getText(_t),W=o.getText(at),[U,Y]=t.useState(new Map),[c,K]=t.useState({}),E=ta(),Z=e.jsxs(e.Fragment,{children:[g&&e.jsx(de,{},"favorite-variant-item"),e.jsx(de,{children:n}),w&&e.jsx(de,{demandPopin:!0,minWidth:600,children:O}),j&&e.jsx(de,{demandPopin:!0,minWidth:600,popinText:T,children:T}),L&&e.jsx(de,{demandPopin:!0,minWidth:600,popinText:H,children:H}),P&&e.jsx(de,{demandPopin:!0,minWidth:600,popinText:B,children:B}),e.jsx(de,{},"delete-variant-item")]}),[p,_]=t.useState(t.Children.map(R,l=>Ye.isValidElement(l)?l.props:{}));t.useEffect(()=>{_(t.Children.map(R,l=>Ye.isValidElement(l)?l.props:{}))},[R]);const[f,C]=t.useState(p);t.useEffect(()=>{C(p)},[p]);const[ee,J]=t.useState(),v=t.useRef({}),te=(l,V)=>{V&&(v.current[V.currentVariant]={...v.current[V.currentVariant]??{},...V})},z=t.useRef(new Set([])),ae=l=>{z.current.add(l.target.dataset.children),_(V=>V.filter(S=>S.children!==l.target.dataset.children).map(S=>v.current.hasOwnProperty(S.children)?{...S,...v.current[S.children]}:S))},i=l=>{Object.keys(c).length===0?I(l,{updatedRows:v.current,defaultView:ee,deletedRows:z.current}):Object.values(c)[0].focus()},q=l=>{const V=l.target.value.toLowerCase();C(p.filter(S=>{var m,A,$,Q;return((A=(m=S.children)==null?void 0:m.toLowerCase())==null?void 0:A.includes(V))||((Q=($=S.author)==null?void 0:$.toLowerCase())==null?void 0:Q.includes(V))}))};return ke()?qe.createPortal(e.jsx(nt,{open:!0,className:E.manageViewsDialog,"data-component-name":"VariantManagementManageViewsDialog",onAfterClose:y,headerText:G,header:e.jsxs(Ve,{direction:Ie.Column,style:{width:"100%"},alignItems:Te.Center,children:[e.jsx("h2",{className:E.headerText,children:G}),e.jsx(Se,{className:E.search,placeholder:W,showClearIcon:!0,icon:e.jsx(we,{name:Qe,className:E.inputIcon}),onInput:q})]}),resizable:!0,footer:e.jsx(Oe,{design:Be.Footer,endContent:e.jsxs(e.Fragment,{children:[e.jsx(X,{design:F.Emphasized,onClick:i,children:x}),e.jsx(X,{design:F.Transparent,onClick:y,children:h})]})}),children:e.jsx(Bt,{columns:Z,stickyColumnHeader:!0,role:"table",children:f.map(l=>t.createElement(Ce,{...l,setInvalidVariants:K,setChangedVariantNames:Y,changedVariantNames:U,variantNames:k,handleRowChange:te,handleDelete:ae,defaultView:ee,setDefaultView:J,showShare:w,showApplyAutomatically:L,showSetAsDefault:j,showCreatedBy:P,key:l==null?void 0:l.children,showOnlyFavorites:g}))})}),s??document.body):null};try{Ae.displayName="ManageViewsDialog",Ae.__docgenInfo={description:"",displayName:"ManageViewsDialog",props:{onAfterClose:{defaultValue:null,description:"",name:"onAfterClose",required:!0,type:{name:"any"}},handleSaveManageViews:{defaultValue:null,description:"",name:"handleSaveManageViews",required:!0,type:{name:"(e: MouseEventHandler<HTMLElement>, payload: { updatedRows: any; defaultView: string; deletedRows: any; }) => void"}},showShare:{defaultValue:null,description:"",name:"showShare",required:!0,type:{name:"boolean"}},showApplyAutomatically:{defaultValue:null,description:"",name:"showApplyAutomatically",required:!0,type:{name:"boolean"}},showSetAsDefault:{defaultValue:null,description:"",name:"showSetAsDefault",required:!0,type:{name:"boolean"}},showCreatedBy:{defaultValue:null,description:"",name:"showCreatedBy",required:!0,type:{name:"boolean"}},variantNames:{defaultValue:null,description:"",name:"variantNames",required:!0,type:{name:"string[]"}},portalContainer:{defaultValue:null,description:"",name:"portalContainer",required:!0,type:{name:"Element"}},showOnlyFavorites:{defaultValue:null,description:"",name:"showOnlyFavorites",required:!1,type:{name:"boolean"}}}}}catch{}const aa=Me({dialog:{"&::part(footer)":{borderBlockStart:"none",padding:0}},input:{width:"100%",marginBlock:"0.1875rem"},checkBoxesContainer:{paddingInline:"0.5rem"}},{name:"SaveViewDialogStyles"}),De=r=>{const{onAfterClose:R,handleSave:y,selectedVariant:I,showShare:w,showApplyAutomatically:L,showSetAsDefault:j,variantNames:P,portalContainer:k,saveViewInputProps:s}=r,g=t.useRef(null),o=t.useRef(void 0),h=xe("@ui5/webcomponents-react"),x=aa(),n=Ut(),O=h.getText(tt),T=h.getText(Pe),H=h.getText(Ct),B=h.getText(At),G=h.getText(et),W=h.getText(Re),U=h.getText(je),Y=h.getText(Xe),c=h.getText(Ze),[K,E]=t.useState(I.isDefault),[Z,p]=t.useState(I.global),[_,f]=t.useState(I.applyAutomatically),[C,ee]=t.useState(I.children),[J,v]=t.useState(!1),[te,z]=t.useState(!1),ae=m=>{typeof(s==null?void 0:s.onInput)=="function"&&s.onInput(m);const A=_e(m.target.value);ee(A),P.includes(A)?v(Y):A.length===0?v(c):m.isInvalid?z(!0):(v(!1),z(!1))},i=m=>{var A,$,Q;P.includes(C)?(v(Y),(A=o.current)==null||A.focus()):C.length===0?(v(c),($=o.current)==null||$.focus()):te?(Q=o.current)==null||Q.focus():(v(!1),y(m,{...I,children:C,isDefault:K,global:Z,applyAutomatically:_}))},q=()=>{g.current.close()},le=m=>{E(m.target.checked)},l=m=>{p(m.target.checked)},V=m=>{f(m.target.checked)};return ke()?qe.createPortal(e.jsx(nt,{open:!0,className:x.dialog,ref:g,headerText:H,onAfterClose:R,footer:e.jsx(Oe,{design:Be.Footer,endContent:e.jsxs(e.Fragment,{children:[e.jsx(X,{design:F.Emphasized,onClick:i,children:T}),e.jsx(X,{design:F.Transparent,onClick:q,children:O})]})}),children:e.jsxs(Ve,{direction:Ie.Column,alignItems:Te.Start,children:[e.jsx(Wt,{for:`view-${n}`,showColon:!0,children:U}),e.jsx(Se,{accessibleName:U,ref:o,...s,valueState:(s==null?void 0:s.valueState)??(J?"Error":"None"),valueStateMessage:(s==null?void 0:s.valueStateMessage)??e.jsx("div",{children:J}),className:ve(x.input,s==null?void 0:s.className),id:`view-${n}`,value:C,onInput:ae}),e.jsxs(Ve,{alignItems:Te.Start,direction:Ie.Column,className:x.checkBoxesContainer,children:[j&&e.jsx(ge,{onChange:le,text:B,checked:K}),w&&e.jsx(ge,{onChange:l,text:G,checked:Z}),L&&e.jsx(ge,{onChange:V,text:W,checked:_})]})]})}),k??document.body):null};try{De.displayName="SaveViewDialog",De.__docgenInfo={description:"",displayName:"SaveViewDialog",props:{onAfterClose:{defaultValue:null,description:"",name:"onAfterClose",required:!0,type:{name:"(event: Ui5CustomEvent<DialogDomRef, never>) => void"}},handleSave:{defaultValue:null,description:"",name:"handleSave",required:!0,type:{name:"(event: Ui5CustomEvent<ButtonDomRef, never>, selectedVariant: SelectedVariant) => void"}},selectedVariant:{defaultValue:null,description:"",name:"selectedVariant",required:!0,type:{name:"SelectedVariant"}},showShare:{defaultValue:null,description:"",name:"showShare",required:!0,type:{name:"boolean"}},showApplyAutomatically:{defaultValue:null,description:"",name:"showApplyAutomatically",required:!0,type:{name:"boolean"}},showSetAsDefault:{defaultValue:null,description:"",name:"showSetAsDefault",required:!0,type:{name:"boolean"}},variantNames:{defaultValue:null,description:"",name:"variantNames",required:!0,type:{name:"string[]"}},portalContainer:{defaultValue:null,description:"",name:"portalContainer",required:!0,type:{name:"Element"}},saveViewInputProps:{defaultValue:null,description:"",name:"saveViewInputProps",required:!1,type:{name:'Omit<InputPropTypes, "value">'}}}}}catch{}const na={container:{display:"flex",alignItems:"center",textAlign:"center"},title:{cursor:"pointer",color:b.sapLinkColor,textShadow:"none","&:hover":{color:b.sapLink_Hover_Color},"&:active":{color:b.sapLink_Active_Color}},disabled:{"& $title":{color:b.sapGroup_TitleTextColor,cursor:"default","&:hover":{color:"ThemingParameters.sapGroup_TitleTextColor"}}},dirtyState:{color:b.sapGroup_TitleTextColor,paddingInline:"0.125rem",fontWeight:"bold",font:b.sapFontFamily,fontSize:b.sapFontSize,flexGrow:1},dirtyStateText:{fontSize:b.sapFontSmallSize,fontWeight:"normal"},navDownBtn:{marginInlineStart:"0.125rem"},footer:{"& > :last-child":{marginInlineEnd:0}},inputIcon:{cursor:"pointer",color:b.sapContent_IconColor},searchInputContainer:{padding:"0.25rem 1rem"},searchInput:{width:"100%"},popover:{minWidth:"25rem","&::part(content), &::part(footer)":{padding:0},"&::part(footer)":{borderBlockStart:"none"}}},ia=Me(na,{name:"VariantManagement"}),Ne=t.forwardRef((r,R)=>{const y=xe("@ui5/webcomponents-react"),{titleText:I=y.getText(Dt),className:w,style:L,placement:j=$t.Bottom,level:P=Gt.H4,onSelect:k,closeOnItemSelect:s,disabled:g,onSaveAs:o,onSaveManageViews:h,showOnlyFavorites:x,inErrorState:n,hideShare:O,children:T,hideManageVariants:H,hideApplyAutomatically:B,hideSetAsDefault:G,hideCreatedBy:W,hideSaveAs:U,dirtyStateText:Y="*",dirtyState:c,onSave:K,portalContainer:E,...Z}=r,p=ia(),_=t.useRef(null),[f,C]=t.useState(t.Children.toArray(T)),[ee,J]=t.useState(f.length>9);t.useEffect(()=>{C(t.Children.toArray(T))},[T]),t.useEffect(()=>{f.length>9?J(!0):J(!1)},[f.length]);const[v,te]=t.useState(!1),[z,ae]=t.useState(!1),[i,q]=t.useState(()=>{const a=f.find(u=>t.isValidElement(u)&&u.props.selected);if(a)return{...a.props,variantItem:a.ref}}),[le,l]=t.useState((i==null?void 0:i.saveViewInputProps)??{}),V=()=>{_.current.close()},S=()=>{te(!0)},m=()=>{te(!1)},A=()=>{ae(!0)},$=()=>{ae(!1)},Q=a=>{typeof K=="function"&&K(ye(a,i))},d=(a,u)=>{typeof o=="function"&&o(ye(a,u)),q(u),a.defaultPrevented||$()},D=(a,u)=>{const{defaultView:ue,updatedRows:$e,deletedRows:mt}=u,ce={deletedVariants:[],prevVariants:[],updatedVariants:[],variants:[]};C(ht=>t.Children.toArray(ht.map(N=>{if(!t.isValidElement(N))return!1;let ie={};const Ge=_.current.querySelector(`ui5-li[data-children="${N.props.children}"]`);if(ce.prevVariants.push(N.props),ue&&(ue===N.props.children?ie.isDefault=!0:N.props.isDefault&&(ie.isDefault=!1)),Object.keys($e).includes(N.props.children)){const{currentVariant:la,...ft}=$e[N.props.children];ie={...ie,...ft}}return mt.has(N.props.children)?(ce.deletedVariants.push(N.props),!1):(Object.keys(ie).length>0&&ce.updatedVariants.push({...N.props,...ie,variantItem:Ge,prevVariant:{...N.props}}),ce.variants.push({...N.props,...ie,variantItem:Ge}),t.cloneElement(N,ie))}))),typeof h=="function"&&h(ye(a,ce)),a.defaultPrevented||m()},ne=t.useCallback(a=>{_.current.showAt(a.target)},[_]),re=y.getText(at),M=y.getText(Nt),se=y.getText(Et),lt=y.getText(Pe),rt=y.getText(qt),Fe=y.getText(Mt),st=ve(p.container,g&&p.disabled,w),ot=ve(p.dirtyState,Y!=="*"&&p.dirtyStateText),pe=t.useRef();t.useEffect(()=>{pe.current&&typeof k=="function"&&(k(ye(pe.current,{selectedVariant:i})),pe.current=void 0)},[i,k]),t.useEffect(()=>{const a=f.find(u=>t.isValidElement(u)&&u.props.children===(i==null?void 0:i.children));l((a==null?void 0:a.props.saveViewInputProps)??{})},[i,f]);const dt=a=>{q({...a.detail.selectedItems[0].dataset,variantItem:a.detail.selectedItems[0]}),pe.current=a,s&&V()},Le=f.map(a=>{var u;return t.isValidElement(a)&&typeof((u=a.props)==null?void 0:u.children)=="string"?a.props.children:""}),[me,He]=t.useState(void 0);t.useEffect(()=>{x&&He(f.filter(a=>t.isValidElement(a)&&(a.props.favorite||a.props.isDefault))),!x&&(me==null?void 0:me.length)>0&&He(void 0)},[x,f]);const he=me??f,[We,Ue]=t.useState(void 0),[ze,ut]=t.useState(""),ct=a=>{ut(a.target.value),Ue(he.filter(u=>{var ue;return typeof((ue=u==null?void 0:u.props)==null?void 0:ue.children)=="string"&&u.props.children.toLowerCase().includes(a.target.value.toLowerCase())}))};t.useEffect(()=>{We&&Ue(he.filter(a=>{var u;return typeof((u=a==null?void 0:a.props)==null?void 0:u.children)=="string"&&a.props.children.toLowerCase().includes(ze)}))},[he]);const pt=ke(),fe=c&&!(i!=null&&i.readOnly);return e.jsx("div",{className:st,style:L,...Z,ref:R,children:e.jsxs(it.Provider,{value:{selectVariantItem:q},children:[e.jsxs(Ve,{onClick:g?void 0:ne,children:[e.jsx(Yt,{level:P,className:p.title,children:i==null?void 0:i.children}),c&&e.jsx("div",{className:ot,children:Y})]}),e.jsx(X,{className:ve(p.navDownBtn,"ui5-content-density-compact"),tooltip:Fe,accessibleName:Fe,onClick:g?void 0:ne,design:F.Transparent,icon:yt,disabled:g}),pt?qe.createPortal(e.jsx(Kt,{className:p.popover,ref:_,headerText:I,placementType:j,footer:(fe||!U||!H)&&e.jsx(Oe,{design:Be.Footer,className:p.footer,endContent:e.jsxs(e.Fragment,{children:[!n&&fe&&e.jsx(X,{onClick:Q,design:F.Emphasized,children:lt}),!n&&!U&&e.jsx(X,{onClick:A,design:fe?F.Transparent:F.Emphasized,disabled:!i||Object.keys(i).length===0,children:M}),!n&&!H&&e.jsx(X,{onClick:S,design:fe||!U?F.Transparent:F.Emphasized,children:se})]})}),onAfterClose:jt,children:n?e.jsx(zt,{name:Jt.UnableToLoad}):e.jsx(Qt,{onSelectionChange:dt,mode:Xt.SingleSelect,header:ee?e.jsx("div",{className:p.searchInputContainer,tabIndex:-1,children:e.jsx(Se,{className:p.searchInput,accessibleName:rt,value:ze,placeholder:re,onInput:ct,showClearIcon:!0,icon:e.jsx(we,{name:Qe,className:p.inputIcon})})}):void 0,children:We??he})}),E??document.body):null,v&&e.jsx(Ae,{onAfterClose:m,handleSaveManageViews:D,showShare:!O,showApplyAutomatically:!B,showCreatedBy:!W,showSetAsDefault:!G,variantNames:Le,portalContainer:E,showOnlyFavorites:x,children:f}),z&&e.jsx(De,{saveViewInputProps:le,portalContainer:E,showShare:!O,showApplyAutomatically:!B,showSetAsDefault:!G,onAfterClose:$,handleSave:d,selectedVariant:i,variantNames:Le})]})})});Ne.displayName="VariantManagement";try{Ne.displayName="VariantManagement",Ne.__docgenInfo={description:"The `VariantManagement` component can be used to manage variants, such as FilterBar variants or AnalyticalTable variants.",displayName:"VariantManagement",props:{children:{defaultValue:null,description:"Variant items displayed by the VariantManagement component.\n\n__Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `VariantItem` in order to preserve the intended design.",name:"children",required:!1,type:{name:"ReactNode | ReactNode[]"}},placement:{defaultValue:null,description:"Determines on which side the VariantManagement popover is placed at.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"Left"'},{value:'"Right"'},{value:'"Top"'},{value:'"Bottom"'},{value:'"Left"'},{value:'"Right"'},{value:'"Top"'},{value:'"Bottom"'}]}},titleText:{defaultValue:null,description:`Describes the title of the VariantManagement popover.

__Note:__ If not set, the default title is used.`,name:"titleText",required:!1,type:{name:"string"}},closeOnItemSelect:{defaultValue:null,description:"Defines whether the VariantManagement should be closed if an item was selected.",name:"closeOnItemSelect",required:!1,type:{name:"boolean"}},level:{defaultValue:null,description:"Describes the `HTML Title` level of the variants.",name:"level",required:!1,type:{name:"enum",value:[{value:'"H1"'},{value:'"H2"'},{value:'"H3"'},{value:'"H4"'},{value:'"H5"'},{value:'"H6"'},{value:'"H1"'},{value:'"H2"'},{value:'"H3"'},{value:'"H4"'},{value:'"H5"'},{value:'"H6"'}]}},disabled:{defaultValue:null,description:"Defines whether the VariantManagement is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},dirtyState:{defaultValue:null,description:"Indicator for modified but not saved variants.\n\n__Note:__ You can change the indicator by setting `dirtyStateText`.",name:"dirtyState",required:!1,type:{name:"boolean"}},dirtyStateText:{defaultValue:null,description:"Text for the dirty state indicator.",name:"dirtyStateText",required:!1,type:{name:"string"}},showOnlyFavorites:{defaultValue:null,description:"Indicates that the 'Favorites' feature is used. Only variants marked as favorites will be displayed in the variant list.\n\n__Note:__ Only if `showOnlyFavorites` is set to `true` favorites can be changed.",name:"showOnlyFavorites",required:!1,type:{name:"boolean"}},hideSetAsDefault:{defaultValue:null,description:"Indicates that set as default is visible in the Save View and the Manage Views dialogs.",name:"hideSetAsDefault",required:!1,type:{name:"boolean"}},hideShare:{defaultValue:null,description:"Indicates that the Public indicator is visible in the Save View and the Manage Views dialogs.",name:"hideShare",required:!1,type:{name:"boolean"}},hideApplyAutomatically:{defaultValue:null,description:"Indicates that Apply Automatically is visible in the Save View and the Manage Views dialogs.",name:"hideApplyAutomatically",required:!1,type:{name:"boolean"}},hideCreatedBy:{defaultValue:null,description:"Indicates that the Author is visible in the Manage Views dialog.",name:"hideCreatedBy",required:!1,type:{name:"boolean"}},hideSaveAs:{defaultValue:null,description:"Indicates that the Save View dialog button is visible.",name:"hideSaveAs",required:!1,type:{name:"boolean"}},hideManageVariants:{defaultValue:null,description:"Indicates that the Manage Views dialog button is visible.",name:"hideManageVariants",required:!1,type:{name:"boolean"}},inErrorState:{defaultValue:null,description:"Indicates that the control is in error state. If set to true error message will be displayed whenever the variant is opened.",name:"inErrorState",required:!1,type:{name:"boolean"}},portalContainer:{defaultValue:null,description:"Defines where modals are rendered into via `React.createPortal`.\n\nYou can find out more about this [here](https://sap.github.io/ui5-webcomponents-react/?path=/docs/knowledge-base-working-with-portals--page).\n\nDefaults to: `document.body`",name:"portalContainer",required:!1,type:{name:"Element"}},onSelect:{defaultValue:null,description:"Fired after a variant has been selected.\n\n__Note:__ This event inherits part of its details from the `onSelectionChange` event of the `List` component.",name:"onSelect",required:!1,type:{name:"(event: Ui5CustomEvent<ListDomRef, ListSelectionChangeEventDetail & { selectedVariant: SelectedVariant; }>) => void"}},onSaveAs:{defaultValue:null,description:'The event is fired when the "Save" button is clicked inside the Save View dialog.\n\n__Note:__ Calling `event.preventDefault()` prevents the dialog from closing when clicked.',name:"onSaveAs",required:!1,type:{name:"(e: MouseEvent<ButtonDomRef, MouseEvent> & { detail: SelectedVariant; }) => void"}},onSaveManageViews:{defaultValue:null,description:'The event is fired when the "Save" button is clicked inside the Manage Views dialog.\n\n__Note:__ Calling `event.preventDefault()` prevents the dialog from closing when clicked.',name:"onSaveManageViews",required:!1,type:{name:"(e: MouseEvent<ButtonDomRef, MouseEvent> & { detail: { deletedVariants: VariantItemPropTypes[]; prevVariants: VariantItemPropTypes[]; updatedVariants: UpdatedVariant[]; variants: SelectedVariant[]; }; }) => void"}},onSave:{defaultValue:null,description:'The event is fired when the "Save" button is clicked in the `VariantManagement` popover.\n\n__Note:__ The save button is only displayed if the `VariantManagement` is in `dirtyState` and the selected variant is not in `readOnly` mode.',name:"onSave",required:!1,type:{name:"(e: MouseEvent<ButtonDomRef, MouseEvent> & { detail: SelectedVariant; }) => void"}},style:{defaultValue:null,description:`Element style which will be appended to the most outer element of a component.
Use this prop carefully, some css properties might break the component.`,name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:`CSS Class Name which will be appended to the most outer element of a component.
Use this prop carefully, overwriting CSS rules might break the component.`,name:"className",required:!1,type:{name:"string"}}}}}catch{}const Ee=t.forwardRef((r,R)=>{const{isDefault:y,author:I,favorite:w,global:L,labelReadOnly:j,applyAutomatically:P,applyAutomaticallyText:k,readOnly:s,selected:g,children:o,hideDelete:h}=r,{selectVariantItem:x}=t.useContext(it),[n,O]=Rt(R);t.useEffect(()=>{g&&x({...r,variantItem:O.current})},[g]);const{manageViewsInputProps:T,saveViewInputProps:H,...B}=r;return e.jsx(Zt,{...B,ref:n,"data-is-default":y,"data-author":I,"data-favorite":w,"data-global":L,"data-label-read-only":j,"data-apply-automatically":P,"data-apply-automatically-text":k,"data-read-only":s,"data-children":o,"data-hide-delete":h})});Ee.displayName="VariantItem";try{Ee.displayName="VariantItem",Ee.__docgenInfo={description:"The `VariantItem` describes a variant/view of the `VariantManagement` component.",displayName:"VariantItem",props:{children:{defaultValue:null,description:"The name of the variant.",name:"children",required:!0,type:{name:"string"}},author:{defaultValue:null,description:"Author of the variant.",name:"author",required:!1,type:{name:"string"}},favorite:{defaultValue:null,description:"Indicates if favorites can be created.\n\n__Note:__ Has no effect if `showOnlyFavorites` is falsy in the `VariantMangament`.",name:"favorite",required:!1,type:{name:"boolean"}},global:{defaultValue:null,description:"Indicator if a variant is visible for all users (public flag is set).",name:"global",required:!1,type:{name:"boolean"}},isDefault:{defaultValue:null,description:"Indicator if it's the default variant.",name:"isDefault",required:!1,type:{name:"boolean"}},labelReadOnly:{defaultValue:null,description:"Indicates if the variant title can be changed.",name:"labelReadOnly",required:!1,type:{name:"boolean"}},applyAutomatically:{defaultValue:null,description:"Indicates if the variant should be applied automatically on selection.",name:"applyAutomatically",required:!1,type:{name:"boolean"}},applyAutomaticallyText:{defaultValue:null,description:'Text displayed next to the "Apply Automatically" checkbox inside the "Manage Views" dialog.',name:"applyAutomaticallyText",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:'If set to false, the user is allowed to change the item\'s data.\n\n__Note:__ When set to true, no "Save" button will be displayed for the `VariantItem` when the `VariantManagement` is in `dirtyState`.',name:"readOnly",required:!1,type:{name:"boolean"}},hideDelete:{defaultValue:null,description:"Indicates if the variant can be deleted.\n\n__Note:__ If not set, a delete button is shown for all variants except for variants with `global={true}`.",name:"hideDelete",required:!1,type:{name:"boolean"}},manageViewsInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Manage Views" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"manageViewsInputProps",required:!1,type:{name:'Omit<InputPropTypes, "value">'}},saveViewInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Save View" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"saveViewInputProps",required:!1,type:{name:'Omit<InputPropTypes, "id" | "value">'}},accessibleName:{defaultValue:null,description:"Defines the text alternative of the component. Note: If not provided a default text alternative will be set, if present.",name:"accessibleName",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"Defines the selected state of the `ListItem`.",name:"selected",required:!1,type:{name:"boolean"}}}}}catch{}export{Ne as V,Ee as a};
//# sourceMappingURL=VariantItem-6be2e9b2.js.map
