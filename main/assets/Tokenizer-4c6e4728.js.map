{"version":3,"file":"Tokenizer-4c6e4728.js","sources":["../../node_modules/@ui5/webcomponents/dist/generated/templates/TokenizerTemplate.lit.js","../../node_modules/@ui5/webcomponents/dist/generated/templates/TokenizerPopoverTemplate.lit.js","../../node_modules/@ui5/webcomponents/dist/generated/themes/Tokenizer.css.js","../../node_modules/@ui5/webcomponents/dist/generated/themes/TokenizerPopover.css.js","../../node_modules/@ui5/webcomponents/dist/Tokenizer.js"],"sourcesContent":["/* eslint no-unused-vars: 0 */\nimport { html, svg, repeat, classMap, styleMap, ifDefined, unsafeHTML, scopeTag } from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\n\nconst block0 = (context, tags, suffix) => html`<div class=\"${classMap(context.classes.wrapper)}\"><span id=\"${ifDefined(context._id)}-hiddenText\" class=\"ui5-hidden-text\">${ifDefined(context.tokenizerLabel)}</span><div class=\"${classMap(context.classes.content)}\" @ui5-delete=\"${ifDefined(context._delete)}\" @click=\"${context._click}\" @mousedown=\"${context._onmousedown}\" @keydown=\"${context._onkeydown}\" role=\"listbox\" aria-labelledby=\"${ifDefined(context._id)}-hiddenText\">${ repeat(context.tokens, (item, index) => item._id || index, (item, index) => block1(item, index, context, tags, suffix)) }</div>${ context.showNMore ? block2(context, tags, suffix) : undefined }</div>`;\nconst block1 = (item, index, context, tags, suffix) => html`<slot name=\"${ifDefined(item._individualSlot)}\"></slot>`;\nconst block2 = (context, tags, suffix) => html`<span @click=\"${context._openOverflowPopover}\" class=\"ui5-tokenizer-more-text\" part=\"n-more-text\">${ifDefined(context._nMoreText)}</span>`;\n\n\nexport default block0;","/* eslint no-unused-vars: 0 */\nimport { html, svg, repeat, classMap, styleMap, ifDefined, unsafeHTML, scopeTag } from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\n\nconst block0 = (context, tags, suffix) => suffix ? html`<${scopeTag(\"ui5-responsive-popover\", tags, suffix)} tokenizer-popover=\"true\" style=${styleMap(context.styles.popover)} ?content-only-on-desktop=\"${context.hasValueState}\" hide-arrow placement-type=\"Bottom\" horizontal-align=\"Left\"><div slot=\"header\" class=\"ui5-responsive-popover-header\" style=\"${styleMap(context.styles.popoverHeader)}\">${ context._isPhone ? block1(context, tags, suffix) : undefined }${ !context.hasValueState ? block2(context, tags, suffix) : undefined }</div><${scopeTag(\"ui5-list\", tags, suffix)} class=\"ui5-tokenizer-list\" mode=\"Delete\" @ui5-item-delete=${ifDefined(context.itemDelete)}>${ repeat(context._tokens, (item, index) => item._id || index, (item, index) => block4(item, index, context, tags, suffix)) }</${scopeTag(\"ui5-list\", tags, suffix)}>${ context._isPhone ? block5(context, tags, suffix) : undefined }</${scopeTag(\"ui5-responsive-popover\", tags, suffix)}>` : html`<ui5-responsive-popover tokenizer-popover=\"true\" style=${styleMap(context.styles.popover)} ?content-only-on-desktop=\"${context.hasValueState}\" hide-arrow placement-type=\"Bottom\" horizontal-align=\"Left\"><div slot=\"header\" class=\"ui5-responsive-popover-header\" style=\"${styleMap(context.styles.popoverHeader)}\">${ context._isPhone ? block1(context, tags, suffix) : undefined }${ !context.hasValueState ? block2(context, tags, suffix) : undefined }</div><ui5-list class=\"ui5-tokenizer-list\" mode=\"Delete\" @ui5-item-delete=${ifDefined(context.itemDelete)}>${ repeat(context._tokens, (item, index) => item._id || index, (item, index) => block4(item, index, context, tags, suffix)) }</ui5-list>${ context._isPhone ? block5(context, tags, suffix) : undefined }</ui5-responsive-popover>`;\nconst block1 = (context, tags, suffix) => suffix ? html`<div class=\"row\" style=\"${styleMap(context.styles.popoverHeaderTitle)}\"><${scopeTag(\"ui5-title\", tags, suffix)} level=\"H5\" class=\"ui5-responsive-popover-header-text\">${ifDefined(context.morePopoverTitle)}</${scopeTag(\"ui5-title\", tags, suffix)}><${scopeTag(\"ui5-button\", tags, suffix)} class=\"ui5-responsive-popover-close-btn\" icon=\"decline\" design=\"Transparent\" @click=\"${context.closeMorePopover}\"></${scopeTag(\"ui5-button\", tags, suffix)}></div>` : html`<div class=\"row\" style=\"${styleMap(context.styles.popoverHeaderTitle)}\"><ui5-title level=\"H5\" class=\"ui5-responsive-popover-header-text\">${ifDefined(context.morePopoverTitle)}</ui5-title><ui5-button class=\"ui5-responsive-popover-close-btn\" icon=\"decline\" design=\"Transparent\" @click=\"${context.closeMorePopover}\"></ui5-button></div>`;\nconst block2 = (context, tags, suffix) => suffix ? html`<div class=\"${classMap(context.classes.popoverValueState)}\" style=\"${styleMap(context.styles.popoverValueStateMessage)}\"><${scopeTag(\"ui5-icon\", tags, suffix)} class=\"ui5-input-value-state-message-icon\" name=\"${ifDefined(context._valueStateMessageIcon)}\"></${scopeTag(\"ui5-icon\", tags, suffix)}>${ repeat(context.valueStateMessageText, (item, index) => item._id || index, (item, index) => block3(item, index, context, tags, suffix)) }</div>` : html`<div class=\"${classMap(context.classes.popoverValueState)}\" style=\"${styleMap(context.styles.popoverValueStateMessage)}\"><ui5-icon class=\"ui5-input-value-state-message-icon\" name=\"${ifDefined(context._valueStateMessageIcon)}\"></ui5-icon>${ repeat(context.valueStateMessageText, (item, index) => item._id || index, (item, index) => block3(item, index, context, tags, suffix)) }</div>`;\nconst block3 = (item, index, context, tags, suffix) => html`${ifDefined(item)}`;\nconst block4 = (item, index, context, tags, suffix) => suffix ? html`<${scopeTag(\"ui5-li\", tags, suffix)} .tokenRef=${ifDefined(item)}>${ifDefined(item.text)}</${scopeTag(\"ui5-li\", tags, suffix)}>` : html`<ui5-li .tokenRef=${ifDefined(item)}>${ifDefined(item.text)}</ui5-li>`;\nconst block5 = (context, tags, suffix) => suffix ? html`<div slot=\"footer\" class=\"ui5-responsive-popover-footer\"><${scopeTag(\"ui5-button\", tags, suffix)} design=\"Transparent\" @click=\"${context.closeMorePopover}\">OK</${scopeTag(\"ui5-button\", tags, suffix)}></div>` : html`<div slot=\"footer\" class=\"ui5-responsive-popover-footer\"><ui5-button design=\"Transparent\" @click=\"${context.closeMorePopover}\">OK</ui5-button></div>`;\n\n\nexport default block0;","import { registerThemePropertiesLoader } from \"@ui5/webcomponents-base/dist/asset-registries/Themes.js\";\nimport defaultThemeBase from \"@ui5/webcomponents-theming/dist/generated/themes/sap_fiori_3/parameters-bundle.css.js\";\nimport defaultTheme from \"./sap_fiori_3/parameters-bundle.css.js\";\nregisterThemePropertiesLoader(\"@ui5/webcomponents-theming\", \"sap_fiori_3\", async () => defaultThemeBase);\nregisterThemePropertiesLoader(\"@ui5/webcomponents\", \"sap_fiori_3\", async () => defaultTheme);\nconst styleData = { packageName: \"@ui5/webcomponents\", fileName: \"themes/Tokenizer.css.ts\", content: \".ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host{display:inline-block;box-sizing:border-box;border:1px solid #000;height:2.25rem}.ui5-tokenizer-root{height:100%;display:flex;align-items:center;overflow-x:scroll;box-sizing:border-box;font-family:\\\"72override\\\",var(--sapFontFamily)}.ui5-tokenizer-no-padding{padding:0}.ui5-tokenizer-root.ui5-tokenizer-nmore--wrapper{overflow:hidden}.ui5-tokenizer--token--wrapper{display:inline-flex;align-items:center;box-sizing:border-box;height:100%}:host([expanded]) .ui5-tokenizer--content{display:inline-block;white-space:nowrap}.ui5-tokenizer--content{display:flex;flex-wrap:nowrap;align-items:center;overflow:hidden;padding-inline-start:var(--_ui5_tokenizer_padding)}.ui5-tokenizer-more-text{display:inline-block;margin-inline-start:.25rem;cursor:pointer;white-space:nowrap;font-size:var(--sapFontSize);font-weight:400;color:var(--_ui5_tokenizer_n_more_text_color)}:host([expanded]) .ui5-tokenizer--content{overflow:hidden;justify-content:flex-end}\" };\nexport default styleData;\n//# sourceMappingURL=Tokenizer.css.js.map","import { registerThemePropertiesLoader } from \"@ui5/webcomponents-base/dist/asset-registries/Themes.js\";\nimport defaultThemeBase from \"@ui5/webcomponents-theming/dist/generated/themes/sap_fiori_3/parameters-bundle.css.js\";\nimport defaultTheme from \"./sap_fiori_3/parameters-bundle.css.js\";\nregisterThemePropertiesLoader(\"@ui5/webcomponents-theming\", \"sap_fiori_3\", async () => defaultThemeBase);\nregisterThemePropertiesLoader(\"@ui5/webcomponents\", \"sap_fiori_3\", async () => defaultTheme);\nconst styleData = { packageName: \"@ui5/webcomponents\", fileName: \"themes/TokenizerPopover.css.ts\", content: \"[ui5-responsive-popover]::part(content),[ui5-responsive-popover]::part(header){padding:0}\" };\nexport default styleData;\n//# sourceMappingURL=TokenizerPopover.css.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar Tokenizer_1;\nimport UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport slot from \"@ui5/webcomponents-base/dist/decorators/slot.js\";\nimport event from \"@ui5/webcomponents-base/dist/decorators/event.js\";\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport ScrollEnablement from \"@ui5/webcomponents-base/dist/delegate/ScrollEnablement.js\";\nimport Integer from \"@ui5/webcomponents-base/dist/types/Integer.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { isSpace, isSpaceCtrl, isSpaceShift, isLeftCtrl, isRightCtrl, isUpCtrl, isDownCtrl, isUpShift, isDownShift, isLeftShift, isRightShift, isLeftShiftCtrl, isRightShiftCtrl, isEnd, isHome, isHomeShift, isEndShift, isHomeCtrl, isEndCtrl, isRight, isLeft, isUp, isDown, } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport List from \"./List.js\";\nimport Title from \"./Title.js\";\nimport Button from \"./Button.js\";\nimport StandardListItem from \"./StandardListItem.js\";\nimport TokenizerTemplate from \"./generated/templates/TokenizerTemplate.lit.js\";\nimport TokenizerPopoverTemplate from \"./generated/templates/TokenizerPopoverTemplate.lit.js\";\nimport { MULTIINPUT_SHOW_MORE_TOKENS, TOKENIZER_ARIA_LABEL, TOKENIZER_POPOVER_REMOVE, TOKENIZER_ARIA_CONTAIN_TOKEN, TOKENIZER_ARIA_CONTAIN_ONE_TOKEN, TOKENIZER_ARIA_CONTAIN_SEVERAL_TOKENS, } from \"./generated/i18n/i18n-defaults.js\";\n// Styles\nimport TokenizerCss from \"./generated/themes/Tokenizer.css.js\";\nimport TokenizerPopoverCss from \"./generated/themes/TokenizerPopover.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\nimport ValueStateMessageCss from \"./generated/themes/ValueStateMessage.css.js\";\n// reuse suggestions focus styling for NMore popup\nimport SuggestionsCss from \"./generated/themes/Suggestions.css.js\";\nvar ClipboardDataOperation;\n(function (ClipboardDataOperation) {\n    ClipboardDataOperation[\"cut\"] = \"cut\";\n    ClipboardDataOperation[\"copy\"] = \"copy\";\n})(ClipboardDataOperation || (ClipboardDataOperation = {}));\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * A container for tokens.\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webc.main.Tokenizer\n * @extends sap.ui.webc.base.UI5Element\n * @tagname ui5-tokenizer\n * @usestextcontent\n * @private\n */\nlet Tokenizer = Tokenizer_1 = class Tokenizer extends UI5Element {\n    _handleResize() {\n        this._nMoreCount = this.overflownTokens.length;\n    }\n    constructor() {\n        super();\n        this._resizeHandler = this._handleResize.bind(this);\n        this._itemNav = new ItemNavigation(this, {\n            currentIndex: -1,\n            getItemsCallback: this._getVisibleTokens.bind(this),\n        });\n        this._scrollEnablement = new ScrollEnablement(this);\n    }\n    onBeforeRendering() {\n        this._nMoreCount = this.overflownTokens.length;\n    }\n    onEnterDOM() {\n        ResizeHandler.register(this.contentDom, this._resizeHandler);\n    }\n    onExitDOM() {\n        ResizeHandler.deregister(this.contentDom, this._resizeHandler);\n    }\n    async _openOverflowPopover() {\n        if (this.showPopover) {\n            const popover = await this.getPopover();\n            popover.showAt(this.morePopoverOpener || this);\n        }\n        this.fireEvent(\"show-more-items-press\");\n    }\n    _getTokens() {\n        return this.getSlottedNodes(\"tokens\");\n    }\n    get _tokens() {\n        return this.getSlottedNodes(\"tokens\");\n    }\n    get showPopover() {\n        return !!Object.keys(this.morePopoverOpener).length;\n    }\n    _getVisibleTokens() {\n        if (this.disabled) {\n            return [];\n        }\n        return this._tokens.filter((token, index) => {\n            return index < (this._tokens.length - this._nMoreCount);\n        });\n    }\n    async onAfterRendering() {\n        if (this.showPopover && !this._getTokens().length) {\n            const popover = await this.getPopover();\n            popover.close();\n        }\n        this._scrollEnablement.scrollContainer = (this.expanded || !this.narrowContentDom) ? this.expandedContentDom : this.narrowContentDom;\n        if (this.expanded) {\n            this._expandedScrollWidth = this.expandedContentDom.scrollWidth;\n            this.scrollToEnd();\n        }\n        if (!this.expanded) {\n            this.scrollToStart();\n        }\n    }\n    _delete(e) {\n        const target = e.target;\n        if (!e.detail) { // if there are no details, the event is triggered by a click\n            this._tokenClickDelete(e, target);\n            return;\n        }\n        if (this._selectedTokens.length) {\n            this._selectedTokens.forEach(token => this.deleteToken(token, e.detail.backSpace));\n        }\n        else {\n            this.deleteToken(target, e.detail.backSpace);\n        }\n    }\n    _tokenClickDelete(e, token) {\n        const tokens = this._getVisibleTokens();\n        const target = e.target;\n        const deletedTokenIndex = token ? tokens.indexOf(token) : tokens.indexOf(target); // The index of the token that just got deleted\n        const nextTokenIndex = deletedTokenIndex === tokens.length - 1 ? deletedTokenIndex - 1 : deletedTokenIndex + 1; // The index of the next token that needs to be focused next due to the deletion\n        const nextToken = tokens[nextTokenIndex]; // if the last item was deleted this will be undefined\n        this._handleCurrentItemAfterDeletion(nextToken);\n        this.fireEvent(\"token-delete\", { ref: token || target });\n    }\n    _handleCurrentItemAfterDeletion(nextToken) {\n        if (nextToken && !isPhone()) {\n            this._itemNav.setCurrentItem(nextToken); // update the item navigation with the new token or undefined, if the last was deleted\n            setTimeout(() => {\n                nextToken.focus();\n            }, 0);\n        }\n    }\n    /**\n     * Removes a token from the Tokenizer.\n     * This method should only be used by ui5-multi-combobox and ui5-multi-input\n     *\n     * @protected\n     * @param token Token to be focused.\n     * @param forwardFocusToPrevious Indicates whether the focus will be forwarded to previous or next token after deletion.\n     */\n    deleteToken(token, forwardFocusToPrevious) {\n        const tokens = this._getVisibleTokens();\n        const deletedTokenIndex = tokens.indexOf(token);\n        let nextTokenIndex = (deletedTokenIndex === tokens.length - 1) ? deletedTokenIndex - 1 : deletedTokenIndex + 1;\n        const notSelectedTokens = tokens.filter(t => !t.selected);\n        if (forwardFocusToPrevious) { // on backspace key select the previous item (unless deleting the first)\n            nextTokenIndex = deletedTokenIndex === 0 ? deletedTokenIndex + 1 : deletedTokenIndex - 1;\n        }\n        else { // on delete key or mouse click on the \"x\" select the next item (unless deleting the last)\n            nextTokenIndex = deletedTokenIndex === tokens.length - 1 ? deletedTokenIndex - 1 : deletedTokenIndex + 1;\n        }\n        let nextToken = tokens[nextTokenIndex];\n        if (notSelectedTokens.length > 1) {\n            while (nextToken && nextToken.selected) {\n                nextToken = forwardFocusToPrevious ? tokens[--nextTokenIndex] : tokens[++nextTokenIndex];\n            }\n        }\n        else {\n            nextToken = notSelectedTokens[0];\n        }\n        this._handleCurrentItemAfterDeletion(nextToken);\n        this.fireEvent(\"token-delete\", { ref: token });\n    }\n    itemDelete(e) {\n        const token = e.detail.item.tokenRef;\n        this.fireEvent(\"token-delete\", { ref: token });\n    }\n    _onkeydown(e) {\n        if (isSpaceShift(e)) {\n            e.preventDefault();\n        }\n        if (isSpace(e) || isSpaceCtrl(e)) {\n            e.preventDefault();\n            return this._handleTokenSelection(e, false);\n        }\n        if (isHomeShift(e)) {\n            this._handleHomeShift(e);\n        }\n        if (isEndShift(e)) {\n            this._handleEndShift(e);\n        }\n        this._handleItemNavigation(e, this._tokens);\n    }\n    _handleItemNavigation(e, tokens) {\n        const isCtrl = !!(e.metaKey || e.ctrlKey);\n        const target = e.target;\n        if (isLeftCtrl(e) || isRightCtrl(e) || isDownCtrl(e) || isUpCtrl(e)) {\n            return this._handleArrowCtrl(e, target, tokens, isRightCtrl(e) || isDownCtrl(e));\n        }\n        if (isLeftShift(e) || isRightShift(e) || isUpShift(e) || isDownShift(e) || isLeftShiftCtrl(e) || isRightShiftCtrl(e)) {\n            e.preventDefault();\n            return this._handleArrowShift(target, tokens, (isRightShift(e) || isRightShiftCtrl(e) || isDownShift(e)));\n        }\n        if (isHome(e) || isEnd(e) || isHomeCtrl(e) || isEndCtrl(e)) {\n            e.preventDefault();\n            return this._handleHome(tokens, isEnd(e) || isEndCtrl(e));\n        }\n        if (isCtrl && e.key.toLowerCase() === \"a\") {\n            e.preventDefault();\n            return this._toggleTokenSelection(tokens);\n        }\n        if (isLeft(e) || isRight(e) || isUp(e) || isDown(e)) {\n            const nextTokenIdx = this._calcNextTokenIndex(this._tokens.find(token => token.focused), tokens, (isRight(e) || isDown(e)));\n            this._scrollToToken(tokens[nextTokenIdx]);\n        }\n    }\n    _handleHome(tokens, endKeyPressed) {\n        if (!tokens || !tokens.length) {\n            return -1;\n        }\n        const index = endKeyPressed ? tokens.length - 1 : 0;\n        tokens[index].focus();\n        this._itemNav.setCurrentItem(tokens[index]);\n    }\n    _handleHomeShift(e) {\n        const tokens = this.tokens;\n        const target = e.target;\n        const currentTokenIdx = tokens.indexOf(target);\n        tokens.filter((token, index) => index <= currentTokenIdx).forEach(token => {\n            token.selected = true;\n        });\n        tokens[0].focus();\n        this._itemNav.setCurrentItem(tokens[0]);\n    }\n    _handleEndShift(e) {\n        const tokens = this.tokens;\n        const target = e.target;\n        const currentTokenIdx = tokens.indexOf(target);\n        tokens.filter((token, index) => index >= currentTokenIdx).forEach(token => {\n            token.selected = true;\n        });\n        tokens[tokens.length - 1].focus();\n        this._itemNav.setCurrentItem(tokens[tokens.length - 1]);\n    }\n    _calcNextTokenIndex(focusedToken, tokens, backwards) {\n        if (!tokens.length) {\n            return -1;\n        }\n        const focusedTokenIndex = tokens.indexOf(focusedToken);\n        let nextIndex = backwards ? (focusedTokenIndex + 1) : (focusedTokenIndex - 1);\n        if (nextIndex >= tokens.length) {\n            nextIndex = tokens.length - 1;\n        }\n        if (nextIndex < 0) {\n            nextIndex = 0;\n        }\n        return nextIndex;\n    }\n    _handleArrowCtrl(e, focusedToken, tokens, backwards) {\n        const nextIndex = this._calcNextTokenIndex(focusedToken, tokens, backwards);\n        e.preventDefault();\n        if (nextIndex === -1) {\n            return;\n        }\n        setTimeout(() => {\n            tokens[nextIndex].focus();\n        }, 0);\n        this._scrollToToken(tokens[nextIndex]);\n        this._itemNav.setCurrentItem(tokens[nextIndex]);\n    }\n    _handleArrowShift(focusedToken, tokens, backwards) {\n        const focusedTokenIndex = tokens.indexOf(focusedToken);\n        const nextIndex = backwards ? (focusedTokenIndex + 1) : (focusedTokenIndex - 1);\n        if (nextIndex === -1 || nextIndex === tokens.length) {\n            return;\n        }\n        focusedToken.selected = true;\n        tokens[nextIndex].selected = true;\n        setTimeout(() => {\n            tokens[nextIndex].focus();\n        }, 0);\n        this._scrollToToken(tokens[nextIndex]);\n        this._itemNav.setCurrentItem(tokens[nextIndex]);\n    }\n    _click(e) {\n        this._handleTokenSelection(e);\n    }\n    _onmousedown(e) {\n        if (e.target.hasAttribute(\"ui5-token\")) {\n            const target = e.target;\n            if (!target.toBeDeleted) {\n                this._itemNav.setCurrentItem(target);\n                this._scrollToToken(target);\n            }\n        }\n    }\n    _toggleTokenSelection(tokens) {\n        if (!tokens || !tokens.length) {\n            return;\n        }\n        const tokensAreSelected = tokens.every(token => token.selected);\n        tokens.forEach(token => { token.selected = !tokensAreSelected; });\n    }\n    _handleTokenSelection(e, deselectAll = true) {\n        const target = e.target;\n        if (target.hasAttribute(\"ui5-token\")) {\n            const deselectTokens = deselectAll ? this._tokens : [];\n            deselectTokens.forEach(token => {\n                if (token !== target) {\n                    token.selected = false;\n                }\n            });\n        }\n    }\n    _fillClipboard(shortcutName, tokens) {\n        const tokensTexts = tokens.filter(token => token.selected).map(token => token.text).join(\"\\r\\n\");\n        /* fill clipboard with tokens' texts so parent can handle creation */\n        const cutToClipboard = (e) => {\n            if (e.clipboardData) {\n                e.clipboardData.setData(\"text/plain\", tokensTexts);\n            }\n            e.preventDefault();\n        };\n        document.addEventListener(shortcutName, cutToClipboard);\n        document.execCommand(shortcutName);\n        document.removeEventListener(shortcutName, cutToClipboard);\n    }\n    /**\n     * Scrolls the container of the tokens to its beginning.\n     * This method is used by MultiInput and MultiComboBox.\n     * @private\n     */\n    scrollToStart() {\n        if (this._scrollEnablement.scrollContainer) {\n            this._scrollEnablement.scrollTo(0, 0);\n        }\n    }\n    /**\n     * Scrolls the container of the tokens to its end when expanded.\n     * This method is used by MultiInput and MultiComboBox.\n     * @private\n     */\n    scrollToEnd() {\n        const expandedTokenizerScrollWidth = this.expandedContentDom && (this.effectiveDir !== \"rtl\" ? this.expandedContentDom.scrollWidth : -this.expandedContentDom.scrollWidth);\n        if (this._scrollEnablement.scrollContainer) {\n            this._scrollEnablement.scrollTo(expandedTokenizerScrollWidth, 0, 5, 10);\n        }\n    }\n    /**\n     * Scrolls token to the visible area of the container.\n     * Adds 4 pixels to the scroll position to ensure padding and border visibility on both ends\n     * @private\n     */\n    _scrollToToken(token) {\n        if (!this.expandedContentDom) {\n            return;\n        }\n        const tokenRect = token.getBoundingClientRect();\n        const tokenContainerRect = this.expandedContentDom.getBoundingClientRect();\n        if (tokenRect.left < tokenContainerRect.left) {\n            this._scrollEnablement.scrollTo(this.expandedContentDom.scrollLeft - (tokenContainerRect.left - tokenRect.left + 5), 0);\n        }\n        else if (tokenRect.right > tokenContainerRect.right) {\n            this._scrollEnablement.scrollTo(this.expandedContentDom.scrollLeft + (tokenRect.right - tokenContainerRect.right + 5), 0);\n        }\n    }\n    async closeMorePopover() {\n        const popover = await this.getPopover();\n        popover.close();\n    }\n    get _nMoreText() {\n        return Tokenizer_1.i18nBundle.getText(MULTIINPUT_SHOW_MORE_TOKENS, this._nMoreCount);\n    }\n    get showNMore() {\n        return !this.expanded && this.showMore && !!this.overflownTokens.length;\n    }\n    get contentDom() {\n        return this.shadowRoot.querySelector(\".ui5-tokenizer--content\");\n    }\n    get expandedContentDom() {\n        return this.shadowRoot.querySelector(\".ui5-tokenizer-expanded--content\");\n    }\n    get narrowContentDom() {\n        return this.shadowRoot.querySelector(\".ui5-tokenizer-nmore--content\");\n    }\n    get tokenizerLabel() {\n        return Tokenizer_1.i18nBundle.getText(TOKENIZER_ARIA_LABEL);\n    }\n    get morePopoverTitle() {\n        return Tokenizer_1.i18nBundle.getText(TOKENIZER_POPOVER_REMOVE);\n    }\n    get overflownTokens() {\n        if (!this.contentDom) {\n            return [];\n        }\n        // Reset the overflow prop of the tokens first in order\n        // to use their dimensions for calculation because already\n        // hidden tokens are set to 'display: none'\n        this._getTokens().forEach(token => {\n            token.overflows = false;\n        });\n        return this._getTokens().filter(token => {\n            const parentRect = this.contentDom.getBoundingClientRect();\n            const tokenRect = token.getBoundingClientRect();\n            const tokenEnd = tokenRect.right;\n            const parentEnd = parentRect.right;\n            const tokenStart = tokenRect.left;\n            const parentStart = parentRect.left;\n            token.overflows = !this.expanded && ((tokenStart < parentStart) || (tokenEnd > parentEnd));\n            return token.overflows;\n        });\n    }\n    get hasValueState() {\n        return this.valueState === ValueState.None || this.valueState === ValueState.Success;\n    }\n    get valueStateMessageText() {\n        return this.getSlottedNodes(\"valueStateMessage\").map(el => el.cloneNode(true));\n    }\n    /**\n     * This method is relevant for sap_horizon theme only\n     */\n    get _valueStateMessageIcon() {\n        const iconPerValueState = {\n            Error: \"error\",\n            Warning: \"alert\",\n            Success: \"sys-enter-2\",\n            Information: \"information\",\n        };\n        return this.valueState !== ValueState.None ? iconPerValueState[this.valueState] : \"\";\n    }\n    get _isPhone() {\n        return isPhone();\n    }\n    get _selectedTokens() {\n        return this._getTokens().filter(token => token.selected);\n    }\n    get classes() {\n        return {\n            wrapper: {\n                \"ui5-tokenizer-root\": true,\n                \"ui5-tokenizer-nmore--wrapper\": this.showMore,\n                \"ui5-tokenizer-no-padding\": !this._getTokens().length,\n            },\n            content: {\n                \"ui5-tokenizer--content\": true,\n                \"ui5-tokenizer-expanded--content\": !this.showNMore,\n                \"ui5-tokenizer-nmore--content\": this.showNMore,\n            },\n            popoverValueState: {\n                \"ui5-valuestatemessage-root\": true,\n                \"ui5-responsive-popover-header\": this.showPopover,\n                \"ui5-valuestatemessage--success\": this.valueState === ValueState.Success,\n                \"ui5-valuestatemessage--error\": this.valueState === ValueState.Error,\n                \"ui5-valuestatemessage--warning\": this.valueState === ValueState.Warning,\n                \"ui5-valuestatemessage--information\": this.valueState === ValueState.Information,\n            },\n        };\n    }\n    get styles() {\n        return {\n            popover: {\n                \"min-width\": this.popoverMinWidth ? `${this.popoverMinWidth}px` : \"\",\n            },\n            popoverValueStateMessage: {\n                \"width\": this.popoverMinWidth && !isPhone() ? `${this.popoverMinWidth}px` : \"100%\",\n                \"min-height\": \"2rem\",\n            },\n            popoverHeader: {\n                \"min-height\": \"2rem\",\n            },\n            popoverHeaderTitle: {\n                \"justify-content\": \"left\",\n            },\n        };\n    }\n    _tokensCountText() {\n        const iTokenCount = this._getTokens().length;\n        if (iTokenCount === 0) {\n            return Tokenizer_1.i18nBundle.getText(TOKENIZER_ARIA_CONTAIN_TOKEN);\n        }\n        if (iTokenCount === 1) {\n            return Tokenizer_1.i18nBundle.getText(TOKENIZER_ARIA_CONTAIN_ONE_TOKEN);\n        }\n        return Tokenizer_1.i18nBundle.getText(TOKENIZER_ARIA_CONTAIN_SEVERAL_TOKENS, iTokenCount);\n    }\n    /**\n     * @protected\n     */\n    _focusLastToken() {\n        if (this.tokens.length === 0) {\n            return;\n        }\n        const lastToken = this.tokens[this.tokens.length - 1];\n        lastToken.focus();\n        this._itemNav.setCurrentItem(lastToken);\n    }\n    static async onDefine() {\n        Tokenizer_1.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n    }\n    async getPopover() {\n        const staticAreaItem = await this.getStaticAreaItemDomRef();\n        return staticAreaItem.querySelector(\"[ui5-responsive-popover]\");\n    }\n};\n__decorate([\n    property({ type: Boolean })\n], Tokenizer.prototype, \"showMore\", void 0);\n__decorate([\n    property({ type: Boolean })\n], Tokenizer.prototype, \"disabled\", void 0);\n__decorate([\n    property({ type: Boolean })\n], Tokenizer.prototype, \"expanded\", void 0);\n__decorate([\n    property({ type: Object })\n], Tokenizer.prototype, \"morePopoverOpener\", void 0);\n__decorate([\n    property({ validator: Integer })\n], Tokenizer.prototype, \"popoverMinWidth\", void 0);\n__decorate([\n    property({ type: ValueState, defaultValue: ValueState.None })\n], Tokenizer.prototype, \"valueState\", void 0);\n__decorate([\n    property({ validator: Integer })\n], Tokenizer.prototype, \"_nMoreCount\", void 0);\n__decorate([\n    slot({ type: HTMLElement, \"default\": true, individualSlots: true })\n], Tokenizer.prototype, \"tokens\", void 0);\n__decorate([\n    slot()\n], Tokenizer.prototype, \"valueStateMessage\", void 0);\nTokenizer = Tokenizer_1 = __decorate([\n    customElement({\n        tag: \"ui5-tokenizer\",\n        languageAware: true,\n        renderer: litRender,\n        template: TokenizerTemplate,\n        styles: TokenizerCss,\n        staticAreaStyles: [\n            ResponsivePopoverCommonCss,\n            ValueStateMessageCss,\n            SuggestionsCss,\n            TokenizerPopoverCss,\n        ],\n        staticAreaTemplate: TokenizerPopoverTemplate,\n        dependencies: [\n            ResponsivePopover,\n            List,\n            StandardListItem,\n            Title,\n            Button,\n        ],\n    }),\n    event(\"token-delete\", {\n        detail: {\n            ref: { type: HTMLElement },\n        },\n    }),\n    event(\"show-more-items-press\", {\n        detail: {\n            ref: { type: HTMLElement },\n        },\n    })\n], Tokenizer);\nTokenizer.define();\nexport default Tokenizer;\nexport { ClipboardDataOperation };\n//# sourceMappingURL=Tokenizer.js.map"],"names":["block0","context","tags","suffix","html","classMap","ifDefined","repeat","item","index","block1","block2","scopeTag","styleMap","block4","block5","block3","registerThemePropertiesLoader","defaultThemeBase","defaultTheme","styleData","__decorate","this","decorators","target","key","desc","c","r","d","i","Tokenizer_1","ClipboardDataOperation","Tokenizer","UI5Element","ItemNavigation","ScrollEnablement","ResizeHandler","token","tokens","deletedTokenIndex","nextTokenIndex","nextToken","isPhone","forwardFocusToPrevious","notSelectedTokens","t","isSpaceShift","isSpace","isSpaceCtrl","isHomeShift","isEndShift","isCtrl","isLeftCtrl","isRightCtrl","isDownCtrl","isUpCtrl","isLeftShift","isRightShift","isUpShift","isDownShift","isLeftShiftCtrl","isRightShiftCtrl","isHome","isEnd","isHomeCtrl","isEndCtrl","isLeft","isRight","isUp","isDown","nextTokenIdx","endKeyPressed","currentTokenIdx","focusedToken","backwards","focusedTokenIndex","nextIndex","tokensAreSelected","deselectAll","shortcutName","tokensTexts","cutToClipboard","e","expandedTokenizerScrollWidth","tokenRect","tokenContainerRect","MULTIINPUT_SHOW_MORE_TOKENS","TOKENIZER_ARIA_LABEL","TOKENIZER_POPOVER_REMOVE","parentRect","tokenEnd","parentEnd","tokenStart","parentStart","ValueState","el","iconPerValueState","iTokenCount","TOKENIZER_ARIA_CONTAIN_TOKEN","TOKENIZER_ARIA_CONTAIN_ONE_TOKEN","TOKENIZER_ARIA_CONTAIN_SEVERAL_TOKENS","lastToken","getI18nBundle","property","Integer","slot","customElement","litRender","TokenizerTemplate","TokenizerCss","ResponsivePopoverCommonCss","ValueStateMessageCss","SuggestionsCss","TokenizerPopoverCss","TokenizerPopoverTemplate","ResponsivePopover","List","StandardListItem","Title","Button","event","Tokenizer$1"],"mappings":"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"}