import{r as B,U as E,k as b,n as M,o as j}from"./UI5Element-ZYvPEp0D.js";import{a,b as c,l as s,s as H,p as u,c as A,f as z}from"./withWebComponent-c-uI2wMj.js";import{s as L}from"./slot-HSrR9XJ-.js";import{e as v}from"./event-lM5HanI-.js";import{D as N}from"./Popover-UsQMNwiB.js";import{c as $,b as g,m as x}from"./Keys-ZEuNsqmZ.js";import{a as W}from"./i18nBundle-1RfbKOQr.js";import"./slim-arrow-right-TNC8KtYg.js";import{I as R}from"./Integer-kog98579.js";import F from"./ResponsivePopover-otQ0zhDG.js";import{b as U}from"./Button-1Daxek4z.js";import{d as V}from"./List-l1pd0D1R.js";import K from"./StandardListItem-hTTnniZd.js";import{c as I,I as q}from"./Icon-7RzQfNaI.js";import{a as Y}from"./BusyIndicator-_ZqjypQr.js";import{M as G,r as J}from"./i18n-defaults-zaMx1beJ.js";import{s as Q}from"./parameters-bundle.css-mPCp9TQx.js";function X(o,e,t){return t?a`<${c("ui5-responsive-popover",e,t)} id="${s(this._id)}-menu-rp" class="ui5-menu-rp" horizontal-align="Left" placement-type=${s(this.placementType)} vertical-align=${s(this.verticalAlign)} hide-arrow allow-target-overlap ?sub-menu=${this._isSubMenu} @ui5-before-open=${s(this._beforePopoverOpen)} @ui5-after-open=${s(this._afterPopoverOpen)} @ui5-before-close=${s(this._beforePopoverClose)} @ui5-after-close=${s(this._afterPopoverClose)}>${this.isPhone?S.call(this,o,e,t):void 0}<div id="${s(this._id)}-menu-main">${this._currentItems.length?O.call(this,o,e,t):D.call(this,o,e,t)}</div></${c("ui5-responsive-popover",e,t)}><div class="ui5-menu-submenus"></div>`:a`<ui5-responsive-popover id="${s(this._id)}-menu-rp" class="ui5-menu-rp" horizontal-align="Left" placement-type=${s(this.placementType)} vertical-align=${s(this.verticalAlign)} hide-arrow allow-target-overlap ?sub-menu=${this._isSubMenu} @ui5-before-open=${s(this._beforePopoverOpen)} @ui5-after-open=${s(this._afterPopoverOpen)} @ui5-before-close=${s(this._beforePopoverClose)} @ui5-after-close=${s(this._afterPopoverClose)}>${this.isPhone?S.call(this,o,e,t):void 0}<div id="${s(this._id)}-menu-main">${this._currentItems.length?O.call(this,o,e,t):D.call(this,o,e,t)}</div></ui5-responsive-popover><div class="ui5-menu-submenus"></div>`}function S(o,e,t){return t?a`<div slot="header" class="ui5-menu-dialog-header">${this.isSubMenuOpened?T.call(this,o,e,t):void 0}<div class="ui5-menu-dialog-title"><div>${s(this.menuHeaderTextPhone)}</div></div><${c("ui5-button",e,t)} icon="decline" design="Transparent" aria-label="${s(this.labelClose)}" @click=${this.close}></${c("ui5-button",e,t)}></div>`:a`<div slot="header" class="ui5-menu-dialog-header">${this.isSubMenuOpened?T.call(this,o,e,t):void 0}<div class="ui5-menu-dialog-title"><div>${s(this.menuHeaderTextPhone)}</div></div><ui5-button icon="decline" design="Transparent" aria-label="${s(this.labelClose)}" @click=${this.close}></ui5-button></div>`}function T(o,e,t){return t?a`<${c("ui5-button",e,t)} icon="nav-back" class="ui5-menu-back-button" design="Transparent" aria-label="${s(this.labelBack)}" @click=${this._navigateBack}></${c("ui5-button",e,t)}>`:a`<ui5-button icon="nav-back" class="ui5-menu-back-button" design="Transparent" aria-label="${s(this.labelBack)}" @click=${this._navigateBack}></ui5-button>`}function O(o,e,t){return t?a`<${c("ui5-list",e,t)} id="${s(this._id)}-menu-list" mode="None" ?busy="${this.busy}" busy-delay="${s(this.busyDelay)}" separators="None" accessible-role="menu" @ui5-item-click=${s(this._itemClick)} @mouseover="${this._busyMouseOver}">${I(this._currentItems,(i,n)=>i._id||n,(i,n)=>C.call(this,o,e,t,i,n))}</${c("ui5-list",e,t)}>`:a`<ui5-list id="${s(this._id)}-menu-list" mode="None" ?busy="${this.busy}" busy-delay="${s(this.busyDelay)}" separators="None" accessible-role="menu" @ui5-item-click=${s(this._itemClick)} @mouseover="${this._busyMouseOver}">${I(this._currentItems,(i,n)=>i._id||n,(i,n)=>C.call(this,o,e,t,i,n))}</ui5-list>`}function C(o,e,t,i,n){return t?a`<${c("ui5-li",e,t)} .associatedItem="${s(i.item)}" class="ui5-menu-item" id="${s(this._id)}-menu-item-${n}" .icon="${s(i.item.icon)}" accessible-name=${s(i.item.ariaLabelledByText)} accessible-role="menuitem" .additionalText="${s(i.item._additionalText)}" ._ariaHasPopup=${s(i.ariaHasPopup)} ?disabled=${i.item.disabled} ?starts-section=${i.item.startsSection} ?selected=${i.item.subMenuOpened} ?is-phone=${this.isPhone} @mouseover=${this._itemMouseOver} @mouseout=${this._itemMouseOut} @keydown=${this._itemKeyDown}><div class="ui5-menu-item-text">${i.item.hasDummyIcon?k.call(this,o,e,t,i,n):void 0}${s(i.item.text)}${i.item.hasSubmenu?w.call(this,o,e,t,i,n):P.call(this,o,e,t,i,n)}</div></${c("ui5-li",e,t)}>`:a`<ui5-li .associatedItem="${s(i.item)}" class="ui5-menu-item" id="${s(this._id)}-menu-item-${n}" .icon="${s(i.item.icon)}" accessible-name=${s(i.item.ariaLabelledByText)} accessible-role="menuitem" .additionalText="${s(i.item._additionalText)}" ._ariaHasPopup=${s(i.ariaHasPopup)} ?disabled=${i.item.disabled} ?starts-section=${i.item.startsSection} ?selected=${i.item.subMenuOpened} ?is-phone=${this.isPhone} @mouseover=${this._itemMouseOver} @mouseout=${this._itemMouseOut} @keydown=${this._itemKeyDown}><div class="ui5-menu-item-text">${i.item.hasDummyIcon?k.call(this,o,e,t,i,n):void 0}${s(i.item.text)}${i.item.hasSubmenu?w.call(this,o,e,t,i,n):P.call(this,o,e,t,i,n)}</div></ui5-li>`}function k(o,e,t,i,n){return a`<div class="ui5-menu-item-dummy-icon"></div>`}function w(o,e,t,i,n){return t?a`<div class="ui5-menu-item-submenu-icon"><${c("ui5-icon",e,t)} part="subicon" name="slim-arrow-right" class="ui5-menu-item-icon-end"></${c("ui5-icon",e,t)}></div>`:a`<div class="ui5-menu-item-submenu-icon"><ui5-icon part="subicon" name="slim-arrow-right" class="ui5-menu-item-icon-end"></ui5-icon></div>`}function P(o,e,t,i,n){return a`${i.item._siblingsWithChildren?Z.call(this,o,e,t,i,n):void 0}`}function Z(o,e,t,i,n){return a`<div class="ui5-menu-item-no-icon-end"></div>`}function D(o,e,t){return a`${this.busy?ee.call(this,o,e,t):void 0}`}function ee(o,e,t){return t?a`<${c("ui5-busy-indicator",e,t)} id="${s(this._id)}-menu-busy-indicator" delay="${s(this.busyDelay)}" class="ui5-menu-busy-indicator" @mouseover="${this._busyMouseOver}" active></${c("ui5-busy-indicator",e,t)}>`:a`<ui5-busy-indicator id="${s(this._id)}-menu-busy-indicator" delay="${s(this.busyDelay)}" class="ui5-menu-busy-indicator" @mouseover="${this._busyMouseOver}" active></ui5-busy-indicator>`}B("@ui5/webcomponents-theming","sap_horizon",async()=>H);B("@ui5/webcomponents","sap_horizon",async()=>Q);const te={packageName:"@ui5/webcomponents",fileName:"themes/Menu.css.ts",content:`.ui5-menu-rp[ui5-responsive-popover]::part(header),.ui5-menu-rp[ui5-responsive-popover]::part(content),.ui5-menu-rp[ui5-responsive-popover]::part(footer){padding:0}.ui5-menu-rp[ui5-responsive-popover]{box-shadow:var(--sapContent_Shadow1);border-radius:var(--_ui5-v1-22-0-rc-3_menu_popover_border_radius);max-width:20rem}.ui5-menu-item-icon-end{display:inline-block;vertical-align:middle;padding-inline-start:.5rem;pointer-events:none;position:absolute;inset-inline-end:var(--_ui5-v1-22-0-rc-3_menu_item_submenu_icon_right)}.ui5-menu-item-no-icon-end{min-width:var(--_ui5-v1-22-0-rc-3_list_item_icon_size);min-height:var(--_ui5-v1-22-0-rc-3_list_item_icon_size);display:inline-block;vertical-align:middle;padding-inline-start:.5rem;pointer-events:none;inset-inline-end:var(--_ui5-v1-22-0-rc-3_menu_item_submenu_icon_right)}.ui5-menu-item[additional-text] .ui5-menu-item-no-icon-end{display:none}.ui5-menu-item-dummy-icon{min-width:var(--_ui5-v1-22-0-rc-3_list_item_icon_size);min-height:var(--_ui5-v1-22-0-rc-3_list_item_icon_size);display:inline-block;vertical-align:middle;padding-inline-end:.5rem;pointer-events:none}.ui5-menu-item-submenu-icon{min-width:var(--_ui5-v1-22-0-rc-3_list_item_icon_size);min-height:var(--_ui5-v1-22-0-rc-3_list_item_icon_size);display:inline-block;vertical-align:middle;pointer-events:none}.ui5-menu-busy-indicator{width:100%}.ui5-menu-dialog-header{display:flex;height:var(--_ui5-v1-22-0-rc-3-responsive_popover_header_height);align-items:center;justify-content:space-between;padding:0px 1rem;width:100%;overflow:hidden}.ui5-menu-dialog-title{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:calc(100% - 6.5rem);padding-right:1rem}.ui5-menu-dialog-title>div{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ui5-menu-back-button{margin-right:1rem}.ui5-menu-item::part(title){font-size:var(--sapFontSize);padding-top:.125rem}.ui5-menu-item[icon]:not([is-phone])::part(title),.ui5-menu-item[is-phone]:not([icon=""])::part(title){padding-top:0}.ui5-menu-item:not([is-phone])::part(native-li){padding:var(--_ui5-v1-22-0-rc-3_menu_item_padding)}.ui5-menu-item[starts-section]{border-top:1px solid var(--sapGroup_ContentBorderColor)}.ui5-menu-item[active] .ui5-menu-item-icon-end{color:var(--sapList_Active_TextColor)}.ui5-menu-item[focused]:not([active]){background-color:var(--sapList_Hover_Background)}.ui5-menu-rp[sub-menu]{margin-top:.25rem;margin-inline:var(--_ui5-v1-22-0-rc-3_menu_submenu_margin_offset)}.ui5-menu-rp[sub-menu][actual-placement-type=Left]{margin-top:.25rem;margin-inline:var(--_ui5-v1-22-0-rc-3_menu_submenu_placement_type_left_margin_offset)}.ui5-menu-item::part(additional-text){margin-inline-start:var(--_ui5-v1-22-0-rc-3_menu_item_additional_text_start_margin);color:var(--sapContent_LabelColor);min-width:max-content}.ui5-menu-item-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;pointer-events:none}.ui5-menu-item-text:has(.ui5-menu-item-submenu-icon){padding-inline-end:1rem}
`};var d=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var _=o.length-1;_>=0;_--)(m=o[_])&&(r=(n<3?m(r):n>3?m(e,t,r):m(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r},f;const ie=300,ne=400;let l=f=class extends E{static async onDefine(){f.i18nBundle=await W("@ui5/webcomponents")}get itemsWithChildren(){return!!this._currentItems.filter(e=>e.item.items.length).length}get itemsWithIcon(){return!!this._currentItems.filter(e=>e.item.icon!=="").length}get isRtl(){return this.effectiveDir==="rtl"}get placementType(){const e=this.isRtl?"Left":"Right";return this._isSubMenu?e:"Bottom"}get verticalAlign(){return this._isSubMenu?"Top":"Bottom"}get labelBack(){return f.i18nBundle.getText(G)}get labelClose(){return f.i18nBundle.getText(J)}get isPhone(){return b()}get isSubMenuOpened(){return!!this._parentMenuItem}get menuHeaderTextPhone(){return this._parentMenuItem?this._parentMenuItem.text:this.headerText}onBeforeRendering(){!b()&&this._prepareCurrentItems(this.items);const e=this.itemsWithChildren,t=this.itemsWithIcon;this._currentItems.forEach(i=>{i.item._siblingsWithChildren=e,i.item._siblingsWithIcon=t;const n=i.item._subMenu,r=i.item;if(n&&n.busy){n.innerHTML="";const m=this._clonedItemsFragment(r);n.appendChild(m)}n&&(n.busy=i.item.busy,n.busyDelay=i.item.busyDelay)})}onAfterRendering(){if(this.opener)if(this.open){const e=this.getOpener();e&&this.showAt(e)}else this.close()}async showAt(e){b()&&(this._prepareCurrentItems(this.items),this._parentItemsStack=[]),this._isSubMenu||(this._parentMenuItem=void 0);const t=await this._createPopover();t.initialFocus="";for(let i=0;i<this._currentItems.length;i++)if(!this._currentItems[i].item.disabled){t.initialFocus=`${this._id}-menu-item-${i}`;break}t.showAt(e)}close(){this._popover&&(b()&&(this._parentItemsStack=[]),this._popover.close(),this._popover.resetFocus())}async _createPopover(){const e=await this.getStaticAreaItemDomRef();return this._popover=e.querySelector("[ui5-responsive-popover]"),this._popover}getOpener(){var t;const e=this.getRootNode();return this.opener instanceof HTMLElement?this.opener:(t=e==null?void 0:e.getElementById)==null?void 0:t.call(e,this.opener)}_navigateBack(){const e=this._parentItemsStack.pop();if(this.focus(),e){const t=e.parentElement;this._prepareCurrentItems(t.items),this._parentMenuItem=this._parentItemsStack.length?this._parentItemsStack[this._parentItemsStack.length-1]:void 0}}_prepareCurrentItems(e){this._currentItems=e.map((t,i)=>({item:t,position:i+1,ariaHasPopup:t.hasSubmenu?"menu":void 0}))}_createSubMenu(e,t){const i=this.constructor,n=document.createElement(i.getMetadata().getTag());n._isSubMenu=!0,n.setAttribute("id",`submenu-${t}`),n._parentMenuItem=e,n.busy=e.busy,n.busyDelay=e.busyDelay;const r=this._clonedItemsFragment(e);n.appendChild(r),this.staticAreaItem.shadowRoot.querySelector(".ui5-menu-submenus").appendChild(n),e._subMenu=n}_clonedItemsFragment(e){const t=document.createDocumentFragment();for(let i=0;i<e.items.length;++i){const n=e.items[i].cloneNode(!0);t.appendChild(n)}return t}_openItemSubMenu(e,t,i){this._findMainMenu(e).fireEvent("before-open",{item:e},!1,!1),e._subMenu.showAt(t),e._preventSubMenuClose=!0,this._openedSubMenuItem=e,this._subMenuOpenerId=i}_closeItemSubMenu(e,t=!1){e&&(t?(e._preventSubMenuClose=!1,this._closeSubMenuPopover(e._subMenu,!0)):setTimeout(()=>this._closeSubMenuPopover(e._subMenu),0))}_closeSubMenuPopover(e,t=!1){if(e){const i=e._parentMenuItem;(t||!i._preventSubMenuClose)&&(e.close(),e.remove(),i._subMenu=void 0,this._openedSubMenuItem=void 0,this._subMenuOpenerId="")}}_prepareSubMenuDesktopTablet(e,t,i){(i!==this._subMenuOpenerId||e&&e.hasSubmenu)&&this._closeItemSubMenu(this._openedSubMenuItem,!0),e&&e.hasSubmenu&&(this._createSubMenu(e,i),this._openItemSubMenu(e,t,i)),this._parentMenuItem&&(this._parentMenuItem._preventSubMenuClose=!0)}_prepareSubMenuPhone(e){this._prepareCurrentItems(e.items),this._parentMenuItem=e,this._parentItemsStack.push(e)}_startOpenTimeout(e,t,i){this._clearTimeout(),this._timeout=setTimeout(()=>{this._prepareSubMenuDesktopTablet(e,t,i)},ie)}_startCloseTimeout(e){this._clearTimeout(),this._timeout=setTimeout(()=>{this._closeItemSubMenu(e)},ne)}_clearTimeout(){this._timeout&&clearTimeout(this._timeout)}_itemMouseOver(e){if(M()){const t=e.target,i=t.associatedItem,n=t.getAttribute("id");t.focus(),this._clearTimeout(),this._startOpenTimeout(i,t,n)}}_busyMouseOver(){this._parentMenuItem&&(this._parentMenuItem._preventSubMenuClose=!0)}_itemMouseOut(e){if(M()){const i=e.target.associatedItem;this._clearTimeout(),i&&i.hasSubmenu&&i._subMenu&&(i._preventSubMenuClose=!1,this._startCloseTimeout(i))}}_itemKeyDown(e){const t=this.isRtl?$(e):g(e),i=this.isRtl?g(e):$(e);if(x(e)&&e.preventDefault(),i){const n=e.target,r=n.associatedItem,m=n.getAttribute("id");r.hasSubmenu&&this._prepareSubMenuDesktopTablet(r,n,m)}else t&&this._isSubMenu&&this._parentMenuItem&&this._parentMenuItem.parentElement._closeItemSubMenu(this._parentMenuItem,!0)}_itemClick(e){const t=e.detail.item,i=t.associatedItem,n=t.getAttribute("id");if(i.hasSubmenu)b()?this._prepareSubMenuPhone(i):j()&&this._prepareSubMenuDesktopTablet(i,t,n);else if(!this._isSubMenu)b()&&(this._parentMenuItem=void 0),!this.fireEvent("item-click",{item:i,text:i.text},!0,!1)||this._popover.close();else{const r=this._findMainMenu(i);if(!!r.fireEvent("item-click",{item:i,text:i.text},!0,!1)){let _=i,y=_.parentElement;do _._preventSubMenuClose=!1,this._closeItemSubMenu(_),y=_.parentElement,_=y._parentMenuItem;while(y._parentMenuItem);r._popover.close()}}}_findMainMenu(e){let t=e.parentElement;for(;t._parentMenuItem;)t=t._parentMenuItem.parentElement;return t}_beforePopoverOpen(e){!this.fireEvent("before-open",{},!0,!1)&&(this.open=!1,e.preventDefault())}_afterPopoverOpen(){this.open=!0,this.fireEvent("after-open",{},!1,!1)}_beforePopoverClose(e){if(!this.fireEvent("before-close",{escPressed:e.detail.escPressed},!0,!1)){this.open=!0,e.preventDefault();return}this._openedSubMenuItem&&(this._openedSubMenuItem._preventSubMenuClose=!1,this._closeItemSubMenu(this._openedSubMenuItem))}_afterPopoverClose(){this.open=!1,this.fireEvent("after-close",{},!1,!1)}};d([u()],l.prototype,"headerText",void 0);d([u({type:Boolean})],l.prototype,"open",void 0);d([u({type:Boolean})],l.prototype,"busy",void 0);d([u({validator:R,defaultValue:1e3})],l.prototype,"busyDelay",void 0);d([u({validator:N,defaultValue:""})],l.prototype,"opener",void 0);d([u({type:Boolean,noAttribute:!0})],l.prototype,"_isSubMenu",void 0);d([u()],l.prototype,"_subMenuOpenerId",void 0);d([u({type:Object,multiple:!0})],l.prototype,"_currentItems",void 0);d([u({type:Object,multiple:!0})],l.prototype,"_parentItemsStack",void 0);d([u({type:Object,defaultValue:void 0})],l.prototype,"_popover",void 0);d([u({type:Object,defaultValue:void 0})],l.prototype,"_parentMenuItem",void 0);d([u({type:Object,defaultValue:void 0})],l.prototype,"_openedSubMenuItem",void 0);d([L({default:!0,type:HTMLElement,invalidateOnChildChange:!0})],l.prototype,"items",void 0);l=f=d([A({tag:"ui5-menu",renderer:z,staticAreaStyles:te,staticAreaTemplate:X,dependencies:[F,U,V,K,q,Y]}),v("item-click",{detail:{item:{type:HTMLElement},text:{type:String}}}),v("before-open",{detail:{item:{type:HTMLElement}}}),v("after-open"),v("before-close",{detail:{escPressed:{type:Boolean}}}),v("after-close")],l);l.define();const se=l,Se=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"}));var h=function(o,e,t,i){var n=arguments.length,r=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var _=o.length-1;_>=0;_--)(m=o[_])&&(r=(n<3?m(r):n>3?m(e,t,r):m(e,t))||r);return n>3&&r&&Object.defineProperty(e,t,r),r};let p=class extends E{get hasSubmenu(){return!!(this.items.length||this.busy)}get hasDummyIcon(){return this._siblingsWithIcon&&!this.icon}get subMenuOpened(){return!!this._subMenu}get _additionalText(){return this.hasSubmenu?"":this.additionalText}get ariaLabelledByText(){return`${this.text} ${this.accessibleName}`.trim()}};h([u()],p.prototype,"text",void 0);h([u()],p.prototype,"additionalText",void 0);h([u()],p.prototype,"icon",void 0);h([u({type:Boolean})],p.prototype,"startsSection",void 0);h([u({type:Boolean})],p.prototype,"disabled",void 0);h([u({type:Boolean})],p.prototype,"busy",void 0);h([u({validator:R,defaultValue:1e3})],p.prototype,"busyDelay",void 0);h([u()],p.prototype,"accessibleName",void 0);h([u({type:Boolean,noAttribute:!0})],p.prototype,"_siblingsWithChildren",void 0);h([u({type:Boolean,noAttribute:!0})],p.prototype,"_siblingsWithIcon",void 0);h([u({type:Boolean,noAttribute:!0})],p.prototype,"_preventSubMenuClose",void 0);h([u({type:Object,defaultValue:void 0})],p.prototype,"_subMenu",void 0);h([L({default:!0,type:HTMLElement,invalidateOnChildChange:!0})],p.prototype,"items",void 0);p=h([A("ui5-menu-item")],p);p.define();const oe=p,Oe=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{se as M,Se as a,Oe as b,te as s};
