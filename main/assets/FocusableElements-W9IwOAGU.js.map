{"version":3,"file":"FocusableElements-W9IwOAGU.js","sources":["../../node_modules/@ui5/webcomponents-base/dist/util/isElementClickable.js","../../node_modules/@ui5/webcomponents-base/dist/util/FocusableElements.js"],"sourcesContent":["const rClickable = /^(?:a|area)$/i;\nconst rFocusable = /^(?:input|select|textarea|button)$/i;\nconst isElementClickable = (el) => {\n    if (el.disabled) {\n        return false;\n    }\n    const tabIndex = el.getAttribute(\"tabindex\");\n    if (tabIndex !== null && tabIndex !== undefined) {\n        return parseInt(tabIndex) >= 0;\n    }\n    return rFocusable.test(el.nodeName)\n        || (rClickable.test(el.nodeName)\n            && !!el.href);\n};\nexport default isElementClickable;\n//# sourceMappingURL=isElementClickable.js.map","import isElementHidden from \"./isElementHidden.js\";\nimport isElementClickable from \"./isElementClickable.js\";\nimport { instanceOfUI5Element } from \"../UI5Element.js\";\nconst isFocusTrap = (el) => {\n    return el.hasAttribute(\"data-ui5-focus-trap\");\n};\nconst getFirstFocusableElement = async (container, startFromContainer) => {\n    if (!container || isElementHidden(container)) {\n        return null;\n    }\n    return findFocusableElement(container, true, startFromContainer);\n};\nconst getLastFocusableElement = async (container, startFromContainer) => {\n    if (!container || isElementHidden(container)) {\n        return null;\n    }\n    return findFocusableElement(container, false, startFromContainer);\n};\nconst isElemFocusable = (el) => {\n    return el.hasAttribute(\"data-ui5-focus-redirect\") || !isElementHidden(el);\n};\nconst findFocusableElement = async (container, forward, startFromContainer) => {\n    let child;\n    let assignedElements;\n    let currentIndex = -1;\n    if (container.shadowRoot) {\n        child = forward ? container.shadowRoot.firstChild : container.shadowRoot.lastChild;\n    }\n    else if (container instanceof HTMLSlotElement && container.assignedNodes()) {\n        assignedElements = container.assignedNodes();\n        currentIndex = forward ? 0 : assignedElements.length - 1;\n        child = assignedElements[currentIndex];\n    }\n    else if (startFromContainer) {\n        child = container;\n    }\n    else {\n        child = forward ? container.firstElementChild : container.lastElementChild;\n    }\n    let focusableDescendant;\n    /* eslint-disable no-await-in-loop */\n    while (child) {\n        const originalChild = child;\n        if (instanceOfUI5Element(child)) {\n            child = await child.getFocusDomRefAsync();\n        }\n        if (!child) {\n            return null;\n        }\n        if (child.nodeType === 1 && isElemFocusable(child) && !isFocusTrap(child)) {\n            if (isElementClickable(child)) {\n                return (child && typeof child.focus === \"function\") ? child : null;\n            }\n            focusableDescendant = await findFocusableElement(child, forward);\n            if (focusableDescendant) {\n                return (focusableDescendant && typeof focusableDescendant.focus === \"function\") ? focusableDescendant : null;\n            }\n        }\n        child = forward ? originalChild.nextSibling : originalChild.previousSibling;\n        // If the child element is not part of the currently assigned element,\n        // we have to check the next/previous element assigned to the slot or continue with the next/previous sibling of the slot,\n        // otherwise, the nextSibling/previousSibling is the next element inside the light DOM\n        if (assignedElements && !assignedElements[currentIndex].contains(child)) {\n            currentIndex = forward ? currentIndex + 1 : currentIndex - 1;\n            child = assignedElements[currentIndex];\n        }\n    }\n    /* eslint-enable no-await-in-loop */\n    return null;\n};\nexport { getFirstFocusableElement, getLastFocusableElement, };\n//# sourceMappingURL=FocusableElements.js.map"],"names":["rClickable","rFocusable","isElementClickable","el","tabIndex","isFocusTrap","getFirstFocusableElement","container","startFromContainer","isElementHidden","findFocusableElement","getLastFocusableElement","isElemFocusable","forward","child","assignedElements","currentIndex","focusableDescendant","originalChild","instanceOfUI5Element"],"mappings":"+FAAA,MAAMA,EAAa,gBACbC,EAAa,sCACbC,EAAsBC,GAAO,CAC/B,GAAIA,EAAG,SACH,MAAO,GAEX,MAAMC,EAAWD,EAAG,aAAa,UAAU,EAC3C,OAAIC,GAAa,KACN,SAASA,CAAQ,GAAK,EAE1BH,EAAW,KAAKE,EAAG,QAAQ,GAC1BH,EAAW,KAAKG,EAAG,QAAQ,GACxB,CAAC,CAACA,EAAG,IACpB,ECVME,EAAeF,GACVA,EAAG,aAAa,qBAAqB,EAE1CG,EAA2B,MAAOC,EAAWC,IAC3C,CAACD,GAAaE,EAAgBF,CAAS,EAChC,KAEJG,EAAqBH,EAAW,GAAMC,CAAkB,EAE7DG,EAA0B,MAAOJ,EAAWC,IAC1C,CAACD,GAAaE,EAAgBF,CAAS,EAChC,KAEJG,EAAqBH,EAAW,GAAOC,CAAkB,EAE9DI,EAAmBT,GACdA,EAAG,aAAa,yBAAyB,GAAK,CAACM,EAAgBN,CAAE,EAEtEO,EAAuB,MAAOH,EAAWM,EAASL,IAAuB,CAC3E,IAAIM,EACAC,EACAC,EAAe,GACfT,EAAU,WACVO,EAAQD,EAAUN,EAAU,WAAW,WAAaA,EAAU,WAAW,UAEpEA,aAAqB,iBAAmBA,EAAU,cAAa,GACpEQ,EAAmBR,EAAU,gBAC7BS,EAAeH,EAAU,EAAIE,EAAiB,OAAS,EACvDD,EAAQC,EAAiBC,CAAY,GAEhCR,EACLM,EAAQP,EAGRO,EAAQD,EAAUN,EAAU,kBAAoBA,EAAU,iBAE9D,IAAIU,EAEJ,KAAOH,GAAO,CACV,MAAMI,EAAgBJ,EAItB,GAHIK,EAAqBL,CAAK,IAC1BA,EAAQ,MAAMA,EAAM,uBAEpB,CAACA,EACD,OAAO,KAEX,GAAIA,EAAM,WAAa,GAAKF,EAAgBE,CAAK,GAAK,CAACT,EAAYS,CAAK,EAAG,CACvE,GAAIZ,EAAmBY,CAAK,EACxB,OAAQA,GAAS,OAAOA,EAAM,OAAU,WAAcA,EAAQ,KAGlE,GADAG,EAAsB,MAAMP,EAAqBI,EAAOD,CAAO,EAC3DI,EACA,OAAQA,GAAuB,OAAOA,EAAoB,OAAU,WAAcA,EAAsB,IAE/G,CACDH,EAAQD,EAAUK,EAAc,YAAcA,EAAc,gBAIxDH,GAAoB,CAACA,EAAiBC,CAAY,EAAE,SAASF,CAAK,IAClEE,EAAeH,EAAUG,EAAe,EAAIA,EAAe,EAC3DF,EAAQC,EAAiBC,CAAY,EAE5C,CAED,OAAO,IACX","x_google_ignoreList":[0,1]}