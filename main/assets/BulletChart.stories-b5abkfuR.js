import{e as Be}from"./DemoProps-BWWtsAFv.js";import{j as e}from"./useIsomorphicLayoutEffect-Cwmfti2R.js";import{T as j}from"./ThemingParameters-DOkJX3Ed.js";import{e as J}from"./index-D8PAbW1n.js";import{r as P}from"./index-BQ1WsyJB.js";import{u as Se,a as Ke,C as qe,Y as B,b as D,X as S,c as $}from"./YAxisTicks-2DadJ_53.js";import{u as Te,C as Ne}from"./ChartDataLabel-C4tJgQW9.js";import{u as Oe,t as We,a as De,b as $e}from"./staticProps-FzR48Pl7.js";import{u as Fe}from"./useLongestYAxisLabel-kDy6Gmce.js";import{u as Le}from"./useOnClickInternal-DdAppmHO.js";import{u as Re,a as He,r as Me,b as Q}from"./useTooltipFormatter-DivRqh7q.js";import{C as Xe}from"./ChartContainer-DGwIsHRx.js";import{a as ue}from"./defaults-KrcEPx-U.js";import{C as Ee}from"./react-content-loader.es-BgZLOsSQ.js";import{C as Ue}from"./ComposedChart-uOAPfPJm.js";import{R as Ge,T as Je,d as Qe,B as Ze,e as et,h as tt}from"./generateCategoricalChart-D2iRigoR.js";import{d as at}from"./withWebComponent-DykTwaBJ.js";import{u as rt}from"./useIsRTL-CjN8gnsZ.js";import"./_baseForOwn-DusBTQ6O.js";import"./debounce-D7W5PopO.js";import"./_baseUniq-BpWYsmmS.js";import"./addCustomCSSWithScoping-CP2Nptdn.js";import"./utils-BXNPXA0w.js";import"./clsx-B-dksMZM.js";import"./throttle-Cb9nBjQI.js";import"./isString-DU9kh5Q5.js";import"./useStylesheet-BB85D3ff.js";import"./index-wnqzdKnS.js";import"./iframe-Du1sszHP.js";import"../sb-preview/runtime.js";import"./BusyIndicator-Cc-m-tN-.js";import"./i18nBundle-CEPDwMcb.js";import"./Keys-F_3Gvx0K.js";import"./Label-Cn8Z-EZA.js";import"./i18n-defaults-Ddp6Qu_n.js";import"./if-defined-Pg2MF6OO.js";import"./parameters-bundle.css-BFbT_feV.js";import"./class-map-BBkLNtsu.js";import"./index-DaJWLaOZ.js";import"./tiny-invariant-CCoILDQG.js";import"./Line-C4zSfiov.js";import"./Scatter-CH5SMqY2.js";import"./isPlainObject-RD2cLuvA.js";import"./mapValues-DfqGXSk1.js";import"./directionChange-D3LuQWiF.js";const w=s=>{const{x:m,y:d,width:p,height:u,index:y,fill:V,strokeWidth:c,layout:f}=s,z={x1:c?m+(p-c)/2-1:m-3,x2:c?m+c+(p-c)/2:m+p+3},A={y1:c?d+(u-c)/2-1:d-3,y2:c?d+c+(u-c)/2:d+u+3};return f==="horizontal"?e.jsx("line",{x1:z.x1,x2:z.x2,y1:d,y2:d,stroke:V,strokeWidth:3},`target-${y}`):e.jsx("line",{x1:m+p,x2:m+p,y1:A.y1,y2:A.y2,stroke:V,strokeWidth:3},`target-${y}`)};try{w.displayName="ComparisonLine",w.__docgenInfo={description:"",displayName:"ComparisonLine",props:{x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},strokeWidth:{defaultValue:null,description:"",name:"strokeWidth",required:!1,type:{name:"number"}},fill:{defaultValue:null,description:"",name:"fill",required:!1,type:{name:"Fill"}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}}}}}catch{}try{w.displayName="ComparisonLine",w.__docgenInfo={description:"",displayName:"ComparisonLine",props:{x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"number"}},strokeWidth:{defaultValue:null,description:"",name:"strokeWidth",required:!1,type:{name:"number"}},fill:{defaultValue:null,description:"",name:"fill",required:!1,type:{name:"Fill"}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}}}}}catch{}const st=e.jsxs(e.Fragment,{children:[e.jsx("rect",{x:"20",y:"20",width:"85",height:"15"}),e.jsx("rect",{x:"20",y:"40",width:"117",height:"15"}),e.jsx("rect",{x:"20",y:"60",width:"67",height:"15"}),e.jsx("rect",{x:"20",y:"80",width:"75",height:"15"}),e.jsx("rect",{x:"20",y:"100",width:"125",height:"15"}),e.jsx("rect",{x:"20",y:"120",width:"60",height:"15"}),e.jsx("rect",{x:"115",y:"17.5",width:"2",height:"20"}),e.jsx("rect",{x:"150",y:"37.5",width:"2",height:"20"}),e.jsx("rect",{x:"90",y:"57.5",width:"2",height:"20"}),e.jsx("rect",{x:"100",y:"77.5",width:"2",height:"20"}),e.jsx("rect",{x:"120",y:"97.5",width:"2",height:"20"}),e.jsx("rect",{x:"87",y:"117.5",width:"2",height:"20"})]}),ot=e.jsxs(e.Fragment,{children:[e.jsx("rect",{x:"20",y:"50",width:"15",height:"85"}),e.jsx("rect",{x:"40",y:"70",width:"15",height:"65"}),e.jsx("rect",{x:"60",y:"68",width:"15",height:"67"}),e.jsx("rect",{x:"80",y:"60",width:"15",height:"75"}),e.jsx("rect",{x:"100",y:"10",width:"15",height:"125"}),e.jsx("rect",{x:"120",y:"75",width:"15",height:"60"}),e.jsx("rect",{x:"17.5",y:"35",width:"20",height:"2"}),e.jsx("rect",{x:"37.5",y:"62",width:"20",height:"2"}),e.jsx("rect",{x:"57.5",y:"56",width:"20",height:"2"}),e.jsx("rect",{x:"77.5",y:"37",width:"20",height:"2"}),e.jsx("rect",{x:"97.5",y:"45",width:"20",height:"2"}),e.jsx("rect",{x:"117.5",y:"70",width:"20",height:"2"})]}),I=({layout:s,measures:m})=>{const d=new Set(m.map(p=>p.type));return e.jsxs(Ee,{viewBox:"0 0 165 145",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%",speed:2,backgroundColor:j.sapContent_ImagePlaceholderBackground,foregroundColor:j.sapContent_ImagePlaceholderForegroundColor,backgroundOpacity:j.sapContent_DisabledOpacity,children:[s==="vertical"&&e.jsx("rect",{x:"20",y:"10",width:"1",height:"135"}),s==="horizontal"&&e.jsx("rect",{x:"10",y:"135",width:"135",height:"1"}),s==="vertical"&&d.has("primary")&&st,s==="horizontal"&&d.has("primary")&&ot]})};try{I.displayName="BulletChartPlaceholder",I.__docgenInfo={description:"",displayName:"BulletChartPlaceholder",props:{layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},measures:{defaultValue:null,description:"",name:"measures",required:!0,type:{name:"(IChartMeasure & { type: string; })[]"}}}}}catch{}try{I.displayName="BulletChartPlaceholder",I.__docgenInfo={description:"",displayName:"BulletChartPlaceholder",props:{layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},measures:{defaultValue:null,description:"",name:"measures",required:!0,type:{name:"(IChartMeasure & { type: string; })[]"}}}}}catch{}const it={formatter:ue},lt={formatter:ue,opacity:1},v=P.forwardRef((s,m)=>{var X,E,U;const{loading:d,loadingDelay:p,dataset:u,onDataPointClick:y,noLegend:V,noAnimation:c,tooltipConfig:f,onLegendClick:z,onClick:A,layout:l="horizontal",style:me,className:pe,slot:he,syncId:ye,ChartPlaceholder:xe,children:ge,...fe}=s,[Ce,F]=at(m),a={yAxisVisible:!1,xAxisVisible:!0,gridStroke:j.sapList_BorderColor,gridHorizontal:!0,gridVertical:!1,legendPosition:"bottom",legendHorizontalAlign:"left",zoomingTool:!1,resizeDebounce:250,yAxisConfig:{},xAxisConfig:{},secondYAxisConfig:{},secondXAxisConfig:{},...s.chartConfig},{referenceLine:r}=a,{dimensions:O,measures:Y}=Re(s.dimensions,s.measures,it,lt),x=P.useMemo(()=>Y.sort(t=>t.type==="comparison"?1:t.type==="primary"?-1:0),[Y]),ve=He(x),g=O[0],{primaryMeasure:_,secondaryMeasure:L}=Me(x,(X=a==null?void 0:a.secondYAxis)==null?void 0:X.dataKey),Ae=Te(g),_e=x.map(({accessor:t})=>t),C=a.secondYAxis?_e.findIndex(t=>{var i;return t===((i=a.secondYAxis)==null?void 0:i.dataKey)}):0,R=P.useCallback((t,i,o)=>{var n;if(typeof y=="function")if(t.name){const k=(n=t==null?void 0:t.value)==null?void 0:n.length;y(J(o??i,{value:k?t.value[1]-t.value[0]:t.value,dataIndex:t.index??i,dataKey:k?Object.keys(t).filter(h=>t.value.length?t[h]===t.value[1]-t.value[0]:t[h]===t.value&&h!=="value")[0]:t.dataKey??Object.keys(t).find(h=>t[h]===t.value&&h!=="value"),payload:t.payload}))}else y(J({},{value:i.value,dataKey:i.dataKey,dataIndex:i.index,payload:i.payload}))},[y]),be=Oe(z),ke=Le(A),W=(u==null?void 0:u.length)>30,je=g==null?void 0:g.accessor,[H,we]=Fe(u,l==="vertical"?O:x,a.legendPosition),Ie=Se(a.margin,a.zoomingTool),Ve=Ke(F,l==="vertical"?1:s.dimensions.length),M={axisLine:a.yAxisVisible,tickLine:We,tickFormatter:_==null?void 0:_.formatter,interval:0},b=rt(F),ze=P.useCallback(()=>e.jsx(I,{layout:l,measures:Y}),[l,Y]),{chartConfig:nt,dimensions:ct,measures:dt,...Ye}=fe;return e.jsx(Xe,{ref:Ce,loading:d,loadingDelay:p,dataset:u,Placeholder:xe??ze,style:me,className:pe,slot:he,resizeDebounce:a.resizeDebounce,...Ye,children:e.jsxs(Ue,{syncId:ye,onClick:ke,stackOffset:"sign",margin:Ie,data:u,layout:l,className:typeof y=="function"||typeof A=="function"?"has-click-handler":void 0,children:[e.jsx(qe,{vertical:a.gridVertical,horizontal:a.gridHorizontal,stroke:a.gridStroke}),a.xAxisVisible&&O.map((t,i)=>{let o;const n={dataKey:t.accessor,interval:(t==null?void 0:t.interval)??(W?"preserveStart":0),tickLine:i<1,axisLine:i<1,allowDuplicatedCategory:i===0};return l==="vertical"?(n.type="category",n.tick=e.jsx(D,{config:t}),n.yAxisId=i,n.width=H,o=B,n.orientation=b?"right":"left"):(n.dataKey=t.accessor,n.tick=e.jsx($,{config:t}),n.xAxisId=i,n.height=Ve[i],o=S,n.reversed=b),e.jsx(o,{...n},t.reactKey)}),l==="horizontal"&&e.jsx(B,{...M,yAxisId:"primary",width:H,orientation:b?"right":"left",tick:e.jsx(D,{config:_}),...a.yAxisConfig}),l==="vertical"&&e.jsx(S,{...M,reversed:b,xAxisId:"primary",type:"number",tick:e.jsx($,{config:_}),...a.xAxisConfig}),((E=a.secondYAxis)==null?void 0:E.dataKey)&&l==="horizontal"&&e.jsx(B,{dataKey:a.secondYAxis.dataKey,axisLine:{stroke:a.secondYAxis.color??`var(--sapChart_OrderedColor_${C%11+1})`},tick:e.jsx(D,{config:L,secondYAxisConfig:{color:a.secondYAxis.color??`var(--sapChart_OrderedColor_${C%11+1})`}}),tickLine:{stroke:a.secondYAxis.color??`var(--sapChart_OrderedColor_${C%11+1})`},label:{value:a.secondYAxis.name,offset:2,angle:90,position:"center"},orientation:b?"left":"right",interval:0,yAxisId:"secondary",...a.secondYAxisConfig}),((U=a.secondYAxis)==null?void 0:U.dataKey)&&l==="vertical"&&e.jsx(S,{dataKey:a.secondYAxis.dataKey,axisLine:{stroke:a.secondYAxis.color??`var(--sapChart_OrderedColor_${C%11+1})`},tick:e.jsx($,{config:L,secondYAxisConfig:{color:a.secondYAxis.color??`var(--sapChart_OrderedColor_${C%11+1})`}}),tickLine:{stroke:a.secondYAxis.color??`var(--sapChart_OrderedColor_${C%11+1})`},label:{value:a.secondYAxis.name,offset:2,angle:90,position:"center"},orientation:"top",interval:0,xAxisId:"secondary",type:"number",...a.secondXAxisConfig}),l==="horizontal"&&e.jsx(S,{xAxisId:"comparisonXAxis",hide:!0}),l==="vertical"&&e.jsx(B,{yAxisId:"comparisonYAxis",type:"category",hide:!0}),r&&e.jsx(Ge,{...r,stroke:(r==null?void 0:r.color)??(r==null?void 0:r.stroke),y:r!=null&&r.value?l==="horizontal"?r==null?void 0:r.value:void 0:r==null?void 0:r.y,x:r!=null&&r.value?l==="vertical"?r==null?void 0:r.value:void 0:r==null?void 0:r.x,yAxisId:(r==null?void 0:r.yAxisId)??l==="horizontal"?"primary":void 0,xAxisId:(r==null?void 0:r.xAxisId)??l==="vertical"?"primary":void 0,label:r==null?void 0:r.label}),(f==null?void 0:f.active)!==!1&&e.jsx(Je,{cursor:De,formatter:ve,contentStyle:$e,labelFormatter:Ae,...f}),!V&&e.jsx(Qe,{verticalAlign:a.legendPosition,align:a.legendHorizontalAlign,onClick:be,wrapperStyle:we}),x==null?void 0:x.map((t,i)=>{var k,h;const o={isAnimationActive:!c};let n="top";switch(t.type){case"primary":case"additional":o.fillOpacity=t.opacity,o.strokeOpacity=t.opacity,o.barSize=t.width,o.onClick=R,o.stackId="A",o.labelPosition=t.stackId?"insideTop":"top",l==="vertical"?n="insideRight":n="insideTop";break;case"comparison":o.onClick=R,o.fill=t.color??"black",o.strokeWidth=t.width,o.shape=e.jsx(w,{layout:l}),o.strokeOpacity=t.opacity,o.label=!1,o.xAxisId="comparisonXAxis",o.yAxisId="comparisonYAxis",o.dot=!W;break}return l==="vertical"?o.xAxisId=((k=a.secondYAxis)==null?void 0:k.dataKey)===t.accessor?"secondary":"primary":o.yAxisId=((h=a.secondYAxis)==null?void 0:h.dataKey)===t.accessor?"secondary":"primary",e.jsx(Ze,{name:t.label??t.accessor,label:W?null:e.jsx(Ne,{config:t,chartType:"bar",position:n}),stroke:t.color??`var(--sapChart_OrderedColor_${i%11+1})`,fill:t.color??`var(--sapChart_OrderedColor_${i%11+1})`,type:"monotone",dataKey:t.accessor,...o,children:t.type!=="comparison"&&u.map((G,Pe)=>e.jsx(et,{fill:Q(t,G,i),stroke:Q(t,G,i)},Pe))},t.reactKey)}),a.zoomingTool&&e.jsx(tt,{y:10,dataKey:je,tickFormatter:g==null?void 0:g.formatter,stroke:j.sapObjectHeader_BorderColor,travellerWidth:10,height:20}),ge]})})});v.displayName="BulletChart";try{v.displayName="BulletChart",v.__docgenInfo={description:"The `BulletChart` is used to compare primary and secondary (comparison) values. The primary and additional values\nare rendered as a stacked Bar Chart while the comparison value is displayed as a line above.",displayName:"BulletChart",props:{}}}catch{}try{v.displayName="BulletChart",v.__docgenInfo={description:"The `BulletChart` is used to compare primary and secondary (comparison) values. The primary and additional values\nare rendered as a stacked Bar Chart while the comparison value is displayed as a line above.",displayName:"BulletChart",props:{}}}catch{}const aa={title:"BulletChart",component:v,argTypes:{dataset:{control:{disable:!0}},children:{control:{disable:!0}}},args:{dataset:Be,layout:"horizontal",dimensions:[{accessor:"name",formatter:s=>`${s} 2019`,interval:0}],measures:[{accessor:"sessions",label:"Active Sessions",type:"primary"},{accessor:"users",label:"Users",type:"additional"},{accessor:"volume",label:"Volume",formatter:s=>s.toLocaleString(),type:"comparison"}]}},K={},q={args:{layout:"vertical",dimensions:[{accessor:"name",formatter:s=>s.slice(0,3)}],measures:[{accessor:"users",formatter:s=>`${s/10}`,type:"additional",label:"Number of users",width:10},{accessor:"sessions",type:"primary",width:10,opacity:.5},{accessor:"volume",type:"comparison",width:10}]}},T={args:{dimensions:[{accessor:"name",formatter:s=>`${s} 2019`,interval:0}],measures:[{accessor:"sessions",label:"Active Sessions",type:"primary"},{accessor:"users",label:"Users",type:"additional",highlightColor:s=>{if(s>100)return"red"}},{accessor:"volume",label:"Volume",formatter:s=>s.toLocaleString(),type:"comparison"}]}},N={args:{dataset:[]}};var Z,ee,te;K.parameters={...K.parameters,docs:{...(Z=K.parameters)==null?void 0:Z.docs,source:{originalSource:"{}",...(te=(ee=K.parameters)==null?void 0:ee.docs)==null?void 0:te.source}}};var ae,re,se;q.parameters={...q.parameters,docs:{...(ae=q.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: {
    layout: 'vertical',
    dimensions: [{
      accessor: 'name',
      formatter: element => element.slice(0, 3)
    }],
    measures: [{
      accessor: 'users',
      formatter: element => \`\${element / 10}\`,
      type: 'additional',
      label: 'Number of users',
      width: 10
    }, {
      accessor: 'sessions',
      type: 'primary',
      width: 10,
      opacity: 0.5
    }, {
      accessor: 'volume',
      type: 'comparison',
      width: 10
    }]
  }
}`,...(se=(re=q.parameters)==null?void 0:re.docs)==null?void 0:se.source}}};var oe,ie,le;T.parameters={...T.parameters,docs:{...(oe=T.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  args: {
    dimensions: [{
      accessor: 'name',
      formatter: d => \`\${d} 2019\`,
      interval: 0
    }],
    measures: [{
      accessor: 'sessions',
      label: 'Active Sessions',
      type: 'primary'
    }, {
      accessor: 'users',
      label: 'Users',
      type: 'additional',
      highlightColor: value => {
        if (value > 100) {
          return 'red';
        }
      }
    }, {
      accessor: 'volume',
      label: 'Volume',
      formatter: val => val.toLocaleString(),
      type: 'comparison'
    }]
  }
}`,...(le=(ie=T.parameters)==null?void 0:ie.docs)==null?void 0:le.source}}};var ne,ce,de;N.parameters={...N.parameters,docs:{...(ne=N.parameters)==null?void 0:ne.docs,source:{originalSource:`{
  args: {
    dataset: []
  }
}`,...(de=(ce=N.parameters)==null?void 0:ce.docs)==null?void 0:de.source}}};const ra=["Default","WithCustomSize","WithHighlightedMeasures","LoadingPlaceholder"];export{K as Default,N as LoadingPlaceholder,q as WithCustomSize,T as WithHighlightedMeasures,ra as __namedExportsOrder,aa as default};
