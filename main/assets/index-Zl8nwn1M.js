import{j as g}from"./jsx-runtime-DtaoT6pD.js";import{c as J}from"./clsx-Zbgk8kpT.js";import{r as t}from"./index-OjgoNOWw.js";import{c as de}from"./react-jss.esm-tmBtHfec.js";import{u as pe,c as fe}from"./i18n-defaults-nru-HZH8.js";import{g as ve,f as me}from"./utils-_oNUceU3.js";import{i as he}from"./overflow-K4cQKHu1.js";import{r as be}from"./index-QYh6idnL.js";import{u as ae,d as ge}from"./withWebComponent-c-uI2wMj.js";import{s as ye}from"./stopPropagation-dV8jBYUw.js";import{P as we}from"./PopupsCommon.css-OX3LG9lc.js";import{P as Ce}from"./index-M889zyCR.js";import{k as _e}from"./UI5Element-d7BKyERc.js";import{T as Te}from"./index-bC-Zu7hA.js";import{B as Re}from"./Button-ywDxCu8p.js";import{P as Pe}from"./Popover-AngQKyti.js";import{T as d}from"./ThemingParameters-UghqSl-x.js";import{C as oe}from"./CssSizeVariables-HFpqBBhk.js";import{C as ne}from"./CustomVariables-jcpx1a4M.js";import{u as Se}from"./useIsomorphicLayoutEffect-s31TYDr7.js";import{d as re}from"./debounce-F9irgL9Y.js";var O=(r=>(r.Auto="Auto",r.Info="Info",r.Solid="Solid",r.Transparent="Transparent",r))(O||{}),X=(r=>(r.Clear="Clear",r.Standard="Standard",r))(X||{});const xe=t.createContext({inPopover:!1}),Ee=_e(),G=r=>{var I;const{lastVisibleIndex:P,classes:y,children:F,portalContainer:E,overflowContentRef:S,numberOfAlwaysVisibleItems:A,showMoreText:q,overflowButton:v,overflowPopoverRef:L,setIsMounted:M,a11yConfig:c}=r,[p,_]=t.useState(!1),m=t.useRef(null),[H,D]=ae(L);t.useEffect(()=>(M(!0),()=>{M(!1)}),[]);const W=o=>{o.stopPropagation(),_(a=>a?!1:(D.current&&(D.current.opener=o.target),!0))},i=()=>{m.current&&(m.current.accessibilityAttributes={expanded:!0,hasPopup:"Menu"})},$=()=>{_(!0)},w=o=>{m.current&&(m.current.accessibilityAttributes={expanded:!1,hasPopup:"Menu"}),ye(o),_(!1)};t.useEffect(()=>{const o=ve("ui5-toggle-button");customElements.whenDefined(o).then(()=>{m.current&&(m.current.accessibilityAttributes={expanded:p,hasPopup:"Menu"})})},[]);const h=o=>{var a;typeof((a=v==null?void 0:v.props)==null?void 0:a.onClick)=="function"&&v.props.onClick(o),o.defaultPrevented||W(o)},f=ge(),z=(()=>{var o,a;return(o=c==null?void 0:c.overflowPopover)!=null&&o.contentRole?we.None:(a=c==null?void 0:c.overflowPopover)==null?void 0:a.role})();return g.jsxs(xe.Provider,{value:{inPopover:!0},children:[v?t.cloneElement(v,{onClick:h}):g.jsx(Te,{ref:m,design:Re.Transparent,icon:he,onClick:W,pressed:p,accessibleName:q,tooltip:q,"data-component-name":"ToolbarOverflowButton"}),f&&be.createPortal(g.jsx(Ce,{"data-component-name":"ToolbarOverflowPopover",className:J(y.popover,Ee&&y.popoverPhone),placementType:Pe.Bottom,ref:H,open:p,onAfterClose:w,onBeforeOpen:i,onAfterOpen:$,hideArrow:!0,accessibleRole:z,children:g.jsx("div",{className:y.popoverContent,ref:S,role:(I=c==null?void 0:c.overflowPopover)==null?void 0:I.contentRole,"data-component-name":"ToolbarOverflowPopoverContent",children:F.map((o,a)=>{var k,j;return a>P&&a>A-1?(k=o==null?void 0:o.props)!=null&&k.id?t.cloneElement(o,{id:`${o.props.id}-overflow`}):((j=o.type)==null?void 0:j.displayName)==="ToolbarSeparator"?t.cloneElement(o,{style:{height:"0.0625rem",margin:"0.375rem 0.1875rem",width:"100%"}}):o:null})})}),E??document.body)]})};try{G.displayName="OverflowPopover",G.__docgenInfo={description:"",displayName:"OverflowPopover",props:{lastVisibleIndex:{defaultValue:null,description:"",name:"lastVisibleIndex",required:!0,type:{name:"number"}},classes:{defaultValue:null,description:"",name:"classes",required:!0,type:{name:"Record<string, string>"}},portalContainer:{defaultValue:null,description:"",name:"portalContainer",required:!0,type:{name:"Element"}},overflowContentRef:{defaultValue:null,description:"",name:"overflowContentRef",required:!0,type:{name:"Ref<HTMLDivElement>"}},numberOfAlwaysVisibleItems:{defaultValue:null,description:"",name:"numberOfAlwaysVisibleItems",required:!1,type:{name:"number"}},showMoreText:{defaultValue:null,description:"",name:"showMoreText",required:!0,type:{name:"string"}},overflowPopoverRef:{defaultValue:null,description:"",name:"overflowPopoverRef",required:!1,type:{name:"Ref<PopoverDomRef>"}},overflowButton:{defaultValue:null,description:"",name:"overflowButton",required:!1,type:{name:"ReactElement<ButtonPropTypes, string | JSXElementConstructor<any>> | ReactElement<ToggleButtonPropTypes, string | JSXElementConstructor<...>>"}},setIsMounted:{defaultValue:null,description:"",name:"setIsMounted",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},a11yConfig:{defaultValue:null,description:"",name:"a11yConfig",required:!1,type:{name:'{ overflowPopover?: { role?: "None" | PopupAccessibleRole | "Dialog" | "AlertDialog"; contentRole?: AriaRole; }; }'}}}}}catch{}const Ie={outerContainer:{boxSizing:"border-box",width:"100%",maxWidth:"100%",height:oe.ui5WcrToolbarHeight,position:"relative",overflow:"hidden",display:"flex",justifyContent:"space-between",alignItems:"center",borderBlockEnd:`solid 0.0625rem ${d.sapGroup_TitleBorderColor}`},hasOverflow:{"& $toolbar":{maxWidth:"calc(100% - 44px)"}},clear:{borderBlockEnd:"none"},active:{cursor:"pointer","&:hover":{backgroundColor:d.sapList_Hover_Background},"&:focus":{outline:ne.ToolbarFocusOutline,outlineOffset:"-0.1875rem",boxShadow:ne.ToolbarFocusShadow},"&:active":{backgroundColor:d.sapActiveColor}},info:{height:"2rem",backgroundColor:d.sapInfobar_NonInteractive_Background,color:d.sapList_TextColor,"&$active":{outlineColor:d.sapContent_ContrastFocusColor,backgroundColor:d.sapInfobar_Background,color:d.sapInfobar_TextColor,"&:hover":{backgroundColor:d.sapInfobar_Hover_Background},"&:active":{backgroundColor:d.sapInfobar_Active_Background}}},solid:{backgroundColor:d.sapToolbar_Background},transparent:{backgroundColor:"transparent"},toolbar:{width:"100%","& >:first-child:not(.spacer)":{marginInline:"0.5rem 0.25rem"},"& >:last-child:not(.spacer)":{marginInline:"0.25rem 0.5rem"},"& > *:not(:first-child):not(:last-child):not(.spacer)":{marginInline:"0.25rem"},display:"flex",alignItems:"center",maxWidth:"100%"},overflowButtonContainer:{display:"flex",marginInline:"0 0.5rem"},popover:{"&[ui5-popover]::part(content)":{padding:0}},popoverPhone:{width:"calc(100% - 10px)",maxWidth:"calc(100% - 10px)",insetInlineStart:"5px !important"},popoverContent:{padding:oe.ui5WcrToolbarPopoverContentPadding,display:"flex",flexDirection:"column","& >[ui5-toggle-button], & >[ui5-button]":{marginBlock:"0.25rem"},"& >[ui5-button]::part(button) ,& >[ui5-toggle-button]::part(button)":{justifyContent:"start"},"& >[ui5-button][icon-only]::part(button), & >[ui5-toggle-button][icon-only]::part(button)":{padding:"revert"},"& >:last-child":{marginBlockEnd:0},"& >:first-child":{marginBlockStart:0}},childContainer:{display:"flex"}},ke=de(Ie,{name:"Toolbar"});function le(r){if(!r)return 0;let P=0;return r.dataset.componentName==="ToolbarSpacer"&&(P+=r.offsetWidth),P+le(r.previousElementSibling)}const x=36+8+8,K=t.forwardRef((r,P)=>{const{children:y,toolbarStyle:F=X.Standard,design:E=O.Auto,active:S=!1,style:A,className:q,onClick:v,slot:L,as:M="div",portalContainer:c,numberOfAlwaysVisibleItems:p=0,onOverflowChange:_,overflowPopoverRef:m,overflowButton:H,a11yConfig:D,...W}=r,i=ke(),[$,w]=ae(P),h=t.useRef([]),[f,z]=t.useState(null),[I,o]=t.useState(!1),a=t.useRef(null),k=t.useRef(null),j=t.useRef(null),[Y,Q]=t.useState("0"),se=pe("@ui5/webcomponents-react").getText(fe),ie=J(i.outerContainer,F===X.Clear&&i.clear,S&&i.active,E===O.Solid&&i.solid,E===O.Transparent&&i.transparent,E===O.Info&&i.info,q),C=t.useMemo(()=>me(y,10),[y]),U=t.useMemo(()=>(h.current=[],C.map((e,n)=>{var b;const l=t.createRef(),u=((b=e==null?void 0:e.type)==null?void 0:b.displayName)==="ToolbarSpacer";return h.current.push({ref:l,isSpacer:u}),u?e:g.jsx("div",{ref:l,className:i.childContainer,"data-component-name":"ToolbarChildContainer",children:e},n)})),[C,h,i.childContainer]),T=(f||f===0)&&t.Children.count(U)!==f+1&&p<t.Children.count(C);t.useEffect(()=>{let e;const n=a.current.children[p-1],l=re(()=>{var s;const u=le(n),b=(s=w.current)==null?void 0:s.matches(":dir(rtl)");Q(b?`${n.offsetParent.offsetWidth-n.offsetLeft+x-u}px`:`${n.offsetLeft+n.getBoundingClientRect().width+x-u}px`)},200);return p&&T&&n&&(e=new ResizeObserver(l),e.observe(a.current)),()=>{l.cancel(),e==null||e.disconnect()}},[p,T]);const Z=t.useRef(),B=t.useCallback(()=>{Z.current=requestAnimationFrame(()=>{if(!w.current)return;const e=w.current.getBoundingClientRect().width;let n=0,l=null;if(e-x<=0)l=-1;else{let u=!0;h.current.forEach((b,s)=>{const V=h.current[s];if(V&&V.ref&&V.ref.current){let R=V.ref.current.getBoundingClientRect().width;R+=s===0||s===h.current.length-1?4:8,s===h.current.length-1?n+R<=e-8?l=s:(s===0||u)&&(l=s-1):(n+R<=e-x&&(l=s),n<e-x&&n+R>=e-x&&(l=s-1)),u&&!b.isSpacer&&(u=!1),n+=R}})}z(l)})},[T]);t.useEffect(()=>{const e=new ResizeObserver(B);return w.current&&e.observe(w.current),()=>{cancelAnimationFrame(Z.current),e.disconnect()}},[B]),t.useEffect(()=>{t.Children.count(y)>0&&B()},[y]),Se(()=>{B()},[B]);const ee=e=>{if(S&&typeof v=="function"){const n=e.type==="keydown"&&(e.code==="Enter"||e.code==="Space");if(n&&e.target!==e.currentTarget)return;(e.type==="click"||n)&&(n&&e.preventDefault(),v(e))}},te=t.useRef(C),N=t.useRef();t.useEffect(()=>{typeof _=="function"&&(N.current=re(_,60))},[_]),t.useEffect(()=>{var n,l;const e=te.current.length!==C.length;if((f!==null||e)&&typeof N.current=="function"){te.current=C;const u=(n=a.current)==null?void 0:n.children;let b=[],s;I&&(s=(l=k.current)==null?void 0:l.children),(u==null?void 0:u.length)>0&&(b=Array.from(u).filter((V,R)=>R<=f)),N.current({toolbarElements:b,overflowElements:s,target:w.current})}return()=>{N.current&&N.current.cancel()}},[f,C.length,I]);const ue=M,ce=Y!=="0"?{minWidth:Y,...A}:A;return g.jsxs(ue,{style:ce,className:J(ie,T&&i.hasOverflow),ref:$,slot:L,onClick:ee,onKeyDown:ee,tabIndex:S?0:void 0,role:S?"button":void 0,"data-sap-ui-fastnavgroup":"true",...W,children:[g.jsxs("div",{className:i.toolbar,"data-component-name":"ToolbarContent",ref:a,children:[T&&t.Children.map(U,(e,n)=>n>=f+1&&n>p-1?t.cloneElement(e,{style:{visibility:"hidden",position:"absolute",pointerEvents:"none"}}):e),!T&&U]}),T&&g.jsx("div",{ref:j,className:i.overflowButtonContainer,"data-component-name":"ToolbarOverflowButtonContainer",children:g.jsx(G,{overflowPopoverRef:m,lastVisibleIndex:f,classes:i,portalContainer:c,overflowContentRef:k,numberOfAlwaysVisibleItems:p,showMoreText:se,overflowButton:H,setIsMounted:o,a11yConfig:D,children:C})})]})});K.displayName="Toolbar";try{K.displayName="Toolbar",K.__docgenInfo={description:"\n__Note:__ The `Toolbar` component may be replaced by the `ui5-toolbar` web-component (currently available as `ToolbarV2`) with our next major release. If you only need to pass components supported by `ToolbarV2` then please consider using `ToolbarV2` instead of this component.\n\n___\n\nHorizontal container most commonly used to display buttons, labels, selects and various other input controls.\n\nThe content of the `Toolbar` moves into the overflow area from right to left when the available space is not enough in the visible area of the container.\nIt can be accessed by the user through the overflow button that opens it in a popover.\n\n__Note:__ The overflow popover is mounted only when the overflow button is displayed, i.e., any child component of the popover will be remounted, when moved into it.\n\n__Note:__ To prevent duplicate child `id`s in the DOM, all child `id`s get an `-overflow` suffix. This is especially important when popovers are opened by id.",displayName:"Toolbar",props:{children:{defaultValue:null,description:"Defines the content of the `Toolbar`.\n\n__Note:__ Although this prop accepts all `ReactNode` types, it is strongly recommended to not pass `string`, `number` or a React Portal to it.\n\n__Note:__ Only components displayed inside the Toolbar are supported as children, i.e. elements positioned outside the normal flow of the document (like dialogs or popovers), can cause undesired behavior.",name:"children",required:!1,type:{name:"ReactNode | ReactNode[]"}},overflowButton:{defaultValue:null,description:'Defines the button shown when the `Toolbar` goes into overflow.\n\n__Note:__ It is strongly recommended that you only use `ToggleButton` in icon only mode in order to preserve the intended design.\n\n__Note:__ Per default a `ToggleButton` with the `"overflow"` icon and all necessary a11y attributes will be rendered.',name:"overflowButton",required:!1,type:{name:"ReactElement<ButtonPropTypes, string | JSXElementConstructor<any>> | ReactElement<ToggleButtonPropTypes, string | JSXElementConstructor<...>>"}},toolbarStyle:{defaultValue:null,description:"Defines the visual style of the `Toolbar`.\n\n__Note:__ The visual styles are theme-dependent.",name:"toolbarStyle",required:!1,type:{name:"enum",value:[{value:'"Clear"'},{value:'"Standard"'},{value:'"Clear"'},{value:'"Standard"'}]}},design:{defaultValue:null,description:"Defines the `Toolbar` design.<br />\n<b>Note:</b> Design settings are theme-dependent.",name:"design",required:!1,type:{name:"enum",value:[{value:'"Solid"'},{value:'"Transparent"'},{value:'"Auto"'},{value:'"Auto"'},{value:'"Info"'},{value:'"Solid"'},{value:'"Transparent"'},{value:'"Info"'}]}},active:{defaultValue:null,description:"Indicates that the whole `Toolbar` is clickable. The Press event is fired only if `active` is set to true.",name:"active",required:!1,type:{name:"boolean"}},as:{defaultValue:null,description:"Sets the components outer HTML tag.\n\n__Note:__ For TypeScript the types of `ref` are bound to the default tag name, if you change it you are responsible to set the respective types yourself.",name:"as",required:!1,type:{name:"enum",value:[{value:'"object"'},{value:'"style"'},{value:'"slot"'},{value:'"title"'},{value:'"article"'},{value:'"button"'},{value:'"dialog"'},{value:'"figure"'},{value:'"form"'},{value:'"img"'},{value:'"link"'},{value:'"main"'},{value:'"menu"'},{value:'"option"'},{value:'"search"'},{value:'"table"'},{value:'"time"'},{value:'"footer"'},{value:'"header"'},{value:'"label"'},{value:'"a"'},{value:'"abbr"'},{value:'"address"'},{value:'"area"'},{value:'"aside"'},{value:'"audio"'},{value:'"b"'},{value:'"base"'},{value:'"bdi"'},{value:'"bdo"'},{value:'"blockquote"'},{value:'"body"'},{value:'"br"'},{value:'"canvas"'},{value:'"caption"'},{value:'"cite"'},{value:'"code"'},{value:'"col"'},{value:'"colgroup"'},{value:'"data"'},{value:'"datalist"'},{value:'"dd"'},{value:'"del"'},{value:'"details"'},{value:'"dfn"'},{value:'"div"'},{value:'"dl"'},{value:'"dt"'},{value:'"em"'},{value:'"embed"'},{value:'"fieldset"'},{value:'"figcaption"'},{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"h4"'},{value:'"h5"'},{value:'"h6"'},{value:'"head"'},{value:'"hgroup"'},{value:'"hr"'},{value:'"html"'},{value:'"i"'},{value:'"iframe"'},{value:'"input"'},{value:'"ins"'},{value:'"kbd"'},{value:'"legend"'},{value:'"li"'},{value:'"map"'},{value:'"mark"'},{value:'"meta"'},{value:'"meter"'},{value:'"nav"'},{value:'"noscript"'},{value:'"ol"'},{value:'"optgroup"'},{value:'"output"'},{value:'"p"'},{value:'"picture"'},{value:'"pre"'},{value:'"progress"'},{value:'"q"'},{value:'"rp"'},{value:'"rt"'},{value:'"ruby"'},{value:'"s"'},{value:'"samp"'},{value:'"script"'},{value:'"section"'},{value:'"select"'},{value:'"small"'},{value:'"source"'},{value:'"span"'},{value:'"strong"'},{value:'"sub"'},{value:'"summary"'},{value:'"sup"'},{value:'"tbody"'},{value:'"td"'},{value:'"template"'},{value:'"textarea"'},{value:'"tfoot"'},{value:'"th"'},{value:'"thead"'},{value:'"tr"'},{value:'"track"'},{value:'"u"'},{value:'"ul"'},{value:'"var"'},{value:'"video"'},{value:'"wbr"'}]}},portalContainer:{defaultValue:null,description:"Defines where modals are rendered into via `React.createPortal`.\n\nYou can find out more about this [here](https://sap.github.io/ui5-webcomponents-react/?path=/docs/knowledge-base-working-with-portals--page).\n\nDefaults to: `document.body`",name:"portalContainer",required:!1,type:{name:"Element"}},numberOfAlwaysVisibleItems:{defaultValue:null,description:"Defines the number of items inside the toolbar which should always be visible.\n_E.g.: `numberOfAlwaysVisibleItems={3}` would always show the first three items, no matter the size of the toolbar._\n\n__Note__: To preserve the intended design, it's not recommended to overwrite the `min-width` when using this prop.",name:"numberOfAlwaysVisibleItems",required:!1,type:{name:"number"}},overflowPopoverRef:{defaultValue:null,description:`Exposes the React Ref of the overflow popover.
This can be useful, for example, when wanting to close the popover on click or selection of a child element.`,name:"overflowPopoverRef",required:!1,type:{name:"Ref<PopoverDomRef>"}},a11yConfig:{defaultValue:null,description:'Defines internally used a11y properties.\n\n__Note:__ When setting `contentRole` of the `overflowPopover`, the `role` is set to `"None"`.',name:"a11yConfig",required:!1,type:{name:'{ overflowPopover?: { role?: "None" | PopupAccessibleRole | "Dialog" | "AlertDialog"; contentRole?: AriaRole; }; }'}},onClick:{defaultValue:null,description:"Fired if the `active` prop is set to true and the user clicks or presses Enter/Space on the `Toolbar`.",name:"onClick",required:!1,type:{name:"(event: CustomEvent<any>) => void"}},onOverflowChange:{defaultValue:null,description:"Fired when the content of the overflow popover has changed.",name:"onOverflowChange",required:!1,type:{name:"(event: { toolbarElements: HTMLElement[]; overflowElements: HTMLCollection; target: HTMLElement; }) => void"}},style:{defaultValue:null,description:`Element style which will be appended to the most outer element of a component.
Use this prop carefully, some css properties might break the component.`,name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:`CSS Class Name which will be appended to the most outer element of a component.
Use this prop carefully, overwriting CSS rules might break the component.`,name:"className",required:!1,type:{name:"string"}}}}}catch{}export{xe as O,K as T,O as a,X as b};
