const c=new Map,a=(r,e)=>{c.set(r,e)},h=r=>c.get(r);class g{constructor(){this._eventRegistry=new Map}attachEvent(e,t){const s=this._eventRegistry,n=s.get(e);if(!Array.isArray(n)){s.set(e,[t]);return}n.includes(t)||n.push(t)}detachEvent(e,t){const s=this._eventRegistry,n=s.get(e);if(!n)return;const i=n.indexOf(t);i!==-1&&n.splice(i,1),n.length===0&&s.delete(e)}fireEvent(e,t){const s=this._eventRegistry.get(e);return s?s.map(n=>n.call(this,t)):[]}fireEventAsync(e,t){return Promise.all(this.fireEvent(e,t))}isHandlerAttached(e,t){const s=this._eventRegistry.get(e);return s?s.includes(t):!1}hasListeners(e){return!!this._eventRegistry.get(e)}}export{g as i,h as n,a as s};
