{"version":3,"file":"PopupUtils-7oRQuqE1.js","sources":["../../node_modules/@ui5/webcomponents-base/dist/util/PopupUtils.js"],"sourcesContent":["import getSharedResource from \"../getSharedResource.js\";\nimport { getFeature } from \"../FeaturesRegistry.js\";\nimport getActiveElement from \"./getActiveElement.js\";\nconst popupUtilsData = getSharedResource(\"PopupUtilsData\", { currentZIndex: 100 });\nconst getFocusedElement = () => {\n    const element = getActiveElement();\n    return (element && typeof element.focus === \"function\") ? element : null;\n};\nconst isFocusedElementWithinNode = (node) => {\n    const fe = getFocusedElement();\n    if (fe) {\n        return isNodeContainedWithin(node, fe);\n    }\n    return false;\n};\nconst isNodeContainedWithin = (parent, child) => {\n    let currentNode = parent;\n    if (currentNode.shadowRoot) {\n        const children = Array.from(currentNode.shadowRoot.children);\n        currentNode = children.find(n => n.localName !== \"style\");\n        if (!currentNode) {\n            return false;\n        }\n    }\n    if (currentNode === child) {\n        return true;\n    }\n    const childNodes = currentNode.localName === \"slot\" ? currentNode.assignedNodes() : currentNode.children;\n    if (childNodes) {\n        return Array.from(childNodes).some(n => isNodeContainedWithin(n, child));\n    }\n    return false;\n};\nconst isPointInRect = (x, y, rect) => {\n    return x >= rect.left && x <= rect.right\n        && y >= rect.top && y <= rect.bottom;\n};\nconst isClickInRect = (e, rect) => {\n    let x;\n    let y;\n    if (e instanceof MouseEvent) {\n        x = e.clientX;\n        y = e.clientY;\n    }\n    else {\n        const touch = e.touches[0];\n        x = touch.clientX;\n        y = touch.clientY;\n    }\n    return isPointInRect(x, y, rect);\n};\nfunction instanceOfPopup(object) {\n    return \"isUI5Element\" in object && \"_show\" in object;\n}\nconst getClosedPopupParent = (el) => {\n    const parent = el.parentElement || (el.getRootNode && el.getRootNode().host);\n    if (parent && ((instanceOfPopup(parent) || parent === document.documentElement))) {\n        return parent;\n    }\n    return getClosedPopupParent(parent);\n};\nconst getNextZIndex = () => {\n    const openUI5Support = getFeature(\"OpenUI5Support\");\n    if (openUI5Support && openUI5Support.isOpenUI5Detected()) { // use OpenUI5 for getting z-index values, if loaded\n        return openUI5Support.getNextZIndex();\n    }\n    popupUtilsData.currentZIndex += 2;\n    return popupUtilsData.currentZIndex;\n};\nconst getCurrentZIndex = () => {\n    return popupUtilsData.currentZIndex;\n};\nexport { getFocusedElement, isClickInRect, getClosedPopupParent, getNextZIndex, getCurrentZIndex, isFocusedElementWithinNode, };\n//# sourceMappingURL=PopupUtils.js.map"],"names":["popupUtilsData","getSharedResource","getFocusedElement","element","getActiveElement","isFocusedElementWithinNode","node","fe","isNodeContainedWithin","parent","child","currentNode","n","childNodes","isPointInRect","x","y","rect","isClickInRect","touch","instanceOfPopup","object","getClosedPopupParent","el","getNextZIndex","openUI5Support","getFeature"],"mappings":"8IAGA,MAAMA,EAAiBC,EAAkB,iBAAkB,CAAE,cAAe,GAAK,CAAA,EAC3EC,EAAoB,IAAM,CAC5B,MAAMC,EAAUC,IAChB,OAAQD,GAAW,OAAOA,EAAQ,OAAU,WAAcA,EAAU,IACxE,EACME,EAA8BC,GAAS,CACzC,MAAMC,EAAKL,IACX,OAAIK,EACOC,EAAsBF,EAAMC,CAAE,EAElC,EACX,EACMC,EAAwB,CAACC,EAAQC,IAAU,CAC7C,IAAIC,EAAcF,EAClB,GAAIE,EAAY,aAEZA,EADiB,MAAM,KAAKA,EAAY,WAAW,QAAQ,EACpC,KAAKC,GAAKA,EAAE,YAAc,OAAO,EACpD,CAACD,GACD,MAAO,GAGf,GAAIA,IAAgBD,EAChB,MAAO,GAEX,MAAMG,EAAaF,EAAY,YAAc,OAASA,EAAY,cAAa,EAAKA,EAAY,SAChG,OAAIE,EACO,MAAM,KAAKA,CAAU,EAAE,KAAKD,GAAKJ,EAAsBI,EAAGF,CAAK,CAAC,EAEpE,EACX,EACMI,EAAgB,CAACC,EAAGC,EAAGC,IAClBF,GAAKE,EAAK,MAAQF,GAAKE,EAAK,OAC5BD,GAAKC,EAAK,KAAOD,GAAKC,EAAK,OAEhCC,EAAgB,CAAC,EAAGD,IAAS,CAC/B,IAAIF,EACAC,EACJ,GAAI,aAAa,WACbD,EAAI,EAAE,QACNC,EAAI,EAAE,YAEL,CACD,MAAMG,EAAQ,EAAE,QAAQ,CAAC,EACzBJ,EAAII,EAAM,QACVH,EAAIG,EAAM,OACb,CACD,OAAOL,EAAcC,EAAGC,EAAGC,CAAI,CACnC,EACA,SAASG,EAAgBC,EAAQ,CAC7B,MAAO,iBAAkBA,GAAU,UAAWA,CAClD,CACK,MAACC,EAAwBC,GAAO,CACjC,MAAMd,EAASc,EAAG,eAAkBA,EAAG,aAAeA,EAAG,cAAc,KACvE,OAAId,IAAYW,EAAgBX,CAAM,GAAKA,IAAW,SAAS,iBACpDA,EAEJa,EAAqBb,CAAM,CACtC,EACMe,EAAgB,IAAM,CACxB,MAAMC,EAAiBC,EAAW,gBAAgB,EAClD,OAAID,GAAkBA,EAAe,oBAC1BA,EAAe,iBAE1BzB,EAAe,eAAiB,EACzBA,EAAe,cAC1B","x_google_ignoreList":[0]}