import{j as e}from"./jsx-runtime-d079401a.js";import"./UnableToLoad-3a2532f9.js";import{n as vt}from"./navigation-down-arrow-151016fc.js";import{s as Xe}from"./search-4e7efcf2.js";import{T as b}from"./ThemingParameters-7e2e4e30.js";import{e as ye}from"./index-99d317a4.js";import{c as ve}from"./clsx-1229b3e0.js";import{r as t,R as Ke}from"./index-f1f2c4b1.js";import{r as Me}from"./index-c74c9f7f.js";import{c as Re}from"./react-jss.esm-2e5f50f2.js";import{u as xe,V as Ze,b as et,c as tt,d as gt,M as Vt,e as wt,D as xt,f as je,g as St,U as bt,h as Pe,C as at,i as ke,j as It,k as Tt,l as _t,m as Ct,n as nt,o as At,p as Dt,q as Nt,r as Et,s as qt,t as Mt,v as Rt}from"./i18n-defaults-f9eebbcc.js";import{h as Oe,u as jt}from"./withWebComponent-70ea33bf.js";import{s as Pt}from"./stopPropagation-da74d54e.js";import{F as Ve,b as Te,c as _e}from"./index-12e0da73.js";import{p as kt,z as Ot}from"./UI5Element-9ae3ac4a.js";import{t as Ce,c as it}from"./utils-eb830979.js";import{B as Fe}from"./index-ec37d84b.js";import{B as X}from"./index-f2b6f529.js";import{D as lt}from"./index-7805f734.js";import{b as Ft,c as oe,T as Bt,a as de}from"./index-0f06983e.js";import{d as Lt}from"./decline-06bf09c2.js";import{f as be}from"./favorite-2e1dd53f.js";import{u as Ht}from"./unfavorite-34fe8204.js";import{T as Je}from"./index-743fc8f1.js";import{R as Wt}from"./index-aac3c478.js";import{C as ge}from"./index-8ef8a412.js";import{I as we}from"./index-4e4a8f87.js";import{B as F}from"./Button-bda40b74.js";import{I as Se}from"./index-ec1451d8.js";import{V as Qe}from"./ValueState-ab6838cc.js";import{B as Be}from"./Bar-a5fb143c.js";import{L as Ut}from"./index-27b2b5db.js";import{u as $t}from"./useIsomorphicId-ed1d334d.js";import{I as zt}from"./index-95bf3254.js";import{a as Gt}from"./Popover-f88acbeb.js";import{T as Yt}from"./Title-9e1fec85.js";import{T as Kt}from"./index-ed36f2c7.js";import{R as Jt}from"./index-6e3c0e88.js";import{I as Qt}from"./IllustratedMessage-c39c457c.js";import{L as Xt}from"./index-babc4d4e.js";import{a as Zt}from"./ListItemBase-7c3bbca9.js";import{S as ea}from"./index-979ca405.js";const rt=t.createContext({selectVariantItem:r=>{}}),Ae=r=>{const{variantNames:M,changedVariantNames:f,setChangedVariantNames:I,handleRowChange:V,handleDelete:B,defaultView:R,setDefaultView:j,showShare:P,showApplyAutomatically:s,showSetAsDefault:g,showCreatedBy:d,labelReadOnly:h,favorite:w,children:n,global:k,isDefault:T,applyAutomatically:L,applyAutomaticallyText:O,author:$,setInvalidVariants:H,hideDelete:W,showOnlyFavorites:z}=r,c=xe("@ui5/webcomponents-react"),G=c.getText(Ze),E=c.getText(et),Z=c.getText(tt),p=c.getText(gt),_=c.getText(Vt),x=c.getText(wt),C=c.getText(xt),ee=c.getText(je),Y=c.getText(St),y=c.getText(bt),te=c.getText(Pe),[i,K]=t.useReducer(o=>!o,!!w),ae=i?be:Ht,U=t.useRef(void 0),[ie,l]=t.useState(!1),v=o=>{K(),V(o,{currentVariant:n,favorite:!i})},S=o=>{var le,re;typeof((le=r.manageViewsInputProps)==null?void 0:le.onInput)=="function"&&((re=r.manageViewsInputProps)==null||re.onInput(o));const D=Ce(o.target.value);M.includes(D)||Array.from(f.values()).includes(D)?(l(G),H(q=>({...q,[`${n}`]:U.current})),V(o,{currentVariant:n,children:D})):D.length===0?(l(E),H(q=>({...q,[n]:U.current})),V(o,{currentVariant:n,children:D})):o.isInvalid?H(q=>({...q,[`${n}`]:U.current})):(l(!1),H(q=>{const se={...q};return q.hasOwnProperty(n)&&delete se[n],se}),V(o,{currentVariant:n,children:D}))},m=o=>{var le,re;typeof((le=r.manageViewsInputProps)==null?void 0:le.onChange)=="function"&&((re=r.manageViewsInputProps)==null||re.onChange(o));const D=Ce(o.target.value);I(q=>{const se=new Map(q);return se.set(n,D),se})},A=()=>{j(n)},J=o=>{V(o,{currentVariant:n,applyAutomatically:o.target.checked})},Q=()=>{var o,D;return h?e.jsx(Je,{style:{fontFamily:T?b.sapFontBoldFamily:b.sapFontFamily},children:n}):e.jsx(Se,{placeholder:te,ref:U,...r.manageViewsInputProps,valueStateMessage:((o=r.manageViewsInputProps)==null?void 0:o.valueStateMessage)??e.jsx("div",{children:ie}),valueState:((D=r.manageViewsInputProps)==null?void 0:D.valueState)??(ie?Qe.Error:Qe.None),value:n,onInput:S,onChange:m})};return e.jsxs(Ft,{"data-id":n,children:[z&&e.jsx(oe,{children:T?e.jsx(we,{name:be,style:{color:b.sapContent_NonInteractiveIconColor}}):e.jsx(we,{accessibleName:_,title:ae===be?Y:y,name:ae,interactive:!0,style:{color:b.sapContent_MarkerIconColor,cursor:"pointer"},onClick:v})}),e.jsx(oe,{children:Q()}),P&&e.jsx(oe,{children:k?Z:p}),g&&e.jsx(oe,{children:e.jsx(Wt,{accessibleName:x,checked:R!==void 0?R===n:T,onChange:A})}),s&&e.jsx(oe,{children:e.jsx(ge,{accessibleName:ee,checked:L,onChange:J,text:O})}),d&&e.jsx(oe,{children:e.jsx(Je,{children:$})}),e.jsx(oe,{children:!(W??k)&&e.jsx(X,{tooltip:C,accessibleName:C,icon:Lt,design:F.Transparent,onClick:B,"data-children":n})})]},`${n}`)};try{Ae.displayName="ManageViewsTableRows",Ae.__docgenInfo={description:"",displayName:"ManageViewsTableRows",props:{variantNames:{defaultValue:null,description:"",name:"variantNames",required:!0,type:{name:"string[]"}},handleRowChange:{defaultValue:null,description:"",name:"handleRowChange",required:!0,type:{name:"(e: Event, payload: any) => void"}},handleDelete:{defaultValue:null,description:"",name:"handleDelete",required:!0,type:{name:"(e: any) => void"}},defaultView:{defaultValue:null,description:"",name:"defaultView",required:!0,type:{name:"string"}},setDefaultView:{defaultValue:null,description:"",name:"setDefaultView",required:!0,type:{name:"(view: string) => void"}},showShare:{defaultValue:null,description:"",name:"showShare",required:!0,type:{name:"boolean"}},showApplyAutomatically:{defaultValue:null,description:"",name:"showApplyAutomatically",required:!0,type:{name:"boolean"}},showSetAsDefault:{defaultValue:null,description:"",name:"showSetAsDefault",required:!0,type:{name:"boolean"}},showCreatedBy:{defaultValue:null,description:"",name:"showCreatedBy",required:!0,type:{name:"boolean"}},showOnlyFavorites:{defaultValue:null,description:"",name:"showOnlyFavorites",required:!1,type:{name:"boolean"}},changedVariantNames:{defaultValue:null,description:"",name:"changedVariantNames",required:!0,type:{name:"Map<string, any>"}},setChangedVariantNames:{defaultValue:null,description:"",name:"setChangedVariantNames",required:!0,type:{name:"(varNames: any) => void"}},setInvalidVariants:{defaultValue:null,description:"",name:"setInvalidVariants",required:!0,type:{name:"(invalidVars: any) => void"}},children:{defaultValue:null,description:"The name of the variant.",name:"children",required:!0,type:{name:"string"}},author:{defaultValue:null,description:"Author of the variant.",name:"author",required:!1,type:{name:"string"}},favorite:{defaultValue:null,description:"Indicates if favorites can be created.\n\n__Note:__ Has no effect if `showOnlyFavorites` is falsy in the `VariantMangament`.",name:"favorite",required:!1,type:{name:"boolean"}},global:{defaultValue:null,description:"Indicator if a variant is visible for all users (public flag is set).",name:"global",required:!1,type:{name:"boolean"}},isDefault:{defaultValue:null,description:"Indicator if it's the default variant.",name:"isDefault",required:!1,type:{name:"boolean"}},labelReadOnly:{defaultValue:null,description:"Indicates if the variant title can be changed.",name:"labelReadOnly",required:!1,type:{name:"boolean"}},applyAutomatically:{defaultValue:null,description:"Indicates if the variant should be applied automatically on selection.",name:"applyAutomatically",required:!1,type:{name:"boolean"}},applyAutomaticallyText:{defaultValue:null,description:'Text displayed next to the "Apply Automatically" checkbox inside the "Manage Views" dialog.',name:"applyAutomaticallyText",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:'If set to false, the user is allowed to change the item\'s data.\n\n__Note:__ When set to true, no "Save" button will be displayed for the `VariantItem` when the `VariantManagement` is in `dirtyState`.',name:"readOnly",required:!1,type:{name:"boolean"}},hideDelete:{defaultValue:null,description:"Indicates if the variant can be deleted.\n\n__Note:__ If not set, a delete button is shown for all variants except for variants with `global={true}`.",name:"hideDelete",required:!1,type:{name:"boolean"}},manageViewsInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Manage Views" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"manageViewsInputProps",required:!1,type:{name:'Omit<InputPropTypes, "value">'}},saveViewInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Save View" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"saveViewInputProps",required:!1,type:{name:'Omit<InputPropTypes, "id" | "value">'}},selected:{defaultValue:null,description:"Defines the selected state of the `ListItem`.",name:"selected",required:!1,type:{name:"boolean"}},accessibleName:{defaultValue:null,description:"Defines the text alternative of the component. Note: If not provided a default text alternative will be set, if present.",name:"accessibleName",required:!1,type:{name:"string"}}}}}catch{}const Ie=`var(${it}popup_default_header_height)`,ta=`var(${it}popup_header_font_family)`,aa={manageViewsDialog:{width:kt()||Ot()?"100%":"70vw","&::part(content), &::part(header)":{padding:0},"&::part(footer)":{padding:0,borderBlockStart:"none"}},headerText:{margin:0,textAlign:"center",alignSelf:"start",minHeight:Ie,maxHeight:Ie,lineHeight:Ie,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",display:"inline-block",paddingInlineStart:"1rem",fontFamily:`"72override",${ta}`,fontSize:"1rem"},search:{width:"calc(100% - 2rem)",marginBlockEnd:"0.5rem"},inputIcon:{cursor:"pointer",color:b.sapContent_IconColor}},na=Re(aa,{name:"ManageViewsDialog"}),De=r=>{const{children:M,onAfterClose:f,handleSaveManageViews:I,showShare:V,showApplyAutomatically:B,showSetAsDefault:R,showCreatedBy:j,variantNames:P,portalContainer:s,showOnlyFavorites:g}=r,d=xe("@ui5/webcomponents-react"),h=d.getText(at),w=d.getText(ke),n=d.getText(Pe),k=d.getText(It),T=d.getText(Tt),L=d.getText(je),O=d.getText(_t),$=d.getText(Ct),H=d.getText(nt),[W,z]=t.useState(new Map),[c,G]=t.useState({}),E=na(),Z=e.jsxs(e.Fragment,{children:[g&&e.jsx(de,{},"favorite-variant-item"),e.jsx(de,{children:n}),V&&e.jsx(de,{demandPopin:!0,minWidth:600,children:k}),R&&e.jsx(de,{demandPopin:!0,minWidth:600,popinText:T,children:T}),B&&e.jsx(de,{demandPopin:!0,minWidth:600,popinText:L,children:L}),j&&e.jsx(de,{demandPopin:!0,minWidth:600,popinText:O,children:O}),e.jsx(de,{},"delete-variant-item")]}),[p,_]=t.useState(t.Children.map(M,l=>Ke.isValidElement(l)?l.props:{}));t.useEffect(()=>{_(t.Children.map(M,l=>Ke.isValidElement(l)?l.props:{}))},[M]);const[x,C]=t.useState(p);t.useEffect(()=>{C(p)},[p]);const[ee,Y]=t.useState(),y=t.useRef({}),te=(l,v)=>{v&&(y.current[v.currentVariant]={...y.current[v.currentVariant]??{},...v})},i=t.useRef(new Set([])),K=l=>{i.current.add(l.target.dataset.children),_(v=>v.filter(S=>S.children!==l.target.dataset.children).map(S=>y.current.hasOwnProperty(S.children)?{...S,...y.current[S.children]}:S))},ae=l=>{Object.keys(c).length===0?I(l,{updatedRows:y.current,defaultView:ee,deletedRows:i.current}):Object.values(c)[0].focus()},U=l=>{const v=l.target.value.toLowerCase();C(p.filter(S=>{var m,A,J,Q;return((A=(m=S.children)==null?void 0:m.toLowerCase())==null?void 0:A.includes(v))||((Q=(J=S.author)==null?void 0:J.toLowerCase())==null?void 0:Q.includes(v))}))};return Oe()?Me.createPortal(e.jsx(lt,{open:!0,className:E.manageViewsDialog,"data-component-name":"VariantManagementManageViewsDialog",onAfterClose:f,headerText:$,header:e.jsxs(Ve,{direction:Te.Column,style:{width:"100%"},alignItems:_e.Center,children:[e.jsx("h2",{className:E.headerText,children:$}),e.jsx(Se,{className:E.search,placeholder:H,showClearIcon:!0,icon:e.jsx(we,{name:Xe,className:E.inputIcon}),onInput:U})]}),resizable:!0,footer:e.jsx(Fe,{design:Be.Footer,endContent:e.jsxs(e.Fragment,{children:[e.jsx(X,{design:F.Emphasized,onClick:ae,children:w}),e.jsx(X,{design:F.Transparent,onClick:f,children:h})]})}),children:e.jsx(Bt,{columns:Z,stickyColumnHeader:!0,role:"table",children:x.map(l=>t.createElement(Ae,{...l,setInvalidVariants:G,setChangedVariantNames:z,changedVariantNames:W,variantNames:P,handleRowChange:te,handleDelete:K,defaultView:ee,setDefaultView:Y,showShare:V,showApplyAutomatically:B,showSetAsDefault:R,showCreatedBy:j,key:l==null?void 0:l.children,showOnlyFavorites:g}))})}),s??document.body):null};try{De.displayName="ManageViewsDialog",De.__docgenInfo={description:"",displayName:"ManageViewsDialog",props:{onAfterClose:{defaultValue:null,description:"",name:"onAfterClose",required:!0,type:{name:"any"}},handleSaveManageViews:{defaultValue:null,description:"",name:"handleSaveManageViews",required:!0,type:{name:"(e: MouseEventHandler<HTMLElement>, payload: { updatedRows: any; defaultView: string; deletedRows: any; }) => void"}},showShare:{defaultValue:null,description:"",name:"showShare",required:!0,type:{name:"boolean"}},showApplyAutomatically:{defaultValue:null,description:"",name:"showApplyAutomatically",required:!0,type:{name:"boolean"}},showSetAsDefault:{defaultValue:null,description:"",name:"showSetAsDefault",required:!0,type:{name:"boolean"}},showCreatedBy:{defaultValue:null,description:"",name:"showCreatedBy",required:!0,type:{name:"boolean"}},variantNames:{defaultValue:null,description:"",name:"variantNames",required:!0,type:{name:"string[]"}},portalContainer:{defaultValue:null,description:"",name:"portalContainer",required:!0,type:{name:"Element"}},showOnlyFavorites:{defaultValue:null,description:"",name:"showOnlyFavorites",required:!1,type:{name:"boolean"}}}}}catch{}const ia=Re({dialog:{"&::part(footer)":{borderBlockStart:"none",padding:0}},input:{width:"100%",marginBlock:"0.1875rem"},checkBoxesContainer:{paddingInline:"0.5rem"}},{name:"SaveViewDialogStyles"}),Ne=r=>{const{onAfterClose:M,handleSave:f,selectedVariant:I,showShare:V,showApplyAutomatically:B,showSetAsDefault:R,variantNames:j,portalContainer:P,saveViewInputProps:s}=r,g=t.useRef(null),d=t.useRef(void 0),h=xe("@ui5/webcomponents-react"),w=ia(),n=$t(),k=h.getText(at),T=h.getText(ke),L=h.getText(At),O=h.getText(Dt),$=h.getText(tt),H=h.getText(je),W=h.getText(Pe),z=h.getText(Ze),c=h.getText(et),[G,E]=t.useState(I.isDefault),[Z,p]=t.useState(I.global),[_,x]=t.useState(I.applyAutomatically),[C,ee]=t.useState(I.children),[Y,y]=t.useState(!1),[te,i]=t.useState(!1),K=m=>{typeof(s==null?void 0:s.onInput)=="function"&&s.onInput(m);const A=Ce(m.target.value);ee(A),j.includes(A)?y(z):A.length===0?y(c):m.isInvalid?i(!0):(y(!1),i(!1))},ae=m=>{var A,J,Q;j.includes(C)?(y(z),(A=d.current)==null||A.focus()):C.length===0?(y(c),(J=d.current)==null||J.focus()):te?(Q=d.current)==null||Q.focus():(y(!1),f(m,{...I,children:C,isDefault:G,global:Z,applyAutomatically:_}))},U=()=>{g.current.close()},ie=m=>{E(m.target.checked)},l=m=>{p(m.target.checked)},v=m=>{x(m.target.checked)};return Oe()?Me.createPortal(e.jsx(lt,{open:!0,className:w.dialog,ref:g,headerText:L,onAfterClose:M,footer:e.jsx(Fe,{design:Be.Footer,endContent:e.jsxs(e.Fragment,{children:[e.jsx(X,{design:F.Emphasized,onClick:ae,children:T}),e.jsx(X,{design:F.Transparent,onClick:U,children:k})]})}),children:e.jsxs(Ve,{direction:Te.Column,alignItems:_e.Start,children:[e.jsx(Ut,{for:`view-${n}`,showColon:!0,children:W}),e.jsx(Se,{accessibleName:W,ref:d,...s,valueState:(s==null?void 0:s.valueState)??(Y?"Error":"None"),valueStateMessage:(s==null?void 0:s.valueStateMessage)??e.jsx("div",{children:Y}),className:ve(w.input,s==null?void 0:s.className),id:`view-${n}`,value:C,onInput:K}),e.jsxs(Ve,{alignItems:_e.Start,direction:Te.Column,className:w.checkBoxesContainer,children:[R&&e.jsx(ge,{onChange:ie,text:O,checked:G}),V&&e.jsx(ge,{onChange:l,text:$,checked:Z}),B&&e.jsx(ge,{onChange:v,text:H,checked:_})]})]})}),P??document.body):null};try{Ne.displayName="SaveViewDialog",Ne.__docgenInfo={description:"",displayName:"SaveViewDialog",props:{onAfterClose:{defaultValue:null,description:"",name:"onAfterClose",required:!0,type:{name:"(event: Ui5CustomEvent<DialogDomRef, never>) => void"}},handleSave:{defaultValue:null,description:"",name:"handleSave",required:!0,type:{name:"(event: Ui5CustomEvent<ButtonDomRef, never>, selectedVariant: SelectedVariant) => void"}},selectedVariant:{defaultValue:null,description:"",name:"selectedVariant",required:!0,type:{name:"SelectedVariant"}},showShare:{defaultValue:null,description:"",name:"showShare",required:!0,type:{name:"boolean"}},showApplyAutomatically:{defaultValue:null,description:"",name:"showApplyAutomatically",required:!0,type:{name:"boolean"}},showSetAsDefault:{defaultValue:null,description:"",name:"showSetAsDefault",required:!0,type:{name:"boolean"}},variantNames:{defaultValue:null,description:"",name:"variantNames",required:!0,type:{name:"string[]"}},portalContainer:{defaultValue:null,description:"",name:"portalContainer",required:!0,type:{name:"Element"}},saveViewInputProps:{defaultValue:null,description:"",name:"saveViewInputProps",required:!1,type:{name:'Omit<InputPropTypes, "value">'}}}}}catch{}const la={container:{display:"flex",alignItems:"center",textAlign:"center"},title:{cursor:"pointer",color:b.sapLinkColor,textShadow:"none","&:hover":{color:b.sapLink_Hover_Color},"&:active":{color:b.sapLink_Active_Color}},disabled:{"& $title":{color:b.sapGroup_TitleTextColor,cursor:"default","&:hover":{color:"ThemingParameters.sapGroup_TitleTextColor"}}},dirtyState:{color:b.sapGroup_TitleTextColor,paddingInline:"0.125rem",fontWeight:"bold",font:b.sapFontFamily,fontSize:b.sapFontSize,flexGrow:1},dirtyStateText:{fontSize:b.sapFontSmallSize,fontWeight:"normal"},navDownBtn:{marginInlineStart:"0.125rem"},footer:{"& > :last-child":{marginInlineEnd:0}},inputIcon:{cursor:"pointer",color:b.sapContent_IconColor},searchInputContainer:{padding:"0.25rem 1rem"},searchInput:{width:"100%"},popover:{minWidth:"25rem","&::part(content), &::part(footer)":{padding:0},"&::part(footer)":{borderBlockStart:"none"}}},ra=Re(la,{name:"VariantManagement"}),Ee=t.forwardRef((r,M)=>{const f=xe("@ui5/webcomponents-react"),{titleText:I=f.getText(Nt),className:V,style:B,placement:R=Gt.Bottom,level:j=Yt.H4,onSelect:P,closeOnItemSelect:s,disabled:g,onSaveAs:d,onSaveManageViews:h,showOnlyFavorites:w,inErrorState:n,hideShare:k,children:T,hideManageVariants:L,hideApplyAutomatically:O,hideSetAsDefault:$,hideCreatedBy:H,hideSaveAs:W,dirtyStateText:z="*",dirtyState:c,onSave:G,portalContainer:E,...Z}=r,p=ra(),_=t.useRef(null),[x,C]=t.useState(t.Children.toArray(T));t.useEffect(()=>{C(t.Children.toArray(T))},[T]);const[ee,Y]=t.useState(!1),[y,te]=t.useState(!1),[i,K]=t.useState(()=>{const a=x.find(u=>t.isValidElement(u)&&u.props.selected);if(a)return{...a.props,variantItem:a.ref}}),[ae,U]=t.useState((i==null?void 0:i.saveViewInputProps)??{}),ie=()=>{_.current.close()},l=()=>{Y(!0)},v=()=>{Y(!1)},S=()=>{te(!0)},m=()=>{te(!1)},A=a=>{typeof G=="function"&&G(ye(a,i))},J=(a,u)=>{typeof d=="function"&&d(ye(a,u)),K(u),a.defaultPrevented||m()},Q=(a,u)=>{const{defaultView:ce,updatedRows:Ge,deletedRows:ht}=u,pe={deletedVariants:[],prevVariants:[],updatedVariants:[],variants:[]};C(ft=>t.Children.toArray(ft.map(N=>{if(!t.isValidElement(N))return!1;let ne={};const Ye=_.current.querySelector(`ui5-li[data-children="${N.props.children}"]`);if(pe.prevVariants.push(N.props),ce&&(ce===N.props.children?ne.isDefault=!0:N.props.isDefault&&(ne.isDefault=!1)),Object.keys(Ge).includes(N.props.children)){const{currentVariant:sa,...yt}=Ge[N.props.children];ne={...ne,...yt}}return ht.has(N.props.children)?(pe.deletedVariants.push(N.props),!1):(Object.keys(ne).length>0&&pe.updatedVariants.push({...N.props,...ne,variantItem:Ye,prevVariant:{...N.props}}),pe.variants.push({...N.props,...ne,variantItem:Ye}),t.cloneElement(N,ne))}))),typeof h=="function"&&h(ye(a,pe)),a.defaultPrevented||v()},o=t.useCallback(a=>{_.current.showAt(a.target)},[_]),D=f.getText(nt),le=f.getText(Et),re=f.getText(qt),q=f.getText(ke),se=f.getText(Mt),Le=f.getText(Rt),st=ve(p.container,g&&p.disabled,V),ot=ve(p.dirtyState,z!=="*"&&p.dirtyStateText),me=t.useRef();t.useEffect(()=>{me.current&&typeof P=="function"&&(P(ye(me.current,{selectedVariant:i})),me.current=void 0)},[i,P]),t.useEffect(()=>{const a=x.find(u=>t.isValidElement(u)&&u.props.children===(i==null?void 0:i.children));U((a==null?void 0:a.props.saveViewInputProps)??{})},[i,x]);const dt=a=>{K({...a.detail.selectedItems[0].dataset,variantItem:a.detail.selectedItems[0]}),me.current=a,s&&ie()},He=x.map(a=>{var u;return t.isValidElement(a)&&typeof((u=a.props)==null?void 0:u.children)=="string"?a.props.children:""}),[he,We]=t.useState(void 0);t.useEffect(()=>{w&&We(x.filter(a=>t.isValidElement(a)&&(a.props.favorite||a.props.isDefault))),!w&&(he==null?void 0:he.length)>0&&We(void 0)},[w,x]);const ue=he??x,ut=ue.length>10,[Ue,$e]=t.useState(void 0),[ze,ct]=t.useState(""),pt=a=>{ct(a.target.value),$e(ue.filter(u=>{var ce;return typeof((ce=u==null?void 0:u.props)==null?void 0:ce.children)=="string"&&u.props.children.toLowerCase().includes(a.target.value.toLowerCase())}))};t.useEffect(()=>{Ue&&$e(ue.filter(a=>{var u;return typeof((u=a==null?void 0:a.props)==null?void 0:u.children)=="string"&&a.props.children.toLowerCase().includes(ze)}))},[ue]);const mt=Oe(),fe=c&&!(i!=null&&i.readOnly);return e.jsx("div",{className:st,style:B,...Z,ref:M,children:e.jsxs(rt.Provider,{value:{selectVariantItem:K},children:[e.jsxs(Ve,{onClick:g?void 0:o,children:[e.jsx(Kt,{level:j,className:p.title,children:i==null?void 0:i.children}),c&&e.jsx("div",{className:ot,children:z})]}),e.jsx(X,{className:ve(p.navDownBtn,"ui5-content-density-compact"),tooltip:Le,accessibleName:Le,onClick:g?void 0:o,design:F.Transparent,icon:vt,disabled:g}),mt?Me.createPortal(e.jsx(Jt,{className:p.popover,ref:_,headerText:I,placementType:R,footer:(fe||!W||!L)&&e.jsx(Fe,{design:Be.Footer,className:p.footer,endContent:e.jsxs(e.Fragment,{children:[!n&&fe&&e.jsx(X,{onClick:A,design:F.Emphasized,children:q}),!n&&!W&&e.jsx(X,{onClick:S,design:fe?F.Transparent:F.Emphasized,disabled:!i||Object.keys(i).length===0,children:le}),!n&&!L&&e.jsx(X,{onClick:l,design:fe||!W?F.Transparent:F.Emphasized,children:re})]})}),onAfterClose:Pt,children:n?e.jsx(zt,{name:Qt.UnableToLoad}):e.jsx(Xt,{onSelectionChange:dt,mode:Zt.SingleSelect,header:ut?e.jsx("div",{className:p.searchInputContainer,tabIndex:-1,children:e.jsx(Se,{className:p.searchInput,accessibleName:se,value:ze,placeholder:D,onInput:pt,showClearIcon:!0,icon:e.jsx(we,{name:Xe,className:p.inputIcon})})}):void 0,children:Ue??ue})}),E??document.body):null,ee&&e.jsx(De,{onAfterClose:v,handleSaveManageViews:Q,showShare:!k,showApplyAutomatically:!O,showCreatedBy:!H,showSetAsDefault:!$,variantNames:He,portalContainer:E,showOnlyFavorites:w,children:x}),y&&e.jsx(Ne,{saveViewInputProps:ae,portalContainer:E,showShare:!k,showApplyAutomatically:!O,showSetAsDefault:!$,onAfterClose:m,handleSave:J,selectedVariant:i,variantNames:He})]})})});Ee.displayName="VariantManagement";try{Ee.displayName="VariantManagement",Ee.__docgenInfo={description:"The `VariantManagement` component can be used to manage variants, such as FilterBar variants or AnalyticalTable variants.",displayName:"VariantManagement",props:{children:{defaultValue:null,description:"Variant items displayed by the VariantManagement component.\n\n__Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `VariantItem` in order to preserve the intended design.",name:"children",required:!1,type:{name:"ReactNode | ReactNode[]"}},placement:{defaultValue:null,description:"Determines on which side the VariantManagement popover is placed at.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"Left"'},{value:'"Right"'},{value:'"Top"'},{value:'"Bottom"'},{value:'"Left"'},{value:'"Right"'},{value:'"Top"'},{value:'"Bottom"'}]}},titleText:{defaultValue:null,description:`Describes the title of the VariantManagement popover.

__Note:__ If not set, the default title is used.`,name:"titleText",required:!1,type:{name:"string"}},closeOnItemSelect:{defaultValue:null,description:"Defines whether the VariantManagement should be closed if an item was selected.",name:"closeOnItemSelect",required:!1,type:{name:"boolean"}},level:{defaultValue:null,description:"Describes the `HTML Title` level of the variants.",name:"level",required:!1,type:{name:"enum",value:[{value:'"H1"'},{value:'"H2"'},{value:'"H3"'},{value:'"H4"'},{value:'"H5"'},{value:'"H6"'},{value:'"H1"'},{value:'"H2"'},{value:'"H3"'},{value:'"H4"'},{value:'"H5"'},{value:'"H6"'}]}},disabled:{defaultValue:null,description:"Defines whether the VariantManagement is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},dirtyState:{defaultValue:null,description:"Indicator for modified but not saved variants.\n\n__Note:__ You can change the indicator by setting `dirtyStateText`.",name:"dirtyState",required:!1,type:{name:"boolean"}},dirtyStateText:{defaultValue:null,description:"Text for the dirty state indicator.",name:"dirtyStateText",required:!1,type:{name:"string"}},showOnlyFavorites:{defaultValue:null,description:"Indicates that the 'Favorites' feature is used. Only variants marked as favorites will be displayed in the variant list.\n\n__Note:__ Only if `showOnlyFavorites` is set to `true` favorites can be changed.",name:"showOnlyFavorites",required:!1,type:{name:"boolean"}},hideSetAsDefault:{defaultValue:null,description:"Indicates that set as default is visible in the Save View and the Manage Views dialogs.",name:"hideSetAsDefault",required:!1,type:{name:"boolean"}},hideShare:{defaultValue:null,description:"Indicates that the Public indicator is visible in the Save View and the Manage Views dialogs.",name:"hideShare",required:!1,type:{name:"boolean"}},hideApplyAutomatically:{defaultValue:null,description:"Indicates that Apply Automatically is visible in the Save View and the Manage Views dialogs.",name:"hideApplyAutomatically",required:!1,type:{name:"boolean"}},hideCreatedBy:{defaultValue:null,description:"Indicates that the Author is visible in the Manage Views dialog.",name:"hideCreatedBy",required:!1,type:{name:"boolean"}},hideSaveAs:{defaultValue:null,description:"Indicates that the Save View dialog button is visible.",name:"hideSaveAs",required:!1,type:{name:"boolean"}},hideManageVariants:{defaultValue:null,description:"Indicates that the Manage Views dialog button is visible.",name:"hideManageVariants",required:!1,type:{name:"boolean"}},inErrorState:{defaultValue:null,description:"Indicates that the control is in error state. If set to true error message will be displayed whenever the variant is opened.",name:"inErrorState",required:!1,type:{name:"boolean"}},portalContainer:{defaultValue:null,description:"Defines where modals are rendered into via `React.createPortal`.\n\nYou can find out more about this [here](https://sap.github.io/ui5-webcomponents-react/?path=/docs/knowledge-base-working-with-portals--page).\n\nDefaults to: `document.body`",name:"portalContainer",required:!1,type:{name:"Element"}},onSelect:{defaultValue:null,description:"Fired after a variant has been selected.\n\n__Note:__ This event inherits part of its details from the `onSelectionChange` event of the `List` component.",name:"onSelect",required:!1,type:{name:"(event: Ui5CustomEvent<ListDomRef, ListSelectionChangeEventDetail & { selectedVariant: SelectedVariant; }>) => void"}},onSaveAs:{defaultValue:null,description:'The event is fired when the "Save" button is clicked inside the Save View dialog.\n\n__Note:__ Calling `event.preventDefault()` prevents the dialog from closing when clicked.',name:"onSaveAs",required:!1,type:{name:"(e: MouseEvent<ButtonDomRef, MouseEvent> & { detail: SelectedVariant; }) => void"}},onSaveManageViews:{defaultValue:null,description:'The event is fired when the "Save" button is clicked inside the Manage Views dialog.\n\n__Note:__ Calling `event.preventDefault()` prevents the dialog from closing when clicked.',name:"onSaveManageViews",required:!1,type:{name:"(e: MouseEvent<ButtonDomRef, MouseEvent> & { detail: { deletedVariants: VariantItemPropTypes[]; prevVariants: VariantItemPropTypes[]; updatedVariants: UpdatedVariant[]; variants: SelectedVariant[]; }; }) => void"}},onSave:{defaultValue:null,description:'The event is fired when the "Save" button is clicked in the `VariantManagement` popover.\n\n__Note:__ The save button is only displayed if the `VariantManagement` is in `dirtyState` and the selected variant is not in `readOnly` mode.',name:"onSave",required:!1,type:{name:"(e: MouseEvent<ButtonDomRef, MouseEvent> & { detail: SelectedVariant; }) => void"}},style:{defaultValue:null,description:`Element style which will be appended to the most outer element of a component.
Use this prop carefully, some css properties might break the component.`,name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:`CSS Class Name which will be appended to the most outer element of a component.
Use this prop carefully, overwriting CSS rules might break the component.`,name:"className",required:!1,type:{name:"string"}}}}}catch{}const qe=t.forwardRef((r,M)=>{const{isDefault:f,author:I,favorite:V,global:B,labelReadOnly:R,applyAutomatically:j,applyAutomaticallyText:P,readOnly:s,selected:g,children:d,hideDelete:h}=r,{selectVariantItem:w}=t.useContext(rt),[n,k]=jt(M);t.useEffect(()=>{g&&w({...r,variantItem:k.current})},[g]);const{manageViewsInputProps:T,saveViewInputProps:L,...O}=r;return e.jsx(ea,{...O,ref:n,"data-is-default":f,"data-author":I,"data-favorite":V,"data-global":B,"data-label-read-only":R,"data-apply-automatically":j,"data-apply-automatically-text":P,"data-read-only":s,"data-children":d,"data-hide-delete":h})});qe.displayName="VariantItem";try{qe.displayName="VariantItem",qe.__docgenInfo={description:"The `VariantItem` describes a variant/view of the `VariantManagement` component.",displayName:"VariantItem",props:{children:{defaultValue:null,description:"The name of the variant.",name:"children",required:!0,type:{name:"string"}},author:{defaultValue:null,description:"Author of the variant.",name:"author",required:!1,type:{name:"string"}},favorite:{defaultValue:null,description:"Indicates if favorites can be created.\n\n__Note:__ Has no effect if `showOnlyFavorites` is falsy in the `VariantMangament`.",name:"favorite",required:!1,type:{name:"boolean"}},global:{defaultValue:null,description:"Indicator if a variant is visible for all users (public flag is set).",name:"global",required:!1,type:{name:"boolean"}},isDefault:{defaultValue:null,description:"Indicator if it's the default variant.",name:"isDefault",required:!1,type:{name:"boolean"}},labelReadOnly:{defaultValue:null,description:"Indicates if the variant title can be changed.",name:"labelReadOnly",required:!1,type:{name:"boolean"}},applyAutomatically:{defaultValue:null,description:"Indicates if the variant should be applied automatically on selection.",name:"applyAutomatically",required:!1,type:{name:"boolean"}},applyAutomaticallyText:{defaultValue:null,description:'Text displayed next to the "Apply Automatically" checkbox inside the "Manage Views" dialog.',name:"applyAutomaticallyText",required:!1,type:{name:"string"}},readOnly:{defaultValue:null,description:'If set to false, the user is allowed to change the item\'s data.\n\n__Note:__ When set to true, no "Save" button will be displayed for the `VariantItem` when the `VariantManagement` is in `dirtyState`.',name:"readOnly",required:!1,type:{name:"boolean"}},hideDelete:{defaultValue:null,description:"Indicates if the variant can be deleted.\n\n__Note:__ If not set, a delete button is shown for all variants except for variants with `global={true}`.",name:"hideDelete",required:!1,type:{name:"boolean"}},manageViewsInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Manage Views" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"manageViewsInputProps",required:!1,type:{name:'Omit<InputPropTypes, "value">'}},saveViewInputProps:{defaultValue:null,description:'Defines the props of the input rendered with the `VariantItem` inside the "Save View" dialog.\n\n__Note:__ It is possible to overwrite internally used props. Please use with caution!',name:"saveViewInputProps",required:!1,type:{name:'Omit<InputPropTypes, "id" | "value">'}},selected:{defaultValue:null,description:"Defines the selected state of the `ListItem`.",name:"selected",required:!1,type:{name:"boolean"}},accessibleName:{defaultValue:null,description:"Defines the text alternative of the component. Note: If not provided a default text alternative will be set, if present.",name:"accessibleName",required:!1,type:{name:"string"}}}}}catch{}export{qe as V,Ee as a};
//# sourceMappingURL=VariantItem-e5a6efd7.js.map
