import{b as H}from"./_baseForOwn-62af832b.js";import{u as Q,i as k,_ as U,g as tt,c as et,a as E}from"./ChartContainer-4ad43fd2.js";import{R as y,r as it}from"./index-f1f2c4b1.js";import{S as J,m as nt,a as C,L as K,n as rt,A as at,f as X,g as B,C as ot,b as st,G as lt,c as M,E as ct,h as pt}from"./generateCategoricalChart-53e96993.js";var $=function(){return null};$.displayName="ZAxis";$.defaultProps={zAxisId:0,range:[64,64],scale:"auto",type:"number"};var ut=["option","isActive"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},T.apply(this,arguments)}function ft(e,t){if(e==null)return{};var n=yt(e,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function yt(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,a;for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function mt(e){var t=e.option,n=e.isActive,i=ft(e,ut);return typeof t=="string"?y.createElement(J,T({option:y.createElement(nt,T({type:t},i)),isActive:n,shapeType:"symbols"},i)):y.createElement(J,T({option:t,isActive:n,shapeType:"symbols"},i))}function j(e){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(e)}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},D.apply(this,arguments)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(i){P(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Y(i.key),i)}}function vt(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},L(e,t)}function bt(e){var t=xt();return function(){var i=N(e),r;if(t){var a=N(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return At(this,r)}}function At(e,t){if(t&&(j(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}function z(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N(e)}function P(e,t,n){return t=Y(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e){var t=gt(e,"string");return j(t)==="symbol"?t:String(t)}function gt(e,t){if(j(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(j(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z=function(e){ht(n,e);var t=bt(n);function n(){var i;dt(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a)),P(z(i),"state",{isAnimationFinished:!1}),P(z(i),"handleAnimationEnd",function(){i.setState({isAnimationFinished:!0})}),P(z(i),"handleAnimationStart",function(){i.setState({isAnimationFinished:!1})}),P(z(i),"id",Q("recharts-scatter-")),i}return vt(n,[{key:"renderSymbolsStatically",value:function(r){var a=this,o=this.props,d=o.shape,x=o.activeShape,m=o.activeIndex,v=C(this.props);return r.map(function(p,s){var c=m===s,u=c?x:d,f=A(A({key:"symbol-".concat(s)},v),p);return y.createElement(K,D({className:"recharts-scatter-symbol"},rt(a.props,p,s),{key:"symbol-".concat(s),role:"img"}),y.createElement(mt,D({option:u,isActive:c},f)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,a=this.props,o=a.points,d=a.isAnimationActive,x=a.animationBegin,m=a.animationDuration,v=a.animationEasing,p=a.animationId,s=this.state.prevPoints;return y.createElement(at,{begin:x,duration:m,isActive:d,easing:v,from:{t:0},to:{t:1},key:"pie-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(c){var u=c.t,f=o.map(function(b,S){var g=s&&s[S];if(g){var l=k(g.cx,b.cx),h=k(g.cy,b.cy),O=k(g.size,b.size);return A(A({},b),{},{cx:l(u),cy:h(u),size:O(u)})}var w=k(0,b.size);return A(A({},b),{},{size:w(u)})});return y.createElement(K,null,r.renderSymbolsStatically(f))})}},{key:"renderSymbols",value:function(){var r=this.props,a=r.points,o=r.isAnimationActive,d=this.state.prevPoints;return o&&a&&a.length&&(!d||!U(d,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,d=a.xAxis,x=a.yAxis,m=a.children,v=X(m,ct);return v?v.map(function(p,s){var c=p.props.direction;return y.cloneElement(p,{key:s,data:o,xAxis:d,yAxis:x,layout:c==="x"?"vertical":"horizontal",dataPointFormatter:function(f,b){return{x:f.cx,y:f.cy,value:c==="x"?+f.node.x:+f.node.y,errorVal:B(f,b)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,a=r.points,o=r.line,d=r.lineType,x=r.lineJointType,m=C(this.props),v=C(o),p,s;if(d==="joint")p=a.map(function(h){return{x:h.cx,y:h.cy}});else if(d==="fitting"){var c=tt(a),u=c.xmin,f=c.xmax,b=c.a,S=c.b,g=function(O){return b*O+S};p=[{x:u,y:g(u)},{x:f,y:g(f)}]}var l=A(A(A({},m),{},{fill:"none",stroke:m&&m.fill},v),{},{points:p});return y.isValidElement(o)?s=y.cloneElement(o,l):H(o)?s=o(l):s=y.createElement(ot,D({},l,{type:x})),y.createElement(K,{className:"recharts-scatter-line",key:"recharts-scatter-line"},s)}},{key:"render",value:function(){var r=this.props,a=r.hide,o=r.points,d=r.line,x=r.className,m=r.xAxis,v=r.yAxis,p=r.left,s=r.top,c=r.width,u=r.height,f=r.id,b=r.isAnimationActive;if(a||!o||!o.length)return null;var S=this.state.isAnimationFinished,g=et("recharts-scatter",x),l=m&&m.allowDataOverflow,h=v&&v.allowDataOverflow,O=l||h,w=E(f)?this.id:f;return y.createElement(K,{className:g,clipPath:O?"url(#clipPath-".concat(w,")"):null},l||h?y.createElement("defs",null,y.createElement("clipPath",{id:"clipPath-".concat(w)},y.createElement("rect",{x:l?p:p-c/2,y:h?s:s-u/2,width:l?c:c*2,height:h?u:u*2}))):null,d&&this.renderLine(),this.renderErrorBar(),y.createElement(K,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||S)&&st.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}}]),n}(it.PureComponent);P(Z,"displayName","Scatter");P(Z,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!lt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});P(Z,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,i=e.zAxis,r=e.item,a=e.displayedData,o=e.xAxisTicks,d=e.yAxisTicks,x=e.offset,m=r.props.tooltipType,v=X(r.props.children,pt),p=E(t.dataKey)?r.props.dataKey:t.dataKey,s=E(n.dataKey)?r.props.dataKey:n.dataKey,c=i&&i.dataKey,u=i?i.range:$.defaultProps.range,f=u&&u[0],b=t.scale.bandwidth?t.scale.bandwidth():0,S=n.scale.bandwidth?n.scale.bandwidth():0,g=a.map(function(l,h){var O=B(l,p),w=B(l,s),_=!E(c)&&B(l,c)||"-",W=[{name:E(t.dataKey)?r.props.name:t.name||t.dataKey,unit:t.unit||"",value:O,payload:l,dataKey:p,type:m},{name:E(n.dataKey)?r.props.name:n.name||n.dataKey,unit:n.unit||"",value:w,payload:l,dataKey:s,type:m}];_!=="-"&&W.push({name:i.name||i.dataKey,unit:i.unit||"",value:_,payload:l,dataKey:c,type:m});var F=M({axis:t,ticks:o,bandSize:b,entry:l,index:h,dataKey:p}),R=M({axis:n,ticks:d,bandSize:S,entry:l,index:h,dataKey:s}),q=_!=="-"?i.scale(_):f,I=Math.sqrt(Math.max(q,0)/Math.PI);return A(A({},l),{},{cx:F,cy:R,x:F-I,y:R-I,xAxis:t,yAxis:n,zAxis:i,width:2*I,height:2*I,size:q,node:{x:O,y:w,z:_},tooltipPayload:W,tooltipPosition:{x:F,y:R},payload:l},v&&v[h]&&v[h].props)});return A({points:g},x)});export{Z as S,$ as Z};
//# sourceMappingURL=Scatter-9284d4ce.js.map
