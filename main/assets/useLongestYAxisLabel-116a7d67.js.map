{"version":3,"file":"useLongestYAxisLabel-116a7d67.js","sources":["../../packages/charts/src/hooks/useLongestYAxisLabel.ts"],"sourcesContent":["import { useMemo } from 'react';\nimport { getValueByDataKey } from 'recharts/lib/util/ChartUtils.js';\nimport { defaultMaxYAxisWidth } from '../internal/defaults.js';\nimport { getTextWidth } from '../internal/Utils.js';\n\nexport const useLongestYAxisLabel = (dataset: unknown[], elements, legendPosition: string): [number, object] =>\n  useMemo(() => {\n    let labelLength = 0;\n    const primaryElement = elements[0];\n\n    if (dataset instanceof Array && primaryElement) {\n      const resolveAllMeasureLabels = (item): string[] => {\n        return elements.map((elementConfig) =>\n          primaryElement.formatter(getValueByDataKey(item, elementConfig.accessor, ''))\n        );\n      };\n      labelLength = Math.max(...dataset.map(resolveAllMeasureLabels).flat().map(getTextWidth));\n      labelLength += 8;\n    }\n\n    labelLength = Math.min(labelLength, defaultMaxYAxisWidth);\n\n    if (legendPosition === 'middle') {\n      return [labelLength, { width: 'auto' }];\n    }\n\n    return [labelLength, { marginLeft: labelLength, maxWidth: `calc(100% - ${labelLength + 10}px)` }];\n  }, [dataset, elements]);\n"],"names":["useLongestYAxisLabel","dataset","elements","legendPosition","useMemo","labelLength","primaryElement","resolveAllMeasureLabels","item","elementConfig","getValueByDataKey","getTextWidth","defaultMaxYAxisWidth"],"mappings":"gJAKO,MAAMA,EAAuB,CAACC,EAAoBC,EAAUC,IACjEC,UAAQ,IAAM,CACZ,IAAIC,EAAc,EACZ,MAAAC,EAAiBJ,EAAS,CAAC,EAE7B,GAAAD,aAAmB,OAASK,EAAgB,CACxC,MAAAC,EAA2BC,GACxBN,EAAS,IAAKO,GACnBH,EAAe,UAAUI,EAAkBF,EAAMC,EAAc,SAAU,EAAE,CAAC,CAAA,EAGlEJ,EAAA,KAAK,IAAI,GAAGJ,EAAQ,IAAIM,CAAuB,EAAE,KAAK,EAAE,IAAII,CAAY,CAAC,EACxEN,GAAA,CACjB,CAIA,OAFcA,EAAA,KAAK,IAAIA,EAAaO,CAAoB,EAEpDT,IAAmB,SACd,CAACE,EAAa,CAAE,MAAO,MAAQ,CAAA,EAGjC,CAACA,EAAa,CAAE,WAAYA,EAAa,SAAU,eAAeA,EAAc,EAAE,KAAO,CAAA,CAClG,EAAG,CAACJ,EAASC,CAAQ,CAAC"}