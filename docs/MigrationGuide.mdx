import { Footer, TableOfContent } from '@sb/components';
import { Meta } from '@storybook/blocks';

<Meta title="Migration Guide" />

# Migration Guide (v1 to v2)

_The most important breaking changes of the corresponding releases are outlined here.
For a full list of all changes, please refer to [the list of releases](https://github.com/SAP/ui5-webcomponents-react/releases)
or the [changelog](?path=/docs/change-log--page)._

> **Older releases**  
> This migration guide only covers breaking changes when updating from v1 to v2.
> For migration guides for older releases, please refer to our [Migration Guide Archive](https://github.com/SAP/ui5-webcomponents-react/blob/main/docs/MigrationGuide.archive.md).

<br />

<TableOfContent headingSelector="h2" />

## General changes

### Removed `react-jss`

UI5 Web Components for React is no longer relying on `react-jss` internally, hence the dependency is now removed and the `react-jss` ThemeProvider is no longer rendered as part of our `ThemeProvider`.
If you are relying on `react-jss` in your application, please make sure to render your own `react-jss` ThemeProvider:

```tsx
import { ThemeProvider } from '@ui5/webcomponents-react';
import { ThemingParameters } from '@ui5/webcomponents-react-base';
import { ThemeProvider as ReactJssThemeProvider } from 'react-jss';

function MyRootComponent() {
  return (
    <ThemeProvider>
      <ReactJssThemeProvider theme={ThemingParameters}>{/* your app content goes here */}</ReactJssThemeProvider>
    </ThemeProvider>
  );
}
```

## Removed hooks

### `useResponsiveContentPadding`

The `useResponsiveContentPadding` hook has been removed.
You can now apply responsive content paddings by applying the `sap-content-paddings-container` class from `@sap-ui/common-css` package to your element.
You can find a more detailed documentation [here](https://sap.github.io/ui5-webcomponents-react/main/?path=/docs/knowledge-base-common-css--docs#content-paddings).

## Replaced Components

### AnalyticalCard

The deprecated `AnalyticalCard` component has been replaced with the `Card` web component as a drop-in replacement:

```tsx
// v1
import { AnalyticalCard, AnalyticalCardHeader } from '@ui5/webcomponents-react';

function MyComponent() {
  return (
    <AnalyticalCard header={<AnalyticalCardHeader />}>
      <span>My Content</span>
    </AnalyticalCard>
  );
}

// v2
import { AnalyticalCardHeader, Card } from '@ui5/webcomponents-react';

function MyComponent() {
  return (
    <Card header={<AnalyticalCardHeader />}>
      <span>My Content</span>
    </Card>
  );
}
```

### Form

The `Form` component has been replaced with the `ui5-form` Web Component.
You can use the new `Form` component as a feature complete replacement of the old Form component with the important differences to mention:

1. You can't mix `FormGroup`s and `FormItem`s as children of the Form. Either only use `FormItem`s or only `FormGroup`s with `FormItem`s inside.
2. Additional HTML elements between `Form / FormGroup / FormItem` are not allowed. You can still use custom React components if they render a `FormGroup` or `FormItem` as most outer element (or a fragment).

```tsx
// v1
import { Form, FormGroup, FormItem } from '@ui5/webcomponents-react';

function MyComponent() {
  return (
    <Form
      backgroundDesign="Solid"
      titleText="My Form"
      labelSpanS={1}
      labelSpanM={2}
      labelSpanL={3}
      labelSpanXL={4}
      columnsS={1}
      columnsM={2}
      columnsL={3}
      columnsXL={4}
      as={'form'}
    >
      <FormGroup titleText="My Form Group" as="h5">
        <FormItem label={'MyLabel'}>{/* FormItem Content */}</FormItem>
      </FormGroup>
    </Form>
  );
}

// v2
import { Form, FormGroup, FormItem, Label } from '@ui5/webcomponents-react';

function MyComponent() {
  return (
    // `backgroundDesign` and `as` have been removed without replacement
    <Form
      // `titleText` has been renamed to `headerText`
      headerText="My Form"
      // the `columnsX` props have been merged into the `layout` string
      layout="S1 M2 L3 XL4"
      // the `labelSpanX` props have been merged into the `labelSpan` string
      labelSpan="S1 M2 L3 XL4"
    >
      {/* `titleText` has been renamed to `headerText`, `as` has been removed */}
      <FormGroup headerText="My Form Group">
        {/* the `label` prop has been renamed to a `labelContent` slot.
             It doesn't support strings anymore, it's recommended to use the `Label` component in this slot. */}
        <FormItem labelContent={<Label>MyLabel</Label>}>{/* FormItem Content */}</FormItem>
      </FormGroup>
    </Form>
  );
}
```

<Footer />
