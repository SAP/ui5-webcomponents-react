import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { DatePicker } from '@ui5/webcomponents-react/dist/DatePicker';
import { CalendarType } from '@ui5/webcomponents-react/dist/CalendarType';
import '@ui5/webcomponents-localization/dist/features/calendar/Gregorian.js';
import '@ui5/webcomponents-localization/dist/features/calendar/Buddhist.js';
import '@ui5/webcomponents-localization/dist/features/calendar/Islamic.js';
import '@ui5/webcomponents-localization/dist/features/calendar/Japanese.js';
import '@ui5/webcomponents-localization/dist/features/calendar/Persian.js';
import { ValueState } from '@ui5/webcomponents-react/dist/ValueState';
import { CSSProperties, Ref } from 'react';
import { DocsHeader } from '@docs/DocsHeader';
import { Footer } from '@docs/Footer';

<Meta
  title="Inputs / DatePicker"
  component={DatePicker}
  argTypes={{
    valueStateMessage: { control: { disable: true } }
  }}
  args={{
    primaryCalendarType: CalendarType.Gregorian,
    valueState: ValueState.None,
    style: {},
    className: '',
    tooltip: '',
    slot: '',
    ref: null
  }}
/>

<DocsHeader />

<br />

## Example

<Canvas>
  <Story name="Default">
    {(args) => {
      return <DatePicker {...args} />;
    }}
  </Story>
</Canvas>

## Properties

<ArgsTable story="." />

## Methods

This component exposes public methods. You can invoke them directly on the instance of the component, e.g. by using React Refs.

| Name               | Parameters                                                                                                                                                         | Description                                                                                                                                                |
| ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **closePicker**    | &mdash;                                                                                                                                                            | Closes the picker.                                                                                                                                         |
| **formatValue**    | <dl><dt className="methodText">**oDate**</dt><dd className="methodText">A Java Script date object to be formatted as string</dd><dd><code>object</code></dd></dl>  | Formats a Java Script date object into a string representing a locale date according to the <code>formatPattern</code> property of the DatePicker instance |
| **isInValidRange** | <dl><dt className="methodText">**value**</dt><dd><code>object</code></dd></dl>                                                                                     | Checks if a date is in range between minimum and maximum date.                                                                                             |
| **isOpen**         | &mdash;                                                                                                                                                            | Checks if the picker is open.                                                                                                                              |
| **isValid**        | <dl><dt className="methodText">**value**</dt><dd className="methodText">A value to be tested against the current date format</dd><dd><code>string</code></dd></dl> | Checks if a value is valid against the current date format of the DatePicker.                                                                              |
| **openPicker**     | &mdash;                                                                                                                                                            | Opens the picker.                                                                                                                                          |

## Usage

The user can enter a date by:

- Using the calendar that opens in a popup
- Typing it in directly in the input field

When the user makes an entry and chooses the enter key, the calendar shows the corresponding date. When the user directly triggers the calendar display, the actual date is displayed.

## Formatting

If a date is entered by typing it into the input field, it must fit to the used date format.

Supported format options are pattern-based on Unicode LDML Date Format notation. For more information, see <ui5-link target="_blank" href="http://unicode.org/reports/tr35/#Date_Field_Symbol_Table" class="api-table-content-cell-link">UTS #35: Unicode Locale Data Markup Language</ui5-link>.

For example, if the `format-pattern` is "yyyy-MM-dd", a valid value string is "2015-07-30" and the same is displayed in the input.

## Keyboard Handling

The `DatePicker` provides advanced keyboard handling. If the `DatePicker` is focused, you can open or close the drop-down by pressing `F4`, `ALT+UP` or `ALT+DOWN` keys. Once the drop-down is opened, you can use the `UP`, `DOWN`, `LEFT`, `RIGHT` arrow keys to navigate through the dates and select one by pressing the `Space` or `Enter` keys. Moreover you can use TAB to reach the buttons for changing month and year.  
If the `DatePicker` is focused and the picker dialog is not opened the user can increment or decrement the corresponding field of the JS date object referenced by `dateValue` propery by using the following shortcuts:

- \[PAGEDOWN\] - Decrements the corresponding day of the month by one
- \[SHIFT\] + \[PAGEDOWN\] - Decrements the corresponding month by one
- \[SHIFT\] + \[CTRL\] + \[PAGEDOWN\] - Decrements the corresponding year by one
- \[PAGEUP\] - Increments the corresponding day of the month by one
- \[SHIFT\] + \[PAGEUP\] - Increments the corresponding month by one
- \[SHIFT\] + \[CTRL\] + \[PAGEUP\] - Increments the corresponding year by one

<Footer />
