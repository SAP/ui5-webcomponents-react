import { ArgTypesWithNote, ControlsWithNote, DocsHeader, Footer } from '@sb/components';
import { Canvas, Description, Markdown, Meta } from '@storybook/blocks';
import * as ComponentStories from './Menu.stories';
import { MenuItem } from '../MenuItem';
import SubcomponentsSection from '@sb/docs/SubcomponentsSection.md?raw';
import { excludePropsForAbstract } from '@sb/utils';

<Meta of={ComponentStories} />

<DocsHeader since="0.23.0" />

## Example

<Canvas of={ComponentStories.Default} />

## Properties

<ControlsWithNote of={ComponentStories.Default} />

## Opening Menus

You can open and close the `Menu` component in a declarative way using the `open` and `opener` prop.

```jsx
const MyComponentWithMenu = () => {
  const buttonRef = useRef(null);
  const [menuIsOpen, setMenuIsOpen] = useState(false);
  return (
    <>
      <Button
        ref={buttonRef}
        onClick={() => {
          setMenuIsOpen(true);
        }}
      >
        Open Action Sheet
      </Button>
      <Menu
        opener={buttonRef.current}
        open={menuIsOpen}
        onClose={() => {
          setMenuIsOpen(false);
        }}
      />
    </>
  );
};
```

## More examples

### Menu with Submenu

<Canvas of={ComponentStories.WithSubMenu} />

<Markdown>{SubcomponentsSection}</Markdown>

## MenuItem

<Description of={MenuItem} />
<ArgTypesWithNote hideHTMLPropsNote exclude={excludePropsForAbstract} of={MenuItem} />

<Footer />
