import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { Button } from '../Button';
import { ColorPalettePopover } from './index';
import { ColorPaletteItem } from '../ColorPaletteItem';
import { DocsHeader } from '@docs/DocsHeader';
import { Footer } from '@docs/Footer';
import { useRef } from 'react';
import '@ui5/webcomponents/dist/features/ColorPaletteMoreColors.js';

<Meta
  title="Modals & Popovers / ColorPalettePopover"
  component={ColorPalettePopover}
  subcomponents={{ ColorPaletteItem }}
  argTypes={{
    children: { control: { disable: true } },
    defaultColor: { control: { type: 'color' } }
  }}
/>

<DocsHeader />

<br />

## Example

<Canvas>
  <Story name="Default">
    {(args) => {
      const popoverRef = useRef(null);
      const onButtonClick = (e) => {
        popoverRef.current.showAt(e.target);
      };
      return (
        <>
          <Button onClick={onButtonClick}>Open Popover</Button>
          <ColorPalettePopover {...args} ref={popoverRef}>
            <ColorPaletteItem value="pink" />
            <ColorPaletteItem value="darkblue" />
            <ColorPaletteItem value="#444444" />
            <ColorPaletteItem value="rgb(0,200,0)" />
            <ColorPaletteItem value="green" />
            <ColorPaletteItem value="darkred" />
            <ColorPaletteItem value="yellow" />
            <ColorPaletteItem value="blue" />
            <ColorPaletteItem value="cyan" />
            <ColorPaletteItem value="orange" />
            <ColorPaletteItem value="#5480e7" />
            <ColorPaletteItem value="#ff6699" />
          </ColorPalettePopover>
        </>
      );
    }}
  </Story>
</Canvas>

## Properties

<ArgsTable story="." />

## Usage

The palette is intended for users, who don't want to check and remember the different values of the colors and spend large amount of time to configure the right color through the color picker. For the `ColorPalettePopover`

## Methods

This component exposes public methods. You can invoke them directly on the instance of the component, e.g. by using React Refs.

| Name            | Parameters                                                                                                                                                    | Description                                                                                                                          |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| **openPopover** | <dl><dt className="methodText">**opener**</dt><dd className="methodText">the element that the popover is opened by</dd><dd><code>HTMLElement</code></dd></dl> | Shows the ColorPalettePopover. <b>Note:</b> The method is deprecated and will be removed in future, use <code>showAt</code> instead. |
| **showAt**      | <dl><dt className="methodText">**opener**</dt><dd className="methodText">the element that the popover is opened by</dd><dd><code>HTMLElement</code></dd></dl> | Shows the ColorPalettePopover.                                                                                                       |

<Footer />
