import { ControlsWithNote, DocsHeader, Footer } from '@sb/components';
import SubcomponentsSection from '@sb/docs/SubcomponentsSection.md?raw';
import { ArgTypes, Canvas, Description, Markdown, Meta } from '@storybook/blocks';
import { TableCell } from '../TableCell';
import { TableHeaderRow } from '../TableHeaderRow';
import { TableHeaderCell } from '../TableHeaderCell';
import { TableRow } from '../TableRow';
import { TableGrowing } from '../TableGrowing';
import { TableSelection } from '../TableSelection';
import * as ComponentStories from './Table.stories';

<Meta of={ComponentStories} />

<DocsHeader />

<br />

## Example

<Canvas of={ComponentStories.Default} />

## Properties

<ControlsWithNote of={ComponentStories.Default} />

<br />

# More Examples

<br />

## Growing Table

`Table` with `growing={TableGrowingMode.Scroll}`.

<Canvas of={ComponentStories.GrowingTable} />

### Code

```jsx
const createRows = (indexOffset) => {
  return new Array(25).fill('').map((_, index) => (
    <TableRow key={`${index + indexOffset} - row`}>
      <TableCell>
        <Label>{index + indexOffset}</Label>
      </TableCell>
      <TableCell>
        <Label>Placeholder</Label>
      </TableCell>
    </TableRow>
  ));
};

const GrowingTable = () => {
  const [rows, setRows] = useState(createRows(1));
  const onLoadMore = () => {
    setRows((prev) => [...prev, ...createRows(prev.length + 1)]);
  };
  return (
    <div style={{ height: '250px', overflow: 'auto' }}>
      <Table
        onLoadMore={onLoadMore}
        growing={TableGrowingMode.Scroll}
        headerRow={
          <TableHeaderRow>
            <TableHeaderCell>
              <Label>Column 1</Label>
            </TableHeaderCell>
            <TableHeaderCell>
              <Label>Column 2</Label>
            </TableHeaderCell>
          </>
        }
      >
        {rows}
      </Table>
    </div>
  );
};
```

<Markdown>{SubcomponentsSection}</Markdown>

## TableHeaderRow

<Description of={TableHeaderRow} />
<ArgTypes of={TableHeaderRow} />

## TableHeaderCell

<Description of={TableHeaderCell} />
<ArgTypes of={TableHeaderCell} />

## TableRow

<Description of={TableRow} />
<ArgTypes of={TableRow} />

## TableCell

<Description of={TableCell} />
<ArgTypes of={TableCell} />

## TableGrowing

<Description of={TableGrowing} />
<ArgTypes of={TableGrowing} />

## TableSelection

<Description of={TableSelection} />
<ArgTypes of={TableSelection} />

<Footer />
