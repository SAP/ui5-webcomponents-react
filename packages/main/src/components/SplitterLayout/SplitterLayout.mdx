import { ArgTypesWithNote, ControlsWithNote, DocsHeader, Footer } from '@sb/components';
import { Canvas, Description, Markdown, Meta } from '@storybook/blocks';
import * as ComponentStories from './SplitterLayout.stories';
import SubcomponentsSection from '@sb/docs/SubcomponentsSection.md?raw';
import { SplitterElement } from '../SplitterElement';

<Meta of={ComponentStories} />

<DocsHeader />

## Example

<Canvas of={ComponentStories.Default} />

## Properties

<ControlsWithNote of={ComponentStories.Default} />

### SplitterLayoutOptions

| Property                  | Type                   | Description                                                                                              |
| ------------------------- | ---------------------- | -------------------------------------------------------------------------------------------------------- |
| `resetOnSizeChange`       | `boolean`              | Defines whether the `SplitterLayout` should be reset when its size changes depending on the orientation. |
| `resetOnChildrenChange`   | `boolean`              | Defines whether the `SplitterLayout` should be reset when its `children` change.                         |
| `resetOnCustomDepsChange` | `React.DependencyList` | Defines a list of dependencies that trigger a reset of the `SplitterLayout` when they are changed.       |

## SplitterLayout with non-resizable areas & areas with min-width

<Canvas of={ComponentStories.LimitedAreas} sourceState="none" />

<details>

<summary>Show Code</summary>

```tsx
function SplitterElementContent({ text, background = 'transparent' }) {
  return (
    <FlexBox style={{ height: '100%', width: '100%', background }} alignItems="Center" justifyContent="Center">
      <Text>{text}</Text>
    </FlexBox>
  );
}

function SplitterLayoutComponent(props) {
  return (
    <SplitterLayout {...props}>
      <SplitterElement size="10%">
        <SplitterElementContent text="Content 1 - (size: 10%)" background="cadetblue" />
      </SplitterElement>
      <SplitterElement>
        <SplitterElementContent text="Content 2" background="skyblue" />
      </SplitterElement>
      <SplitterElement minSize={200}>
        <SplitterElementContent text="Content 3 (minSize: 200)" background="lightblue" />
      </SplitterElement>
      <SplitterElement>
        <SplitterElementContent text="Content 4" background="paleturquoise" />
      </SplitterElement>
      <SplitterElement>
        <SplitterElementContent text="Content 5" background="lightskyblue" />
      </SplitterElement>
      <SplitterElement resizable={false} size="150px">
        <SplitterElementContent text="Content 6 (not resizable - size: 150px)" background="powderblue" />
      </SplitterElement>
      <SplitterElement>
        <SplitterElementContent text="Content 7" background="aliceblue" />
      </SplitterElement>
      <SplitterElement>
        <SplitterElementContent text="Content 8" background="lightsteelblue" />
      </SplitterElement>
    </SplitterLayout>
  );
}
```

</details>

## Nested SplitterLayouts

<Canvas of={ComponentStories.Nested} />

<Markdown>{SubcomponentsSection}</Markdown>

## SplitterElement

<Description of={SplitterElement} />

<ArgTypesWithNote of={SplitterElement} />

<Footer />
