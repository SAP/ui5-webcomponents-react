import { DocsHeader } from '@docs/DocsHeader';
import { Footer } from '@docs/Footer';
import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { MessageBoxTypes } from '../../enums';
import { Button, Dialog, Panel, Popover, ResponsivePopover, Toast } from '../../webComponents';
import { MessageBox } from '../MessageBox';
import { Modals } from './index';

<Meta title="User Feedback / Modals" component={Modals} />

<DocsHeader since="0.22.2" />

<br />

## Dialog

<Canvas>
  <Story name="Dialog">
    {() => {
      return (
        <Button
          onClick={() => {
            const { close } = Modals.showDialog({
              headerText: 'Dialog Title',
              children: "I'm a Dialog!",
              footer: <Button onClick={() => close()}>Close</Button>
            });
          }}
        >
          Show Dialog
        </Button>
      );
    }}
  </Story>
</Canvas>

#### Usage

```typescript
import { Modals } from '@ui5/webcomponents-react';

const { ref, close } = Modals.showDialog(props, container);
```

**Parameters**

| Parameter     | Description                                                                                      |
| ------------- | ------------------------------------------------------------------------------------------------ |
| `props`       | All supported `Dialog` props (see table below). Open will always be set to `true`.               |
| _`container`_ | Optional container where the `Dialog` should be mounted. Defaults to a div appended to the body. |

**Return Value**

The `showDialog` method returns an object with the following properties:

| Property  | Description                                                            |
| --------- | ---------------------------------------------------------------------- |
| `ref`     | React `RefObject` which can be used to get interact with the `Dialog`. |
| `close()` | Convenience Method for closing the `Dialog`.                           |

<Panel header={<h4 className="noMargin">Dialog Props</h4>} collapsed>
  <ArgsTable components={{ Dialog }} exclude={['open', 'ref']} />
</Panel>

## Popover

<Canvas>
  <Story name="Popover">
    {() => {
      return (
        <Button
          id="modals-show-popover"
          onClick={() => {
            Modals.showPopover({
              opener: 'modals-show-popover',
              headerText: 'Popover Title',
              children: "I'm a Popover!"
            });
          }}
        >
          Show Popover
        </Button>
      );
    }}
  </Story>
</Canvas>

#### Usage

```typescript
import { Modals } from '@ui5/webcomponents-react';

const { ref, close } = Modals.showPopover(props, container);
```

**Parameters**

| Parameter     | Description                                                                                       |
| ------------- | ------------------------------------------------------------------------------------------------- |
| `props`       | All supported `Popover` props (see table below). Open will always be set to `true`.               |
| _`container`_ | Optional container where the `Popover` should be mounted. Defaults to a div appended to the body. |

**Return Value**

The `showPopover` method returns an object with the following properties:

| Property  | Description                                                             |
| --------- | ----------------------------------------------------------------------- |
| `ref`     | React `RefObject` which can be used to get interact with the `Popover`. |
| `close()` | Convenience Method for closing the `Popover`.                           |

<Panel header={<h4 className="noMargin">Popover Props</h4>} collapsed>
  <ArgsTable components={{ Popover }} exclude={['open', 'ref']} />
</Panel>

## ResponsivePopover

<Canvas>
  <Story name="ResponsivePopover">
    {() => {
      return (
        <Button
          id="modals-show-responsive-popover"
          onClick={() => {
            Modals.showResponsivePopover({
              opener: 'modals-show-responsive-popover',
              headerText: 'Responsive Popover Title',
              children: "I'm a Responsive Popover!"
            });
          }}
        >
          Show ResponsivePopover
        </Button>
      );
    }}
  </Story>
</Canvas>

#### Usage

```typescript
import { Modals } from '@ui5/webcomponents-react';

const { ref, close } = Modals.showResponsivePopover(props, container);
```

**Parameters**

| Parameter     | Description                                                                                                 |
| ------------- | ----------------------------------------------------------------------------------------------------------- |
| `props`       | All supported `ResponsivePopover` props (see table below). Open will always be set to `true`.               |
| _`container`_ | Optional container where the `ResponsivePopover` should be mounted. Defaults to a div appended to the body. |

**Return Value**

The `showResponsivePopover` method returns an object with the following properties:

| Property  | Description                                                                       |
| --------- | --------------------------------------------------------------------------------- |
| `ref`     | React `RefObject` which can be used to get interact with the `ResponsivePopover`. |
| `close()` | Convenience Method for closing the `ResponsivePopover`.                           |

<Panel header={<h4 className="noMargin">ResponsivePopover Props</h4>} collapsed>
  <ArgsTable components={{ ResponsivePopover }} exclude={['open', 'ref']} />
</Panel>

## MessageBox

<Canvas>
  <Story name="MessageBox">
    {() => {
      return (
        <Button
          onClick={() => {
            Modals.showMessageBox({
              type: MessageBoxTypes.Confirm,
              children: 'Can you see this MessageBox?'
            });
          }}
        >
          Show MessageBox
        </Button>
      );
    }}
  </Story>
</Canvas>

#### Usage

```typescript
import { Modals } from '@ui5/webcomponents-react';

const { ref, close } = Modals.showMessageBox(props, container);
```

**Parameters**

| Parameter     | Description                                                                                          |
| ------------- | ---------------------------------------------------------------------------------------------------- |
| `props`       | All supported `MessageBox` props (see table below). Open will always be set to `true`.               |
| _`container`_ | Optional container where the `MessageBox` should be mounted. Defaults to a div appended to the body. |

**Return Value**

The `showMessageBox` method returns an object with the following properties:

| Property  | Description                                                                |
| --------- | -------------------------------------------------------------------------- |
| `ref`     | React `RefObject` which can be used to get interact with the `MessageBox`. |
| `close()` | Convenience Method for closing the `MessageBox`.                           |

<Panel header={<h4 className="noMargin">MessageBox Props</h4>} collapsed>
  <ArgsTable components={{ MessageBox }} exclude={['open', 'ref']} />
</Panel>

## Toast

<Canvas>
  <Story name="Toast">
    {() => {
      return (
        <Button
          onClick={() => {
            Modals.showToast({
              children: "I'm a Message Toast!"
            });
          }}
        >
          Show Toast
        </Button>
      );
    }}
  </Story>
</Canvas>

#### Usage

```typescript
import { Modals } from '@ui5/webcomponents-react';

const { ref } = Modals.showToast(props, container);
```

**Parameters**

| Parameter     | Description                                                                                     |
| ------------- | ----------------------------------------------------------------------------------------------- |
| `props`       | All supported `Toast` props (see table below).                                                  |
| _`container`_ | Optional container where the `Toast` should be mounted. Defaults to a div appended to the body. |

**Return Value**

The `showToast` method returns an object with the following properties:

| Property | Description                                                           |
| -------- | --------------------------------------------------------------------- |
| `ref`    | React `RefObject` which can be used to get interact with the `Toast`. |

<Panel header={<h4 className="noMargin">Toast Props</h4>} collapsed>
  <ArgsTable components={{ Toast }} exclude={['ref']} />
</Panel>

<br />

<Footer />
