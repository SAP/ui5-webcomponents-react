import { ArgTypesWithNote, ControlsWithNote, DocsHeader, Footer } from '@sb/components';
import { Canvas, Description, Markdown, Meta } from '@storybook/blocks';
import * as ComponentStories from './DynamicPage.stories';
import SubcomponentsSection from '@sb/docs/SubcomponentsSection.md?raw';
import { DynamicPageTitle } from '../DynamicPageTitle';
import { DynamicPageHeader } from '../DynamicPageHeader';

<Meta of={ComponentStories} />

<DocsHeader />

## Example

<Canvas of={ComponentStories.Default} />

## Properties

<ControlsWithNote of={ComponentStories.Default} />

# More Examples

## Always show Header Content

<Canvas of={ComponentStories.AlwaysShowHeaderContent} />

## Variant Management as Title

**Note:** To prevent the `click` event of the `VariantManagement` component from bubbling up and collapsing/expanding the `DynamicPageHeader`, please call `event.stopPropagation()` inside the `onClick` callback of the `VariantManagement`.

<Canvas of={ComponentStories.WithVariants} />

## With floating footer

<Canvas of={ComponentStories.WithFloatingFooter} />

## DynamicPage with custom actions and navigationActions overflow button

The `DynamicPageTitle` offers two props (`actionsToolbarProps` and `navigationActionsToolbarProps`) to configure the props of the `actions` and `navigationActions` toolbars.
With these objects it's possible to e.g. configure the overflow button displayed within each toolbar by setting the `overflowButton` prop.
`navigationActionsToolbarProps` only has an effect, if the `navigationActions` toolbar is used. (width < 1280px)

<Canvas of={ComponentStories.WithCustomOverflowButton} />

## With sticky sub-headers

To display sticky sub-headers that line-up with the standard header of the `DynamicPage` you're able to render `children` as function.
There you receive an object as parameter that offers the following properties:

- `stickyHeaderHeight`: The height of the `DynamicPage` header sections which will stick to the top of the page.

<Canvas of={ComponentStories.StickySubHeaders} sourceState="none" />

### Code

```jsx
<DynamicPage {...props}>
  {({ stickyHeaderHeight }) => (
    <>
      <div
        style={{
          position: 'sticky',
          width: '100%',
          height: '4rem',
          background: 'lightgreen',
          top: `${stickyHeaderHeight}px`
        }}
      >
        Sticky Header
      </div>
      <div style={{ width: '100%', background: 'orange', height: '10rem' }}>Content</div>
      <div
        style={{
          position: 'sticky',
          width: '100%',
          height: '8rem',
          background: 'lightgreen',
          top: `calc(${stickyHeaderHeight}px + 4rem)`
        }}
      >
        Sticky Header 2
      </div>
      <div style={{ background: 'lightblue', height: '2000px', width: '100%' }}>Content</div>
    </>
  )}
</DynamicPage>
```

<Markdown>{SubcomponentsSection}</Markdown>

## DynamicPageTitle

<Description of={DynamicPageTitle} />

<ArgTypesWithNote of={DynamicPageTitle} />

## DynamicPageHeader

<Description of={DynamicPageHeader} />

<ArgTypesWithNote of={DynamicPageHeader} />

<Footer />
