import{h as v,j as u,p as M,d as x,s as c,m as E,y as w,B as C,b as N,e as T,E as D}from"./jsx-runtime-2NO35c9p.js";import{d as P}from"./slot-_4yKMUwC.js";import{l as p}from"./event-strict-DgQLNDEV.js";import{B as S,m as B,D as R,P as A,b as g,i as $,c as b,K as h}from"./Keys-CLf_QmYW.js";import{i as j}from"./i18n-CjR4HGlq.js";import"./slim-arrow-right-Db6husuF.js";import{e as z}from"./Popover-DHgn1IwJ.js";import{i as f,a as _,b as I}from"./MenuItem-Dzrec60C.js";import{R as L}from"./ResponsivePopover-DbareGdm.js";import{d as k}from"./List-2melzpex.js";import{B as K}from"./BusyIndicator-kBFPsFJK.js";import{a as U}from"./Button-DsiN4KEf.js";import{d as F}from"./decline-Cf8Y7eZn.js";import{M as H,g as q}from"./i18n-defaults-Wx6G1HAa.js";import{d as G}from"./parameters-bundle.css-D0uTR4GL.js";function W(){return v(L,{id:`${this._id}-menu-rp`,class:"ui5-menu-rp",placement:"Bottom",verticalAlign:"Bottom",horizontalAlign:this.horizontalAlign,opener:this.opener,open:this.open,preventInitialFocus:!0,hideArrow:!0,allowTargetOverlap:!0,accessibleName:this.acessibleNameText,onBeforeOpen:this._beforePopoverOpen,onOpen:this._afterPopoverOpen,onBeforeClose:this._beforePopoverClose,onClose:this._afterPopoverClose,children:[this.isPhone&&v("div",{slot:"header",class:"ui5-menu-dialog-header",children:[u("div",{class:"ui5-menu-dialog-title",children:u("h1",{children:this.headerText})}),u(U,{icon:F,design:"Transparent","aria-label":this.labelClose,onClick:this._close})]}),u("div",{id:`${this._id}-menu-main`,children:this.items.length?u(k,{id:`${this._id}- menu-list`,selectionMode:"None",loading:this.loading,loadingDelay:this.loadingDelay,separators:"None",accessibleRole:"Menu",onItemClick:this._itemClick,onMouseOver:this._itemMouseOver,onKeyDown:this._itemKeyDown,"onui5-close-menu":this._close,"onui5-exit-end-content":this._navigateOutOfEndContent,children:u("slot",{})}):this.loading&&u(K,{id:`${this._id}-menu-busy-indicator`,delay:this.loadingDelay,class:"ui5-menu-busy-indicator",active:!0})})]})}M("@ui5/webcomponents-theming","sap_horizon",async()=>x);M("@ui5/webcomponents","sap_horizon",async()=>G);const V=`:host{line-height:initial}::slotted([ui5-menu-item]){line-height:inherit}.ui5-menu-rp[ui5-responsive-popover]::part(header),.ui5-menu-rp[ui5-responsive-popover]::part(content),.ui5-menu-rp[ui5-responsive-popover]::part(footer){padding:0}.ui5-menu-rp[ui5-responsive-popover]{box-shadow:var(--sapContent_Shadow1);border-radius:var(--_ui5-v2-12-0_menu_popover_border_radius)}.ui5-menu-busy-indicator{width:100%}.ui5-menu-dialog-header{display:flex;height:var(--_ui5-v2-12-0-responsive_popover_header_height);align-items:center;justify-content:space-between;padding:0px 1rem;width:100%;overflow:hidden}.ui5-menu-dialog-title{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:calc(100% - 6.5rem);padding-right:1rem;font-family:var(--sapFontHeaderFamily)}.ui5-menu-dialog-title>h1{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--sapFontHeader5Size)}.ui5-menu-back-button{margin-right:1rem}
`;var a=function(m,e,t,o){var n=arguments.length,i=n<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(m,e,t,o);else for(var r=m.length-1;r>=0;r--)(l=m[r])&&(i=(n<3?l(i):n>3?l(e,t,i):l(e,t))||i);return n>3&&i&&Object.defineProperty(e,t,i),i},d;const Y=300;let s=d=class extends C{constructor(){super(...arguments),this.open=!1,this.horizontalAlign="Start",this.loading=!1,this.loadingDelay=1e3}get isRtl(){return this.effectiveDir==="rtl"}get labelClose(){return d.i18nBundle.getText(H)}get isPhone(){return N()}get _popover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}get _list(){return this.shadowRoot.querySelector("[ui5-list]")}get _menuItemGroups(){return this.items.filter(f)}get _menuItems(){return this.items.filter(_)}get _allMenuItems(){const e=[];return this.items.forEach(t=>{f(t)?e.push(...t._menuItems):I(t)||e.push(t)}),e}get _navigatableMenuItems(){const e=[];return this.getSlottedNodes("items").forEach(o=>{if(f(o)){const n=o.getSlottedNodes("items");e.push(...n)}else I(o)||e.push(o)}),e}get acessibleNameText(){return d.i18nBundle.getText(q)}onBeforeRendering(){const e=this._allMenuItems.some(t=>!!t.icon);this._setupItemNavigation(),this._allMenuItems.forEach(t=>{t._siblingsWithIcon=e})}_setupItemNavigation(){this._list&&(this._list._itemNavigation._getItems=()=>this._navigatableMenuItems)}_close(){this.open=!1}_openItemSubMenu(e){clearTimeout(this._timeout),!(!e._popover||e._popover.open)&&(this.fireDecoratorEvent("before-open",{item:e}),e._popover.opener=e,e._popover.open=!0,e.selected=!0)}_itemMouseOver(e){if(!T())return;const t=e.target;_(t)&&(t.focus(),this._startOpenTimeout(t))}async focus(e){await D();const t=this._allMenuItems[0];return t?t.focus(e):super.focus(e)}_closeOtherSubMenus(e){const t=this._allMenuItems;t.includes(e)&&t.forEach(o=>{o!==e&&o._close()})}_startOpenTimeout(e){clearTimeout(this._timeout),this._timeout=setTimeout(()=>{this._closeOtherSubMenus(e),this._openItemSubMenu(e)},Y)}_itemClick(e){const t=e.detail.item;t._popover?this._openItemSubMenu(t):!this.fireDecoratorEvent("item-click",{item:t,text:t.text||""})||(t._updateCheckedState(),this._popover&&t.fireDecoratorEvent("close-menu"))}_itemKeyDown(e){const t=S(e)||B(e),o=e.target;if(!_(o))return;const n=this._allMenuItems.includes(o),i=R(e)||A(e),l=g(e)||$(e),r=b(e)||h(e),y=this.isRtl?h(e):b(e),O=n&&!(i||l||r);(g(e)||t)&&e.preventDefault(),r&&o._navigateToEndContent(h(e)),y?this._openItemSubMenu(o):(O||t)&&this._close()}_navigateOutOfEndContent(e){const t=e.target,o=e.detail.shouldNavigateToNextItem,n=this._allMenuItems,i=n.indexOf(t);if(i>-1){const r=(o?n[i+1]:n[i-1])||n[i];r==null||r.focus(),e.stopPropagation()}}_beforePopoverOpen(e){!this.fireDecoratorEvent("before-open",{})&&(this.open=!1,e.preventDefault())}_afterPopoverOpen(){var e;(e=this._allMenuItems[0])==null||e.focus(),this.fireDecoratorEvent("open")}_beforePopoverClose(e){!this.fireDecoratorEvent("before-close",{escPressed:e.detail.escPressed})&&(this.open=!0,e.preventDefault())}_afterPopoverClose(){this.open=!1,this.fireDecoratorEvent("close")}};a([c()],s.prototype,"headerText",void 0);a([c({type:Boolean})],s.prototype,"open",void 0);a([c()],s.prototype,"horizontalAlign",void 0);a([c({type:Boolean})],s.prototype,"loading",void 0);a([c({type:Number})],s.prototype,"loadingDelay",void 0);a([c({converter:z})],s.prototype,"opener",void 0);a([P({default:!0,type:HTMLElement,invalidateOnChildChange:!0})],s.prototype,"items",void 0);a([j("@ui5/webcomponents")],s,"i18nBundle",void 0);s=d=a([E({tag:"ui5-menu",renderer:w,styles:V,template:W}),p("item-click",{cancelable:!0}),p("before-open",{bubbles:!0,cancelable:!0}),p("open",{bubbles:!0}),p("close-menu",{bubbles:!0}),p("before-close",{bubbles:!0,cancelable:!0}),p("close")],s);s.define();const J=s,de=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"}));export{J as M,de as a,V as m};
