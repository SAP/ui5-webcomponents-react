import{j as x,p as _,d as E,s as v,m as I,y as j,E as M}from"./jsx-runtime-CkEx_Gfk.js";import{d as T}from"./parameters-bundle.css-Dkq9X0yL.js";let g=null,L=!1;const w=new Set,y=new Set,P=e=>{!e.dataTransfer||!(e.target instanceof HTMLElement)||y.has(e.target)||(g=e.target)},S=()=>{g=null},N=()=>{g=null},F=e=>{g=e},U=()=>g,Y=()=>{document.body.addEventListener("dragstart",P),document.body.addEventListener("dragend",S),document.body.addEventListener("drop",N)},q=e=>{w.add(e),Y()},G=e=>{w.delete(e),w.size},J=e=>(y.add(e),F),K=e=>{y.delete(e)},te={subscribe:q,unsubscribe:G,addSelfManagedArea:J,removeSelfManagedArea:K,getDraggedElement:U};var u=(e=>(e.Vertical="Vertical",e.Horizontal="Horizontal",e))(u||{}),r=(e=>(e.On="On",e.Before="Before",e.After="After",e))(r||{});const R=(e,t,o,l)=>{const n=Math.abs(e-t),i=Math.abs(e-o),a=Math.abs(e-l),c=Math.min(n,i,a);let p=[];switch(c){case n:p=[r.Before];break;case i:p=[r.On,n<a?r.Before:r.After];break;case a:p=[r.After];break}return p},oe=(e,t,o)=>{let l=Number.POSITIVE_INFINITY,n=null;for(let m=0;m<e.length;m++){const D=e[m],{left:$,width:z,top:H,height:V}=D.getBoundingClientRect();let A;o===u.Vertical?A=H+V/2:A=$+z/2;const C=Math.abs(t-A);C<l&&(l=C,n=D)}if(!n)return null;const{width:i,height:a,left:c,right:p,top:d,bottom:s}=n.getBoundingClientRect();let f;return o===u.Vertical?f=R(t,d,d+a/2,s):f=R(t,c,c+i/2,p),{element:n,placements:f}},B=(e,t)=>(t--,t<0?[]:[{element:e[t],placement:r.Before}]),O=(e,t)=>(t++,t>=e.length?[]:[{element:e[t],placement:r.After}]),k={ArrowLeft:B,ArrowUp:B,ArrowRight:O,ArrowDown:O,Home:(e,t)=>e.slice(0,t).map(o=>({element:o,placement:r.Before})),End:(e,t)=>e.slice(t+1,e.length).reverse().map(o=>({element:o,placement:r.After}))},re=(e,t,o)=>Q(o.key)?k[o.key](e,e.indexOf(t)):[],Q=e=>e in k;function W(){return x("div",{class:{"ui5-di-rect":this.placement===r.On,"ui5-di-needle":this.placement!==r.On}})}_("@ui5/webcomponents-theming","sap_horizon",async()=>E);_("@ui5/webcomponents","sap_horizon",async()=>T);const X=`:host{position:absolute;pointer-events:none;z-index:99}:host([orientation="Vertical"]) .ui5-di-needle{width:.125rem;height:100%;inset-block:0;background:var(--sapContent_DragAndDropActiveColor)}:host([orientation="Vertical"]){margin-left:-.0625rem}:host([orientation="Horizontal"]) .ui5-di-needle{height:.125rem;width:100%;inset-inline:0;background:var(--sapContent_DragAndDropActiveColor)}:host([orientation="Horizontal"]){margin-top:-.0625rem}:host([orientation="Horizontal"][placement="Before"][first]){margin-top:.3125rem}:host([orientation="Horizontal"][placement="After"][last]){margin-top:-.3125rem}:host([orientation="Vertical"]) .ui5-di-needle:before{left:-.1875rem;content:"";position:absolute;width:.25rem;height:.25rem;border-radius:.25rem;border:.125rem solid var(--sapContent_DragAndDropActiveColor);background-color:#fff;pointer-events:none}:host([orientation="Horizontal"]) .ui5-di-needle:before{top:-.1875rem;content:"";position:absolute;width:.25rem;height:.25rem;border-radius:.25rem;border:.125rem solid var(--sapContent_DragAndDropActiveColor);background-color:#fff;pointer-events:none}:host .ui5-di-rect{border:.125rem solid var(--sapContent_DragAndDropActiveColor);position:absolute;inset:0}:host .ui5-di-rect:before{content:" ";position:absolute;inset:0;background:var(--sapContent_DragAndDropActiveColor);opacity:.05}
`;var b=function(e,t,o,l){var n=arguments.length,i=n<3?t:l===null?l=Object.getOwnPropertyDescriptor(t,o):l,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,o,l);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(n<3?a(i):n>3?a(t,o,i):a(t,o))||i);return n>3&&i&&Object.defineProperty(t,o,i),i};let h=class extends M{get _positionProperty(){return this.orientation===u.Vertical?"left":"top"}constructor(){super(),this.targetReference=null,this.ownerReference=null,this.placement="Before",this.orientation="Vertical"}onAfterRendering(){if(!this.targetReference||!this.ownerReference){Object.assign(this.style,{display:"none"});return}const{left:t,width:o,right:l,top:n,bottom:i,height:a}=this.targetReference.getBoundingClientRect(),{top:c,height:p}=this.ownerReference.getBoundingClientRect(),d={display:"",[this._positionProperty]:"",width:"",height:""};let s=0,f=!1,m=!1;if(this.orientation===u.Vertical){switch(this.placement){case r.Before:s=t;break;case r.On:d.width=`${o}px`,s=t;break;case r.After:s=l;break}d.height=`${a}px`}if(this.orientation===u.Horizontal){switch(this.placement){case r.Before:s=n;break;case r.On:d.height=`${a}px`,s=n;break;case r.After:s=i;break}d.width=`${o}px`,s-=c,s<=0&&(m=!0),s>=p&&(f=!0)}d[this._positionProperty]=`${s}px`,this.toggleAttribute("first",m),this.toggleAttribute("last",f),Object.assign(this.style,d)}};b([v({type:Object})],h.prototype,"targetReference",void 0);b([v({type:Object})],h.prototype,"ownerReference",void 0);b([v()],h.prototype,"placement",void 0);b([v()],h.prototype,"orientation",void 0);h=b([I({tag:"ui5-drop-indicator",renderer:j,styles:X,template:W})],h);h.define();const ie=h;export{ie as D,oe as L,Q as P,u as a,re as k,te as p,r};
