import{i as r}from"./isElementHidden-gS67o0pl.js";import{v as u,q as f}from"./jsx-runtime-2NO35c9p.js";const c=/^(?:a|area)$/i,d=/^(?:input|select|textarea|button)$/i,h=t=>{if(t.disabled)return!1;const e=t.getAttribute("tabindex");return e!=null?parseInt(e)>=0:d.test(t.nodeName)||c.test(t.nodeName)&&!!t.href},m=t=>t.hasAttribute("data-ui5-focus-trap"),p=t=>{const e=getComputedStyle(t);return t.scrollHeight>t.clientHeight&&["scroll","auto"].indexOf(e.overflowY)>=0||t.scrollWidth>t.clientWidth&&["scroll","auto"].indexOf(e.overflowX)>=0},E=async(t,e)=>!t||r(t)?null:a(t,!0),C=async(t,e)=>!t||r(t)?null:a(t,!1),b=t=>t.hasAttribute("data-ui5-focus-redirect")||!r(t),g=t=>{if(u(t)){const e=t.getAttribute("tabindex");if(e!==null&&parseInt(e)<0)return!0}return!1},a=async(t,e,w)=>{let n,o,i=-1;t.shadowRoot?n=e?t.shadowRoot.firstChild:t.shadowRoot.lastChild:t instanceof HTMLSlotElement&&t.assignedNodes()?(o=t.assignedElements(),i=e?0:o.length-1,n=o[i]):n=e?t.firstElementChild:t.lastElementChild;let l;for(;n;){const s=n;if(!r(s)&&!g(s)){if(u(n)&&(await n._waitForDomRef(),n=n.getDomRef()),!n||r(n))return null;if(n.nodeType===1&&b(n)&&!m(n)){if(h(n)||(l=await a(n,e),!f()&&!l&&p(n)))return n&&typeof n.focus=="function"?n:null;if(l)return l&&typeof l.focus=="function"?l:null}}n=e?s.nextElementSibling:s.previousElementSibling,o&&!o[i].contains(n)&&(i=e?i+1:i-1,n=o[i])}return null};export{C as H,E as b,h as r};
