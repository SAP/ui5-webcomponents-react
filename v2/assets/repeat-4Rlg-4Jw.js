import{L as b,x as w}from"./utils-B6HmSsR9.js";import{e as S,i as k,t as H}from"./LitRenderer-C0cd4aHy.js";/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I}=b,y=()=>document.createComment(""),h=(e,r,t)=>{var A;const u=e._$AA.parentNode,n=r===void 0?e._$AB:r._$AA;if(t===void 0){const l=u.insertBefore(y(),n),f=u.insertBefore(y(),n);t=new I(l,f,e,e.options)}else{const l=t._$AB.nextSibling,f=t._$AM,v=f!==e;if(v){let i;(A=t._$AQ)===null||A===void 0||A.call(t,e),t._$AM=e,t._$AP!==void 0&&(i=e._$AU)!==f._$AU&&t._$AP(i)}if(l!==n||v){let i=t._$AA;for(;i!==l;){const $=i.nextSibling;u.insertBefore(i,n),i=$}}}return t},_=(e,r,t=e)=>(e._$AI(r,t),e),M={},P=(e,r=M)=>e._$AH=r,C=e=>e._$AH,m=e=>{var r;(r=e._$AP)===null||r===void 0||r.call(e,!1,!0);let t=e._$AA;const A=e._$AB.nextSibling;for(;t!==A;){const u=t.nextSibling;t.remove(),t=u}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const B=(e,r,t)=>{const A=new Map;for(let u=r;u<=t;u++)A.set(e[u],u);return A},j=S(class extends k{constructor(e){if(super(e),e.type!==H.CHILD)throw Error("repeat() can only be used in text expressions")}ht(e,r,t){let A;t===void 0?t=r:r!==void 0&&(A=r);const u=[],n=[];let l=0;for(const f of e)u[l]=A?A(f,l):l,n[l]=t(f,l),l++;return{values:n,keys:u}}render(e,r,t){return this.ht(e,r,t).values}update(e,[r,t,A]){var u;const n=C(e),{values:l,keys:f}=this.ht(r,t,A);if(!Array.isArray(n))return this.ut=f,l;const v=(u=this.ut)!==null&&u!==void 0?u:this.ut=[],i=[];let $,x,s=0,c=n.length-1,o=0,a=l.length-1;for(;s<=c&&o<=a;)if(n[s]===null)s++;else if(n[c]===null)c--;else if(v[s]===f[o])i[o]=_(n[s],l[o]),s++,o++;else if(v[c]===f[a])i[a]=_(n[c],l[a]),c--,a--;else if(v[s]===f[a])i[a]=_(n[s],l[a]),h(e,i[a+1],n[s]),s++,a--;else if(v[c]===f[o])i[o]=_(n[c],l[o]),h(e,n[s],n[c]),c--,o++;else if($===void 0&&($=B(f,o,a),x=B(v,s,c)),$.has(v[s]))if($.has(v[c])){const d=x.get(f[o]),p=d!==void 0?n[d]:null;if(p===null){const g=h(e,n[s]);_(g,l[o]),i[o]=g}else i[o]=_(p,l[o]),h(e,n[s],p),n[d]=null;o++}else m(n[c]),c--;else m(n[s]),s++;for(;o<=a;){const d=h(e,i[a+1]);_(d,l[o]),i[o++]=d}for(;s<=c;){const d=n[s++];d!==null&&m(d)}return this.ut=f,P(e,i),w}});export{j as c};
